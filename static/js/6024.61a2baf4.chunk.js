"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6024],{23401:function(e,n,r){var t=r(74165),i=r(15861),s=r(47670),a=r(30464),o=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post(a.v.transaction.CHECKOUT,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post(a.v.transaction.TRANSACTIONS,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(a.v.transaction.TRANSACTIONS,{params:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(a.v.transaction.TRANSACTION_DETAILS(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(a.v.transaction.ORDER_DETAILS(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),h={createCheckout:o,getTransactionHistory:d,createTransaction:c,getTransactionDetail:l,getOrderDetails:u};n.Z=h},83669:function(e,n,r){var t=r(74165),i=r(15861),s=r(23401),a=r(14737),o=r(45827),c=r(88851);n.Z=function(){var e=(0,o.T)(),n=(0,o.C)((function(e){return e.transactionOrderHistory})),r=n.transactionOrderHistory,d=n.deliveryStatus,l=n.page,u=n.showOrderDetail,h=n.showTransactionDetail,x=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(r){var i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(null===r||void 0===r?void 0:r.status)===a.cB.ALL&&(r.status=void 0),n.next=3,s.Z.getTransactionHistory(r);case 3:if(!(i=n.sent).is_success){n.next=7;break}return e((0,c.QE)(i.data)),n.abrupt("return",i.data);case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getTransactionDetail(n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getOrderDetails(n);case 2:if(!(r=e.sent).is_success){e.next=5;break}return e.abrupt("return",r.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getTransactionDetail(n);case 2:if(!(r=e.sent).is_success){e.next=5;break}return e.abrupt("return",r.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetchTransactionHistory:x,fetchOrderDetails:f,fetchTransactionDetail:j,transactionOrderHistory:r,setTransactionOrderHistory:function(n){e((0,c.QE)(n))},deliveryStatus:d,setDeliveryStatus:function(n){e((0,c.Bm)(n))},page:l,setPage:function(n){e((0,c.YA)(n))},getTransactionDetail:p,showOrderDetail:u,setShowOrderDetail:function(n){e((0,c.oz)(n))},showTransactionDetail:h,setShowTransactionDetail:function(n){e((0,c.sf)(n))}}}},87129:function(e,n,r){var t=r(47313);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BAZR",n=document.getElementById("title");(0,t.useEffect)((function(){n.innerHTML=e}),[e])}},64968:function(e,n,r){r.r(n),r.d(n,{default:function(){return Ne}});var t=r(43964),i=r(11681),s=r(13338),a=r(53022),o=r(63714),c=r(59934),d=r(46036),l=r(94129),u=r(47313),h=r(83669),x=r(65098),p=r(10658),f=r.n(p),j=r(14737),m=r(46417);var v=function(e){return(0,m.jsx)(t.kC,{justifyContent:"center",alignItems:"center",paddingX:2,paddingY:1,marginBottom:1,borderRadius:"lg",bg:"teal.300",color:"white",fontWeight:"bold",fontSize:"xs",role:e.role,onClick:e.onClick,children:e.label})};var g=function(){var e=(0,h.Z)(),n=e.fetchTransactionHistory,r=e.transactionOrderHistory,i=e.deliveryStatus,s=e.page,a=e.setShowTransactionDetail;(0,u.useEffect)((function(){n({page:s,status:i})}),[i,s]);var o=function(e){a({transactionId:e.id})};return(0,m.jsx)(t.xu,{children:0!==r.data.length?r.data.map((function(e,n){return(0,m.jsxs)(t.kC,{direction:"column",marginY:3,borderRadius:"xl",padding:5,bg:"gray.300",children:[(0,m.jsxs)(t.xu,{marginBottom:3,paddingX:5,children:[(0,m.jsxs)(t.kC,{fontWeight:"thin",justifyContent:"space-between",children:[(0,m.jsxs)(t.kC,{children:[(0,m.jsx)(t.xv,{marginEnd:3,children:"Transaction ID :"}),(0,m.jsx)(t.xv,{children:e.id})]}),(0,m.jsx)(t.xu,{children:(0,m.jsxs)(t.kC,{children:[(0,m.jsx)(t.xv,{marginEnd:3,children:"Payment Date :"}),(0,m.jsx)(t.xv,{children:f()(e.transaction_date).format("DD MMM YYYY")})]})})]}),(0,m.jsxs)(t.kC,{fontWeight:"thin",children:[(0,m.jsx)(t.xv,{marginEnd:3,children:"Payment Method :"}),(0,m.jsx)(t.xv,{children:e.payment_method})]})]}),(0,m.jsx)(t.xu,{children:e.orders.map((function(n,r){return(0,m.jsxs)(t.kC,{direction:"column",marginY:2,padding:3,bg:"gray.200",borderRadius:"xl",children:[(0,m.jsxs)(t.kC,{alignItems:"center",paddingX:3,justifyContent:"space-between",children:[(0,m.jsx)(t.xu,{fontSize:{base:"xl",sm:"xx-large"},fontWeight:"bold",children:n.shop_name}),(0,m.jsx)(t.xu,{fontWeight:"bold",fontSize:"lg",color:"primary",children:n.delivery_status})]}),(0,m.jsx)(t.iz,{marginY:4}),n.list_of_products.map((function(r,i){return(0,m.jsx)(t.xu,{bg:"gray.50",marginY:1,role:"button",borderRadius:"lg",onClick:function(){return o(e)},children:(0,m.jsxs)(t.kC,{margin:3,children:[(0,m.jsx)(x.Ee,{src:r.photo,width:"24",height:"24"}),(0,m.jsxs)(t.kC,{justifyContent:"space-between",margin:1,width:"100%",alignItems:"center",children:[(0,m.jsxs)(t.kC,{marginStart:3,direction:"column",children:[(0,m.jsx)(t.xu,{fontWeight:"bold",children:r.name}),(0,m.jsxs)(t.xu,{children:["x ",r.qty]})]}),(0,m.jsxs)(t.kC,{direction:"column",alignItems:"center",children:[(0,m.jsxs)(t.kC,{children:[(0,m.jsx)(t.xu,{children:"Rp"}),(0,m.jsx)(t.xu,{children:(0,l.xG)(r.price)})]}),j.MI.includes(n.delivery_status)?(0,m.jsx)(v,{label:"Refund"}):"",j.ah.includes(n.delivery_status)?r.is_reviewed?"":(0,m.jsx)(v,{label:"Add Review"}):""]})]},"".concat(r.name,";").concat(i))]})},"".concat(r.name,";").concat(i))})),(0,m.jsx)(t.kC,{justifyContent:"end",margin:3,children:j.pC.includes(n.delivery_status)?(0,m.jsx)(v,{label:"Confirm Order Received",role:"button",onClick:function(){o(e)}}):""}),(0,m.jsx)(t.iz,{marginY:4}),(0,m.jsxs)(t.kC,{alignItems:"center",paddingX:3,justifyContent:"end",children:[(0,m.jsx)(t.xu,{paddingEnd:3,children:"Subtotal:"}),(0,m.jsx)(t.xu,{fontSize:{base:"unset",sm:"x-large"},color:"primary",children:(0,m.jsxs)(t.kC,{children:[(0,m.jsx)(t.xu,{children:"Rp"}),(0,m.jsx)(t.xu,{children:(0,l.xG)(n.total)})]})})]})]},"".concat(n.shop_name,";").concat(r))}))}),(0,m.jsx)(t.xu,{marginTop:3,paddingX:5,children:(0,m.jsxs)(t.kC,{alignItems:"center",justifyContent:"end",children:[(0,m.jsx)(t.xv,{fontWeight:"semibold",marginEnd:3,children:"Total :"}),(0,m.jsx)(t.kC,{fontSize:{base:"unset",sm:"xx-large"},color:"primary",children:(0,m.jsxs)(t.kC,{children:[(0,m.jsx)(t.xu,{children:"Rp"}),(0,m.jsx)(t.xu,{children:(0,l.xG)(e.grand_total)})]})})]})})]},"".concat(e.id,";").concat(n))})):(0,m.jsx)(t.kC,{paddingTop:5,justifyContent:"center",children:"No Transactions"})})},b=r(25883);var C=function(){var e=(0,h.Z)(),n=e.transactionOrderHistory,r=e.setPage;return(0,m.jsx)(t.xu,{children:0!==n.data.length?(0,m.jsx)(b.Z,{data:{current_page:n.current_page,total_page:n.total_page},setPage:r}):""})};var Z=function(e){return(0,m.jsx)(o.OK,{w:"max-content",whiteSpace:"nowrap",_selected:{color:"primary",borderBottomColor:"primary"},onClick:e.onClick,children:e.text})};var y=function(){var e=(0,h.Z)(),n=e.setDeliveryStatus,r=e.setPage,i=function(e){n(e),r(1)};return(0,m.jsx)(t.xu,{children:(0,m.jsx)(o.mQ,{children:(0,m.jsxs)(o.td,{h:"fit-content",overflowX:"scroll",overflowY:"hidden",className:"example",children:[(0,m.jsx)(Z,{text:"All",onClick:function(){return i(j.cB.ALL)}}),(0,m.jsx)(Z,{text:"Waiting For Seller",onClick:function(){return i(j.cB.WAITING_SELLER)}}),(0,m.jsx)(Z,{text:"On Process",onClick:function(){return i(j.cB.ON_PROCESS)}}),(0,m.jsx)(Z,{text:"On Delivery",onClick:function(){return i(j.cB.ON_DELIVERY)}}),(0,m.jsx)(Z,{text:"Delivered",onClick:function(){return i(j.cB.DELIVERED)}}),(0,m.jsx)(Z,{text:"Received",onClick:function(){return i(j.cB.RECEIVED)}}),(0,m.jsx)(Z,{text:"Completed",onClick:function(){return i(j.cB.COMPLETED)}}),(0,m.jsx)(Z,{text:"Canceled",onClick:function(){return i(j.cB.CANCELED)}}),(0,m.jsx)(Z,{text:"Refunded",onClick:function(){return i(j.cB.REFUNDED)}})]})})})},w=r(74165),k=r(15861),S=r(29439),_=r(84959),I=r(32768),O=r(8914),N=r(88679),R=r(69748),z=r(93433),D=r(53068),A=r(82195),T=r(72849),P=r(45598),E=r(2183);var W=function(e){var n=(0,u.useState)([]),r=(0,S.Z)(n,2),i=r[0],s=r[1],a=(0,u.useState)(""),o=(0,S.Z)(a,2),c=o[0],l=o[1],h=(0,T.Z)().uploadProductPhoto,p=(0,P.Z)(),f=p.errorToast,j=p.successToast,v=(0,E.Z)().createRefund,g=(0,d.Z)().user,b=function(){var n=(0,k.Z)((0,w.Z)().mark((function n(){var r,t,s,a;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==g&&void 0!==g&&g.wallet_detail.is_activated){n.next=3;break}return f("Please activate your wallet"),n.abrupt("return");case 3:return r={order_id:Number(e.orderId),note:c,photos:[]},t={photos:i},n.next=7,h(t);case 7:if((s=n.sent).is_success){n.next=11;break}return f(s.message),n.abrupt("return");case 11:return s.data.urls.forEach((function(e){r.photos=[].concat((0,z.Z)(r.photos),[e])})),n.next=14,v(r);case 14:if((a=n.sent).is_success){n.next=18;break}return f(a.message),n.abrupt("return");case 18:j("Refund has been requested"),e.onClose();case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,m.jsxs)(O.u_,{isOpen:e.isOpen,onClose:e.onClose,size:"3xl",children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Raise Refund Request"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(O.fe,{children:(0,m.jsxs)(t.kC,{direction:"column",gap:5,children:[(0,m.jsx)(t.xv,{width:"40%",children:"Order ID"}),(0,m.jsx)(D.II,{disabled:!0,value:e.orderId}),(0,m.jsx)(t.xv,{width:"40%",children:"Notes"}),(0,m.jsx)(D.II,{type:"text",placeholder:"Input",value:c,onChange:function(e){return l(e.currentTarget.value)}}),(0,m.jsx)(t.xv,{width:"40%",children:"Upload Photo"}),(0,m.jsx)(t.kC,{flexDirection:"row",width:"100%",children:(0,m.jsxs)(t.Eq,{width:"100%",children:[i.map((function(e,n){return console.log(e),(0,m.jsx)(t.Uc,{className:"imgContainer",children:(0,m.jsx)(x.Ee,{src:URL.createObjectURL(e),width:"120px",height:"120px"})},n)})),(0,m.jsx)(t.Uc,{children:(0,m.jsx)(A.Z,{imgList:i,setImgList:s})})]})})]})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{colorScheme:"blue",mr:3,onClick:b,children:"Submit Refund"})})]})]})},M=r(30955);var L=function(e){var n=e.rows;return n.length>0?(0,m.jsx)(t.xu,{children:(0,m.jsx)(M.xJ,{children:(0,m.jsx)(M.iA,{size:"md",variant:"unstyled",children:(0,m.jsx)(M.p3,{children:n.map((function(e,n){return(0,m.jsxs)(M.Tr,{children:[(0,m.jsx)(M.Td,{paddingY:1,paddingEnd:0,children:(0,m.jsxs)(t.kC,{fontSize:e.fontSizeKey,fontWeight:e.fontWeightKey,children:[e.key,e.addOn]})}),(0,m.jsx)(M.Td,{paddingY:1,paddingX:2,children:(0,m.jsx)(t.kC,{flexGrow:0,flexShrink:1,children:":"})}),(0,m.jsx)(M.Td,{paddingY:1,paddingStart:0,children:(0,m.jsx)(t.kC,{fontSize:e.fontSizeValue,color:e.colorValue,justifyContent:e.justifyContentValue,fontWeight:e.fontWeightValue,children:e.value})})]},"".concat(e.key,";").concat(n))}))})})})}):(0,m.jsx)(t.kC,{})};var Y=function(){var e=(0,h.Z)(),n=e.setShowTransactionDetail,r=e.showTransactionDetail,i=e.fetchTransactionDetail,s=(0,d.Z)(),a=s.addConfirmUserReceivedOrder,o=s.addUserReview,p=(0,u.useState)(void 0),g=(0,S.Z)(p,2),b=g[0],C=g[1],Z=(0,u.useState)(0),y=(0,S.Z)(Z,2),z=y[0],D=y[1],A=(0,P.Z)().successToast,T=(0,_.qY)(),E=T.isOpen,M=T.onOpen,Y=T.onClose,q=(0,u.useState)(-1),B=(0,S.Z)(q,2),U=B[0],V=B[1],J=(0,u.useState)(0),G=(0,S.Z)(J,2),X=G[0],F=G[1],H=(0,_.qY)(),K=H.isOpen,$=H.onOpen,Q=H.onClose,ee=function(){D(Math.random())};return(0,u.useEffect)((function(){var e=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(){var n;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,i(r.transactionId);case 3:(n=e.sent)&&C(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r,z]),(0,m.jsxs)(t.kC,{direction:"column",children:[(0,m.jsx)(t.xu,{padding:5,children:(0,m.jsx)(t.xv,{role:"button",onClick:function(){return n(void 0)},variant:"outline",fontWeight:"bold",color:"primary",children:"< Back"})}),(0,m.jsx)(t.iz,{marginY:2}),(0,m.jsxs)(t.kC,{direction:"column",marginY:3,borderRadius:"xl",padding:5,bg:"gray.300",children:[(0,m.jsxs)(t.kC,{justifyContent:"space-between",children:[(0,m.jsx)(L,{rows:[{key:"Transaction ID",value:null===b||void 0===b?void 0:b.id,fontWeightKey:"thin",fontWeightValue:"thin"},{key:"Payment Method",value:null===b||void 0===b?void 0:b.payment_method,fontWeightKey:"thin",fontWeightValue:"thin"}]}),(0,m.jsx)(L,{rows:[{key:"Date",value:f()(null===b||void 0===b?void 0:b.transaction_date).format("DD MMM YYYY"),fontWeightKey:"thin",fontWeightValue:"thin"}]})]}),(0,m.jsx)(t.xu,{children:null===b||void 0===b?void 0:b.orders.map((function(e,n){return(0,m.jsxs)(t.kC,{direction:"column",marginY:2,padding:3,bg:"gray.200",borderRadius:"xl",children:[(0,m.jsxs)(t.kC,{alignItems:"center",paddingX:3,justifyContent:"space-between",children:[(0,m.jsx)(t.xu,{fontSize:{base:"xl",sm:"xx-large"},fontWeight:"bold",children:e.shop_name}),(0,m.jsx)(t.xu,{fontWeight:"bold",fontSize:"lg",color:"primary",children:e.delivery_status})]}),(0,m.jsx)(t.iz,{marginY:4}),e.items.map((function(n,r){return(0,m.jsx)(t.xu,{bg:"gray.50",marginY:1,borderRadius:"lg",children:(0,m.jsxs)(t.kC,{margin:3,children:[(0,m.jsx)(x.Ee,{src:n.photo,width:"24",height:"24"}),(0,m.jsxs)(t.kC,{justifyContent:"space-between",margin:1,width:"100%",alignItems:"center",children:[(0,m.jsxs)(t.kC,{marginStart:3,direction:"column",children:[(0,m.jsx)(t.xu,{fontWeight:"bold",children:n.name}),(0,m.jsxs)(t.xu,{children:["x ",n.qty]})]}),(0,m.jsxs)(t.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:[(0,m.jsxs)(t.kC,{children:[(0,m.jsx)(t.xu,{children:"Rp"}),(0,m.jsx)(t.xu,{children:(0,l.xG)(n.price)})]}),j.ah.includes(e.delivery_status)&&!1===n.is_reviewed?(0,m.jsx)(v,{label:"Add Review",role:"button",onClick:function(){V(n.id),M()}}):""]})]},"".concat(n.name,";").concat(r))]})},"".concat(n.name,";").concat(r))})),(0,m.jsxs)(t.kC,{justifyContent:"end",margin:3,children:[j.pC.includes(e.delivery_status)?(0,m.jsx)(v,{label:"Confirm Order Received",role:"button",onClick:function(){a(e.id).then((function(){A("Confirm Order Received Success"),ee()}))}}):"",j.MI.includes(e.delivery_status)?(0,m.jsx)(v,{label:"Refund",role:"button",onClick:function(){$(),F(e.id)}}):""]}),(0,m.jsx)(t.iz,{marginY:4}),(0,m.jsx)(t.kC,{justifyContent:"end",marginY:3,children:(0,m.jsx)(L,{rows:[{key:"Subtotal Product",value:"Rp".concat((0,l.xG)(e.subtotal)),justifyContentValue:"end"},{key:"Subtotal Discount",value:"Rp".concat((0,l.xG)(e.total_discount)),justifyContentValue:"end"},{key:"Subtotal Delivery Fee",value:"Rp".concat((0,l.xG)(e.delivery_fee)),justifyContentValue:"end"},{key:"Subtotal",value:"Rp".concat((0,l.xG)(e.total)),justifyContentValue:"end",fontSizeValue:"lg",colorValue:"primary"}]})})]},"".concat(e.shop_name,";").concat(n))}))}),(0,m.jsx)(t.kC,{bg:"#eaf5f5",borderRadius:"xl",padding:5,justifyContent:"end",marginTop:3,children:(0,m.jsx)(L,{rows:[{key:"Total Product",value:b?"Rp".concat((0,l.xG)(b.subtotal)):void 0,justifyContentValue:"end"},{key:"Total Discount",value:b?"Rp".concat((0,l.xG)(b.total_discount)):void 0,justifyContentValue:"end",addOn:b?(0,m.jsx)(I.u,{label:"Include Marketplace Discount Rp".concat((0,l.xG)(b.marketplace_discount)),children:(0,m.jsx)(t.xu,{marginStart:1,role:"button",children:(0,m.jsx)(c.Z.InfoCircle,{width:"0.7em"})})}):void 0},{key:"Total Delivery Fee",value:b?"Rp".concat((0,l.xG)(b.total_delivery_fee)):void 0,justifyContentValue:"end"},{key:"Total",value:b?"Rp".concat((0,l.xG)(b.total)):void 0,justifyContentValue:"end",fontSizeValue:"x-large",colorValue:"primary",fontWeightKey:"semibold"}]})})]}),(0,m.jsx)(W,{orderId:X,isOpen:K,onClose:Q}),(0,m.jsxs)(O.u_,{closeOnOverlayClick:!1,isOpen:E,size:"sm",isCentered:!0,onClose:Y,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:(0,m.jsxs)(t.kC,{direction:"column",children:[(0,m.jsx)(t.kC,{children:"Your review means a lot to us"}),(0,m.jsx)(t.iz,{marginY:2})]})}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(O.fe,{paddingY:5,children:(0,m.jsx)("form",{onSubmit:function(e){e.preventDefault();var n=document.getElementById("selectAddReviewRating"),r=parseInt(n.value);o(U,{rating_score:r}).then((function(){ee()})),Y()},children:(0,m.jsxs)(t.kC,{direction:"column",children:[(0,m.jsx)(t.xu,{children:(0,m.jsxs)(N.Ph,{required:!0,id:"selectAddReviewRating",children:[(0,m.jsx)("option",{value:"",children:"Add Rating"}),(0,m.jsx)("option",{value:"1",children:"1"}),(0,m.jsx)("option",{value:"2",children:"2"}),(0,m.jsx)("option",{value:"3",children:"3"}),(0,m.jsx)("option",{value:"4",children:"4"}),(0,m.jsx)("option",{value:"5",children:"5"})]})}),(0,m.jsx)(t.iz,{marginY:2}),(0,m.jsx)(t.kC,{justifyContent:"end",children:(0,m.jsx)(R.zx,{type:"submit",children:"Add Review"})})]})})})]})]})]})};var q=function(){var e=(0,h.Z)(),n=e.showTransactionDetail,r=e.setShowTransactionDetail;return(0,u.useEffect)((function(){r(void 0)}),[]),(0,m.jsx)(t.xu,{children:void 0===n?(0,m.jsxs)(t.xu,{children:[(0,m.jsx)(y,{}),(0,m.jsx)(g,{}),(0,m.jsx)(C,{})]}):(0,m.jsx)(Y,{})})},B=r(62128),U=r(720),V=r(7410),J=r(3463);var G=function(e){var n=J.Ry().shape({phone:J.Rx().required("Required")});return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(O.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Change Phone Number"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(V.J9,{initialValues:{phone:e.phone},validationSchema:n,onSubmit:function(e){console.log(e)},children:function(e){var n=e.handleSubmit,r=e.errors,t=e.touched;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsx)(O.fe,{children:(0,m.jsxs)(U.NI,{isInvalid:!!r.phone&&t.phone,children:[(0,m.jsx)(V.gN,{as:D.II,placeholder:"Phone",type:"number",name:"phone"}),(0,m.jsx)(U.J1,{children:r.phone})]})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{type:"submit",children:"Save"})})]})})}})]})]})})},X=r(19195);var F=function(e){var n=(0,d.Z)(),r=n.fetchProfile,t=n.editProfile,i=(0,u.useState)(!1),s=(0,S.Z)(i,2),a=s[0],o=s[1],c=(0,X.pm)(),l=J.Ry().shape({username:J.Z_().required("Required").matches(/^[a-zA-Z0-9]*$/,"Must not contain any space"),name:J.Z_().required("Required"),birth_date:J.Z_(),gender:J.Rx()}),h=function(){var n=(0,k.Z)((0,w.Z)().mark((function n(i){var s,a;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),n.next=3,t(i);case 3:(s=n.sent).is_success?(e.onClose(),c({title:s.message,status:"success",duration:3e3,isClosable:!0}),r()):c({title:null!==(a=s.message)&&void 0!==a?a:"error edit profile",status:"error",duration:3e3,isClosable:!0}),o(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(O.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Update Profile"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(V.J9,{initialValues:{username:e.username,name:e.name,birth_date:e.birth_date?f()(e.birth_date).format("YYYY-MM-DD"):"",gender:e.gender_id},validationSchema:l,onSubmit:function(e){var n={name:e.name,username:e.username,birth_date:e.birth_date,gender_id:Number(e.gender),profile_picture:null};h(n)},children:function(e){var n=e.handleSubmit,r=e.errors,t=e.touched;return(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsxs)(O.fe,{pb:6,children:[(0,m.jsxs)(U.NI,{isInvalid:!!r.username&&t.username,children:[(0,m.jsx)(U.lX,{children:"Username"}),(0,m.jsx)(V.gN,{as:D.II,placeholder:"Username",name:"username"}),(0,m.jsx)(U.J1,{children:r.username})]}),(0,m.jsxs)(U.NI,{mt:4,isInvalid:!!r.name&&t.name,children:[(0,m.jsx)(U.lX,{children:"Name"}),(0,m.jsx)(V.gN,{as:D.II,placeholder:"Name",name:"name"}),(0,m.jsx)(U.J1,{children:r.name})]}),(0,m.jsxs)(U.NI,{mt:4,isInvalid:!!r.birth_date&&t.birth_date,children:[(0,m.jsx)(U.lX,{children:"Birth Date"}),(0,m.jsx)(V.gN,{as:D.II,placeholder:"Select Date",name:"birth_date",type:"date"}),(0,m.jsx)(U.J1,{children:r.birth_date})]}),(0,m.jsxs)(U.NI,{mt:4,isInvalid:!!r.gender&&t.gender,children:[(0,m.jsx)(U.lX,{children:"Gender"}),(0,m.jsxs)(V.gN,{as:N.Ph,placeholder:"Select option",name:"gender",borderWidth:1,borderColor:"blackAlpha.200",fontWeight:"normal",children:[(0,m.jsx)("option",{value:"1",children:"Male"}),(0,m.jsx)("option",{value:"2",children:"Female"})]}),(0,m.jsx)(U.J1,{children:r.gender})]})]}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{type:"submit",_hover:{bg:"grey"},isLoading:a,loadingText:"Loading",children:"Save"})})]})}})]})]})})},H=r(12258),K=r(58467),$=r(43974);var Q=function(e){var n=(0,d.Z)(),r=n.sendEmailVerification,i=n.changeEmail,s=(0,u.useState)(!1),a=(0,S.Z)(s,2),o=a[0],c=a[1],l=(0,P.Z)(),h=l.successToast,x=l.errorToast,p=(0,K.s0)(),f=J.Ry().shape({email:J.Z_().email().required("Required")}),j=J.Ry().shape({code:J.Z_().required("Required").length(6)}),v=function(){var n=(0,k.Z)((0,w.Z)().mark((function n(t){var i;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.next=3,r(t);case 3:(i=n.sent).is_success?(e.onClose(),e.codeModalOnOpen(),h(i.message,3e3)):x(i.message,void 0,3e3),c(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=(0,k.Z)((0,w.Z)().mark((function n(r){var t;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.next=3,i(r);case 3:(t=n.sent).is_success?(e.codeModalOnClose(),h("".concat(t.message,". Please login again"),3e3),b()):x(t.message,void 0,3e3),c(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){(0,H.destroyCookie)(null,"auth"),localStorage.clear(),p($.Z.LOGIN,{replace:!0})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(O.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Change Email"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(V.J9,{initialValues:{email:e.email},validationSchema:f,onSubmit:function(e){v(e.email)},children:function(e){var n=e.handleSubmit,r=e.errors,t=e.touched;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsx)(O.fe,{children:(0,m.jsxs)(U.NI,{isInvalid:!!r.email&&t.email,children:[(0,m.jsx)(V.gN,{as:D.II,placeholder:"Email",name:"email"}),(0,m.jsx)(U.J1,{children:r.email})]})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{type:"submit",_hover:{bg:"grey"},isLoading:o,loadingText:"Loading",children:"Send Verification Code"})})]})})}})]})]}),(0,m.jsxs)(O.u_,{closeOnOverlayClick:!1,isOpen:e.codeModalIsOpen,onClose:e.codeModalOnClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Verification Code"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(V.J9,{initialValues:{code:""},validationSchema:j,onSubmit:function(e){g(e.code)},children:function(e){var n=e.handleSubmit,r=e.errors,t=e.touched;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsx)(O.fe,{children:(0,m.jsxs)(U.NI,{isInvalid:!!r.code&&t.code,children:[(0,m.jsx)(V.gN,{as:D.II,placeholder:"Code",name:"code"}),(0,m.jsx)(U.J1,{children:r.code})]})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{type:"submit",_hover:{bg:"grey"},isLoading:o,loadingText:"Loading",children:"Change Email"})})]})})}})]})]}),(0,m.jsxs)(O.u_,{isOpen:e.logoutModalIsOpen,onClose:e.logoutModalOnClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Logout"}),(0,m.jsx)(O.fe,{children:(0,m.jsx)(t.xv,{children:"Please sign in again."})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{_hover:{bg:"grey"},onClick:b,children:"Logout"})})]})]})]})},ee=r(96652);var ne=function(e){var n=(0,d.Z)(),r=n.user,t=n.fetchProfile,i=n.editProfile,s=n.uploadAvatar,a=(0,u.useState)(!1),o=(0,S.Z)(a,2),c=o[0],l=o[1],h=(0,X.pm)(),x=J.Ry().shape({photo:J.nK().required("Required").test("format","Unsupported file format",(function(e){return["image/png","image/jpg","image/jpeg"].includes(null===e||void 0===e?void 0:e.type)})).test("size","Uploaded file is too big.",(function(e){return e&&e.size<=5e5}))}),p=function(){var n=(0,k.Z)((0,w.Z)().mark((function n(a){var o;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.next=3,s(a);case 3:if(!(o=n.sent).is_success){n.next=13;break}if(e.onClose(),null===r){n.next=9;break}return n.next=9,i({username:r.username,name:r.name,profile_picture:o.data});case 9:h({title:o.message,status:"success",duration:3e3,isClosable:!0}),t(),n.next=14;break;case 13:h({title:o.message,status:"error",duration:3e3,isClosable:!0});case 14:l(!1);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(O.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Change Photo"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(V.J9,{initialValues:{photo:""},validationSchema:x,onSubmit:function(e){p(e)},children:function(e){var n=e.handleSubmit,r=e.setFieldValue,t=e.errors,i=e.touched;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsx)(O.fe,{children:(0,m.jsxs)(U.NI,{isInvalid:!!t.photo&&i.photo,children:[(0,m.jsx)(U.lX,{children:"Format: (.jpeg .jpg .png) Max: (500kb)"}),(0,m.jsx)(D.II,{name:"photo",accept:".jpg,.jpeg,.png",className:"form-control",type:"file",onChange:function(e){var n;if(null!==(n=e.currentTarget.files)&&void 0!==n&&n.length){var t=e.currentTarget.files[0];r("photo",t)}}}),(0,m.jsx)(U.J1,{children:t.photo})]})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{type:"submit",_hover:{bg:"grey"},isLoading:c,loadingText:"Loading",children:"Save"})})]})})}})]})]})})},re=r(87129),te=r(1413);var ie=function(e){var n=(0,d.Z)(),r=n.sendChangePasswordToken,i=n.changePassword,s=(0,u.useState)(!1),a=(0,S.Z)(s,2),o=a[0],l=a[1],h=(0,P.Z)(),x=h.successToast,p=h.errorToast,f=(0,K.s0)(),j=(0,u.useState)(!1),v=(0,S.Z)(j,2),g=v[0],b=v[1],C=(0,u.useState)(!1),Z=(0,S.Z)(C,2),y=Z[0],_=Z[1],I=(0,u.useState)(!1),N=(0,S.Z)(I,2),z=N[0],A=N[1],T=J.Ry().shape({old_password:J.Z_().required("Required").min(8,"Password must contain at least 8 characters").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])/,"Must contain at least One Uppercase, One Lowercase, One Number and one special case Character").matches(/^(\S+$)/,"No spaces allowed"),new_password:J.Z_().required("Required").min(8,"Password must contain at least 8 characters").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])/,"Must contain at least One Uppercase, One Lowercase, One Number and one special case Character").matches(/^(\S+$)/,"No spaces allowed"),confirm_password:J.Z_().required("Required").oneOf([J.iH("new_password"),null],"Password must match")}),E=J.Ry().shape({token:J.Z_().required("Required").length(6)}),W=function(){var n=(0,k.Z)((0,w.Z)().mark((function n(t){var i;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.next=3,r(t);case 3:(i=n.sent).is_success?(e.onClose(),e.tokenModalOnOpen(),x(i.message,3e3)):p(i.message,void 0,3e3),l(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),M=function(){var n=(0,k.Z)((0,w.Z)().mark((function n(r){var t;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.next=3,i(r);case 3:(t=n.sent).is_success?(e.tokenModalOnClose(),e.logoutModalOnOpen(),x(t.message,3e3)):p(t.message,void 0,3e3),l(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(O.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Change Password"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(V.J9,{initialValues:{old_password:"",new_password:"",confirm_password:""},validationSchema:T,onSubmit:function(e){W({old_password:e.old_password,new_password:e.new_password})},children:function(e){var n=e.handleSubmit,r=e.errors,t=e.touched;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsxs)(O.fe,{children:[(0,m.jsxs)(U.NI,{isInvalid:!!r.old_password&&t.old_password,children:[(0,m.jsx)(U.lX,{children:"Current Password"}),(0,m.jsx)(V.gN,{as:D.II,name:"old_password",type:"password",placeholder:"Current Password",variant:"filled",children:function(e){var n=e.field;return(0,m.jsxs)(D.BZ,{size:"md",children:[(0,m.jsx)(D.II,(0,te.Z)({pr:"4.5rem",type:g?"text":"password",placeholder:"Enter password",variant:"filled"},n)),(0,m.jsx)(D.xH,{marginEnd:2,children:(0,m.jsx)(R.zx,{size:"sm",onClick:function(){return b(!g)},variant:"link",children:g?(0,m.jsx)(c.Z.Hide,{fill:"darkLighten"}):(0,m.jsx)(c.Z.Show,{fill:"darkLighten"})})})]})}}),(0,m.jsx)(U.J1,{children:r.old_password})]}),(0,m.jsxs)(U.NI,{isInvalid:!!r.new_password&&t.new_password,my:5,children:[(0,m.jsx)(U.lX,{children:"New Password"}),(0,m.jsx)(V.gN,{as:D.II,placeholder:"New Password",name:"new_password",type:"password",variant:"filled",children:function(e){var n=e.field;return(0,m.jsxs)(D.BZ,{size:"md",children:[(0,m.jsx)(D.II,(0,te.Z)({pr:"4.5rem",type:y?"text":"password",placeholder:"Enter password",variant:"filled"},n)),(0,m.jsx)(D.xH,{marginEnd:2,children:(0,m.jsx)(R.zx,{size:"sm",onClick:function(){return _(!y)},variant:"link",children:y?(0,m.jsx)(c.Z.Hide,{fill:"darkLighten"}):(0,m.jsx)(c.Z.Show,{fill:"darkLighten"})})})]})}}),(0,m.jsx)(U.J1,{children:r.new_password})]}),(0,m.jsxs)(U.NI,{isInvalid:!!r.confirm_password&&t.confirm_password,children:[(0,m.jsx)(U.lX,{children:"Confirm Password"}),(0,m.jsx)(V.gN,{as:D.II,placeholder:"Confirm Password",name:"confirm_password",type:"password",variant:"filled",children:function(e){var n=e.field;return(0,m.jsxs)(D.BZ,{size:"md",children:[(0,m.jsx)(D.II,(0,te.Z)({pr:"4.5rem",type:z?"text":"password",placeholder:"Enter password",variant:"filled"},n)),(0,m.jsx)(D.xH,{marginEnd:2,children:(0,m.jsx)(R.zx,{size:"sm",onClick:function(){return A(!z)},variant:"link",children:z?(0,m.jsx)(c.Z.Hide,{fill:"darkLighten"}):(0,m.jsx)(c.Z.Show,{fill:"darkLighten"})})})]})}}),(0,m.jsx)(U.J1,{children:r.confirm_password})]})]}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{type:"submit",_hover:{bg:"grey"},isLoading:o,loadingText:"Loading",children:"Send Verification Code"})})]})})}})]})]}),(0,m.jsxs)(O.u_,{isOpen:e.tokenModalIsOpen,onClose:e.tokenModalOnClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Verification Code"}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(V.J9,{initialValues:{token:""},validationSchema:E,onSubmit:function(e){M(e.token)},children:function(e){var n=e.handleSubmit,r=e.errors,t=e.touched;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsx)(O.fe,{children:(0,m.jsxs)(U.NI,{isInvalid:!!r.token&&t.token,children:[(0,m.jsx)(V.gN,{as:D.II,placeholder:"Code",name:"token"}),(0,m.jsx)(U.J1,{children:r.token})]})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{type:"submit",_hover:{bg:"grey"},isLoading:o,loadingText:"Loading",children:"Change Password"})})]})})}})]})]}),(0,m.jsxs)(O.u_,{isOpen:e.logoutModalIsOpen,onClose:e.logoutModalOnClose,children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsx)(O.xB,{children:"Logout"}),(0,m.jsx)(O.fe,{children:(0,m.jsx)(t.xv,{children:"Please sign in again."})}),(0,m.jsx)(O.mz,{children:(0,m.jsx)(R.zx,{_hover:{bg:"grey"},onClick:function(){(0,H.destroyCookie)(null,"auth"),localStorage.clear(),f($.Z.LOGIN,{replace:!0})},children:"Logout"})})]})]})]})};var se=function(){var e,n,r,i,s,a,o;(0,re.Z)("Profile | BAZR");var l=(0,d.Z)().user,u=(0,_.qY)(),h=(0,_.qY)(),p=(0,_.qY)(),j=(0,_.qY)(),v=(0,_.qY)(),g=(0,_.qY)(),b=(0,_.qY)(),C=(0,_.qY)(),Z=(0,_.qY)();return(0,m.jsxs)("div",{children:[(0,m.jsxs)(t.kC,{marginTop:4,flexDirection:{base:"column",sm:"column",md:"column",lg:"row",xl:"row"},children:[(0,m.jsx)(t.xu,{marginBottom:5,marginEnd:5,width:230,alignSelf:"center",children:(0,m.jsxs)(t.kC,{flexDirection:"column",children:[(0,m.jsx)(B.Zb,{children:(0,m.jsx)(B.eW,{children:(0,m.jsxs)(t.kC,{flexDirection:"column",children:[(0,m.jsx)(x.Ee,{height:"185px",borderRadius:"md",src:null===l||void 0===l?void 0:l.profile_picture,alt:"profile picture"}),(0,m.jsx)(R.zx,{marginTop:4,height:50,variant:"outline",borderWidth:1,borderColor:"blackAlpha.300",color:"blackAlpha.700",onClick:g.onOpen,children:"Change Photo"})]})})}),(0,m.jsx)(R.zx,{height:50,marginTop:4,variant:"outline",borderWidth:1,borderColor:"blackAlpha.300",color:"blackAlpha.700",leftIcon:(0,m.jsx)(c.Z.Lock,{fill:"blackAlpha.700"}),onClick:b.onOpen,children:(0,m.jsx)(t.xv,{width:"100%",children:"Change Password"})}),(0,m.jsx)(R.zx,{marginTop:2,height:50,variant:"outline",borderWidth:1,borderColor:"blackAlpha.300",color:"blackAlpha.700",leftIcon:(0,m.jsx)(c.Z.Pencil,{fill:"blackAlpha.700"}),onClick:j.onOpen,children:(0,m.jsx)(t.xv,{width:"100%",children:"Update Profile"})})]})}),(0,m.jsxs)(t.xu,{padding:5,children:[(0,m.jsx)(t.xv,{fontWeight:"semibold",marginBottom:4,fontSize:"md",children:"Profile"}),(0,m.jsxs)(t.MI,{columns:2,spacing:4,children:[(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:"Username"}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:null===l||void 0===l?void 0:l.username}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:"Name"}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:null===l||void 0===l?void 0:l.name}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:"Date of Birth"}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:null!==l&&void 0!==l&&l.birth_date?f()(null===l||void 0===l?void 0:l.birth_date).format("DD MMMM YYYY"):"-"}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:"Gender"}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:0===(null===l||void 0===l?void 0:l.gender_detail.id)?"-":null===l||void 0===l?void 0:l.gender_detail.name})]}),(0,m.jsx)(t.xv,{fontWeight:"semibold",marginY:4,fontSize:"md",children:"Contact"}),(0,m.jsxs)(t.MI,{columns:2,spacing:4,children:[(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:"Email"}),(0,m.jsxs)(t.xv,{fontWeight:"light",fontSize:"md",children:[null===l||void 0===l?void 0:l.email,(0,m.jsx)(I.u,{label:"Change Email",children:(0,m.jsx)(R.hU,{variant:"link",size:"xs",marginStart:2,"aria-label":"Change Email",icon:(0,m.jsx)(ee.Z,{fill:"primary"}),onClick:u.onOpen})})]}),(0,m.jsx)(t.xv,{fontWeight:"light",fontSize:"md",children:"Phone Number"}),(0,m.jsxs)(t.xv,{fontWeight:"light",fontSize:"md",children:[null!==(e=null===l||void 0===l?void 0:l.phone)&&void 0!==e?e:"-",(0,m.jsx)(I.u,{label:"Change Phone",children:(0,m.jsx)(R.hU,{variant:"link",size:"xs",marginStart:2,"aria-label":"Change Phone",icon:(0,m.jsx)(ee.Z,{fill:"primary"}),onClick:v.onOpen})})]})]})]})]}),(0,m.jsx)(Q,{isOpen:u.isOpen,onClose:u.onClose,email:null!==(n=null===l||void 0===l?void 0:l.email)&&void 0!==n?n:"",codeModalIsOpen:h.isOpen,codeModalOnClose:h.onClose,codeModalOnOpen:h.onOpen,logoutModalIsOpen:p.isOpen,logoutModalOnOpen:p.onOpen,logoutModalOnClose:p.onClose}),(0,m.jsx)(ie,{isOpen:b.isOpen,onClose:b.onClose,tokenModalIsOpen:C.isOpen,tokenModalOnClose:C.onClose,tokenModalOnOpen:C.onOpen,logoutModalIsOpen:Z.isOpen,logoutModalOnOpen:Z.onOpen,logoutModalOnClose:Z.onClose}),(0,m.jsx)(F,{isOpen:j.isOpen,onClose:j.onClose,username:null!==(r=null===l||void 0===l?void 0:l.username)&&void 0!==r?r:"",name:null!==(i=null===l||void 0===l?void 0:l.name)&&void 0!==i?i:"",birth_date:null!==(s=null===l||void 0===l?void 0:l.birth_date)&&void 0!==s?s:"",gender_id:null!==(a=null===l||void 0===l?void 0:l.gender_detail.id)&&void 0!==a?a:""}),(0,m.jsx)(G,{isOpen:v.isOpen,onClose:v.onClose,phone:null!==(o=null===l||void 0===l?void 0:l.phone)&&void 0!==o?o:""}),(0,m.jsx)(ne,{isOpen:g.isOpen,onClose:g.onClose})]})},ae=r(45827),oe=r(76839),ce=r(47670),de=r(30464),le=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(){var n;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.Z.get(de.v.address.PROVINCES);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.Z.get(de.v.address.CITIES(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),he=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.Z.get(de.v.address.SUBDISTRICTS(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),xe=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.Z.post(de.v.address.ADDRESS,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),pe=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n,r){var t;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.Z.put(de.v.address.UPDATE_ADDRESS(n),r);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r){return e.apply(this,arguments)}}(),fe=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.Z.put(de.v.address.SET_USER_DEFAULT_ADDRESS,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),je=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.Z.put(de.v.shop.SET_SHOP_DEFAULT_ADDRESS,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),me={getProvinces:le,getCities:ue,getSubdistricts:he,postNewAddress:xe,putEditAddress:pe,putUserDefaultAddress:fe,putShopDefaultAddress:je},ve=function(){var e=(0,ae.C)((function(e){return e.address})),n=e.modalTitle,r=e.provinces,t=e.cities,i=e.subdistricts,s=e.selectedZipCode,a=e.inputName,o=e.inputPhoneNumber,c=e.inputDistrictWard,d=e.inputStreetName,l=e.inputNotes,u=e.selectedProvinceId,h=e.selectedCityId,x=e.selectedSubdistrictId,p=(0,ae.T)(),f=(0,P.Z)(),j=f.successToast,m=f.errorToast,v=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(){var n;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getProvinces();case 2:if(!(n=e.sent).is_success){e.next=6;break}return p((0,oe.Te)(n.data)),e.abrupt("return",n.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getCities(n);case 2:if(!(r=e.sent).is_success){e.next=6;break}return p((0,oe.Ix)(r.data)),e.abrupt("return",r.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getSubdistricts(n);case 2:if(!(r=e.sent).is_success){e.next=6;break}return p((0,oe.HP)(r.data)),e.abrupt("return",r.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.postNewAddress(n);case 2:if(!(r=e.sent).is_success){e.next=6;break}return j("Add new address success"),e.abrupt("return","Add new address success");case 6:return m(r.message),e.abrupt("return",r.message);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n,r){var t;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.putEditAddress(n,r);case 2:if(!(t=e.sent).is_success){e.next=6;break}return j("Edit address success"),e.abrupt("return",t.data);case 6:return m(t.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),y=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.putUserDefaultAddress(n);case 2:if(!(r=e.sent).is_success){e.next=6;break}return j("Set as Default Shipping Success"),e.abrupt("return",r.data);case 6:return m(r.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.putShopDefaultAddress(n);case 2:if(!(r=e.sent).is_success){e.next=6;break}return j("Set as Shop Location Success"),e.abrupt("return",r.data);case 6:return m(r.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{modalTitle:n,setModalTitle:function(e){p((0,oe.Gd)(e))},provinces:r,fetchProvinces:v,cities:t,fetchCities:g,subdistricts:i,fetchSubdistricts:b,selectedZipCode:s,setSelectedZipCode:function(e){p((0,oe.Uj)(e))},inputName:a,setinputName:function(e){p((0,oe.Go)(e))},inputPhoneNumber:o,cleanInputPhoneNumber:function(e){var n=e.indexOf("8");return-1===n?"":e.slice(n)},setInputPhoneNumber:function(e){p((0,oe.Kh)(e))},inputDistrictWard:c,setinputDistrictWard:function(e){p((0,oe.Hf)(e))},inputStreetName:d,setInputStreetName:function(e){p((0,oe.Y0)(e))},inputNotes:l,setInputNotes:function(e){p((0,oe.ch)(e))},selectedProvinceId:u,setSelectedProvinceId:function(e){p((0,oe.U3)(e))},selectedCityId:h,setSelectedCityId:function(e){p((0,oe.W$)(e))},selectedSubdistrictId:x,setSelectedSubdistrictId:function(e){p((0,oe.NL)(e))},addNewAddress:C,resetFormState:function(){p((0,oe.Go)("")),p((0,oe.Kh)("")),p((0,oe.U3)(-1)),p((0,oe.W$)(-1)),p((0,oe.NL)(-1)),p((0,oe.Uj)("")),p((0,oe.Hf)("")),p((0,oe.Y0)("")),p((0,oe.ch)(""))},updateAddress:Z,updateUserDefaultAddress:y,updateShopDefaultAddress:S}},ge=r(35738);var be=function(e){return(0,m.jsx)(t.xv,{border:"2px",borderColor:"teal.100",fontSize:"smaller",color:"teal.500",cursor:"default",padding:1,children:e.text})};var Ce=function(e){var n=ve(),r=n.setModalTitle,i=n.setinputName,s=n.cleanInputPhoneNumber,a=n.setInputPhoneNumber,o=n.setSelectedProvinceId,l=n.setSelectedCityId,u=n.setinputDistrictWard,h=n.setInputStreetName,x=n.setInputNotes,p=n.updateUserDefaultAddress,f=n.updateShopDefaultAddress,j=(0,d.Z)().user,v=function(n){r({title:ge.k.EDIT_ADDRESS,addressId:n}),function(e){i(e.recipient_name),a(s(e.recipient_phone)),o(e.province_id),l(e.city_id),u(e.district_ward),h(e.street_name),x(e.notes)}(e.address),e.onOpen()};return(0,m.jsxs)(t.xu,{children:[(0,m.jsxs)(t.kC,{padding:2,paddingTop:5,alignItems:"center",children:[(0,m.jsxs)(t.kC,{grow:1,direction:"column",children:[(0,m.jsxs)(t.kC,{marginBottom:3,height:"20px",alignItems:"center",children:[(0,m.jsx)(t.kC,{fontWeight:"bold",children:e.address.recipient_name}),(0,m.jsx)(t.iz,{marginX:3,orientation:"vertical"}),(0,m.jsx)(t.kC,{children:e.address.recipient_phone})]}),(0,m.jsxs)(t.kC,{direction:"column",children:[(0,m.jsx)(t.xv,{children:e.address.street_name}),(0,m.jsx)(t.xv,{children:e.address.notes}),(0,m.jsx)(t.xv,{children:function(e){return"".concat(e.province_name,", ").concat(e.city_name,", ").concat(e.sub_district,", ").concat(e.district_ward,", ").concat(e.zip_code)}(e.address)})]}),(0,m.jsx)(t.kC,{children:function(e){var n=[];return e.is_default&&n.push("Default Shipping"),e.is_shop_default&&n.push("Shop Location"),n}(e.address).map((function(e,n){return(0,m.jsx)(t.xu,{paddingY:1,paddingEnd:1,children:(0,m.jsx)(be,{text:e})},n)}))})]}),(0,m.jsxs)(t.kC,{gap:5,children:[(0,m.jsx)(I.u,{hasArrow:!0,label:"Set as Default Shipping",children:(0,m.jsx)(t.xu,{onClick:function(){p({address_id:e.address.address_id}),e.refetchUserAddress()},cursor:"pointer",children:(0,m.jsx)(c.Z.PinMap,{})})}),null!==j&&void 0!==j&&j.is_seller?(0,m.jsx)(I.u,{hasArrow:!0,label:"Set as Shop Location",children:(0,m.jsx)(t.xu,{onClick:function(){f({address_id:e.address.address_id}),e.refetchUserAddress()},cursor:"pointer",children:(0,m.jsx)(c.Z.Shop,{})})}):"",(0,m.jsx)(I.u,{hasArrow:!0,label:"Edit Address",children:(0,m.jsx)(t.xu,{onClick:function(){return v(e.address.address_id)},cursor:"pointer",children:(0,m.jsx)(c.Z.Pencil,{})})})]})]}),(0,m.jsx)(t.iz,{borderWidth:"thin"})]})};var Ze=function(e){var n=ve(),r=n.modalTitle,i=n.provinces,s=n.fetchProvinces,a=n.cities,o=n.fetchCities,c=n.subdistricts,d=n.fetchSubdistricts,l=n.selectedZipCode,h=n.setSelectedZipCode,x=n.inputName,p=n.setinputName,f=n.inputPhoneNumber,j=n.setInputPhoneNumber,v=n.inputDistrictWard,g=n.setinputDistrictWard,b=n.inputStreetName,C=n.setInputStreetName,Z=n.inputNotes,y=n.setInputNotes,S=n.selectedProvinceId,_=n.setSelectedProvinceId,I=n.selectedCityId,O=n.setSelectedCityId,z=n.selectedSubdistrictId,A=n.setSelectedSubdistrictId,T=n.addNewAddress,P=n.updateAddress,E=-1,W="",M="name",L="phoneNumber",Y="province",q="city",B="subdistrict",G="zipcode",X="districtward",F="streetname",H="notes";(0,u.useEffect)((function(){var e=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(){var n,r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:if(S===E){e.next=12;break}if(o(S),I===E){e.next=12;break}return e.next=7,d(I);case 7:if(n=e.sent){e.next=10;break}return e.abrupt("return");case 10:(r=n.find((function(e){return e.subdistrict_id===z})))&&h(r.zip_code);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[E,S,I,z]);var K=J.Ry().shape({name:J.Z_().required("Required"),phoneNumber:J.Z_().required("Required").matches(/^[0-9]+$/,"Must be only digits").min(8,"Must be at least 8 characters").max(13,"Must be less then 13 characters").matches(/^8.*/,"Invalid"),province:J.Rx().required("Required").min(0,"Please select province"),city:J.Rx().required("Required").min(0,"Please select city"),subdistrict:J.Rx().required("Required").min(0,"Please select subdistrict"),zipcode:J.Z_(),districtward:J.Z_().required("Required"),streetname:J.Z_().required("Required"),notes:J.Z_()}),$=function(e){e.zipcode=l;var n=c.find((function(e){return e.subdistrict_id===z})),r="";return n&&(r=n.subdistrict),{province_id:e.province,city_id:e.city,sub_district:r,district_ward:e.districtward,zip_code:l,notes:e.notes,street_name:e.streetname,recipient_name:e.name,recipient_phone:"+62".concat(e.phoneNumber)}};return(0,m.jsx)(t.xu,{children:(0,m.jsx)(V.J9,{initialValues:{name:x,phoneNumber:f,province:S,city:I,subdistrict:z,zipcode:l,districtward:v,streetname:b,notes:Z},validationSchema:K,onSubmit:function(n){r.title===ge.k.EDIT_ADDRESS?function(n,r){var t=$(n);P(r,t),e.setRefetchUserAddress(Math.random()),e.onClose()}(n,r.addressId):function(n){var r=$(n);T(r),e.setRefetchUserAddress(Math.random()),e.onClose()}(n)},children:function(n){var s=n.handleSubmit,u=n.errors,w=n.touched,k=n.setFieldValue;return(0,m.jsx)("form",{onSubmit:s,children:(0,m.jsxs)(t.kC,{direction:"column",gap:5,children:[(0,m.jsxs)(U.NI,{isInvalid:!!u.name&&w.name,children:[(0,m.jsx)(U.lX,{children:"Name"}),(0,m.jsx)(V.gN,{as:D.II,variant:"flushed",placeholder:"John Doe",name:M,value:x,onChange:function(e){!function(e,n){p(e.target.value),n(M,e.target.value)}(e,k)}}),(0,m.jsx)(U.J1,{children:u.name})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.phoneNumber&&w.phoneNumber,children:[(0,m.jsx)(U.lX,{children:"Phone Number"}),(0,m.jsxs)(D.BZ,{children:[(0,m.jsx)(D.Ui,{children:"+62"}),(0,m.jsx)(V.gN,{as:D.II,variant:"flushed",type:"number",paddingStart:3,placeholder:"82198765432",name:L,value:f,onChange:function(e){!function(e,n){j(e.target.value),n(L,e.target.value)}(e,k)}})]}),(0,m.jsx)(U.J1,{children:u.phoneNumber})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.province&&w.province,children:[(0,m.jsx)(U.lX,{children:"Province"}),(0,m.jsxs)(V.gN,{as:N.Ph,variant:"filled",onChange:function(e){!function(e,n){var r=parseInt(e.target.value);o(r),n(Y,r),_(r),n(q,E),O(E),n(B,E),A(E),h(W)}(e,k)},name:Y,children:[(0,m.jsx)("option",{disabled:!0,value:E,children:"Select Province"}),i.map((function(e){return(0,m.jsx)("option",{value:e.province_id,children:e.province},e.province_id)}))]}),(0,m.jsx)(U.J1,{children:u.province})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.city&&w.city,isDisabled:S===E,children:[(0,m.jsx)(U.lX,{children:"City"}),(0,m.jsxs)(V.gN,{as:N.Ph,variant:"filled",onChange:function(e){!function(e,n){var r=parseInt(e.target.value);d(r),n(q,r),O(r),n(B,E),A(E),h(W)}(e,k)},name:q,children:[(0,m.jsx)("option",{disabled:!0,value:E,children:"Select City"}),a.map((function(e){return(0,m.jsx)("option",{value:e.city_id,children:"".concat(e.type," ").concat(e.city)},e.city_id)}))]}),(0,m.jsx)(U.J1,{children:u.city})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.subdistrict&&w.subdistrict,isDisabled:I===E,children:[(0,m.jsx)(U.lX,{children:"Subdistrict"}),(0,m.jsxs)(V.gN,{as:N.Ph,variant:"filled",onChange:function(e){!function(e,n){var r=parseInt(e.target.value);n(B,r),A(r);var t=c.find((function(e){return e.subdistrict_id===r}));t&&h(t.zip_code)}(e,k)},name:B,children:[(0,m.jsx)("option",{disabled:!0,value:E,children:"Select Subdistrict"}),c.map((function(e){return(0,m.jsx)("option",{value:e.subdistrict_id,children:e.subdistrict},e.subdistrict_id)}))]}),(0,m.jsx)(U.J1,{children:u.subdistrict})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.zipcode&&w.zipcode,isDisabled:!0,children:[(0,m.jsx)(U.lX,{children:"Zip Code"}),(0,m.jsx)(V.gN,{as:D.II,variant:"flushed",name:G,value:l}),(0,m.jsx)(U.J1,{children:u.zipcode})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.districtward&&w.districtward,children:[(0,m.jsx)(U.lX,{children:"District Ward"}),(0,m.jsx)(V.gN,{as:D.II,variant:"flushed",placeholder:"Kelurahan Kelapa Gading Barat",name:X,value:v,onChange:function(e){!function(e,n){g(e.target.value),n(X,e.target.value)}(e,k)}}),(0,m.jsx)(U.J1,{children:u.districtward})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.streetname&&w.streetname,children:[(0,m.jsx)(U.lX,{children:"Street Name"}),(0,m.jsx)(V.gN,{as:D.II,variant:"flushed",placeholder:"Jl. Pulau Putri RT.2 RW.9 No.12",name:F,value:b,onChange:function(e){!function(e,n){C(e.target.value),n(F,e.target.value)}(e,k)}}),(0,m.jsx)(U.J1,{children:u.streetname})]}),(0,m.jsxs)(U.NI,{isInvalid:!!u.notes&&w.notes,children:[(0,m.jsx)(U.lX,{children:"Notes"}),(0,m.jsx)(V.gN,{as:D.II,variant:"flushed",placeholder:"House with white paint and black fence",name:H,value:Z,onChange:function(e){!function(e,n){y(e.target.value),n(H,e.target.value)}(e,k)}}),(0,m.jsx)(U.J1,{children:u.notes})]}),(0,m.jsx)(t.iz,{marginBottom:3}),(0,m.jsxs)(t.kC,{justifyContent:"end",children:[(0,m.jsx)(R.zx,{variant:"outline",marginEnd:3,onClick:e.onClose,children:"Cancel"}),(0,m.jsx)(R.zx,{type:"submit",children:r.title===ge.k.ADD_NEW_ADDRESS?"Save New Address":"Save Edit"})]})]})})}})})};var ye=function(e){var n=e.isOpen,r=e.onClose,i=e.setRefetchUserAddress,s=ve().modalTitle;return(0,m.jsxs)(O.u_,{closeOnOverlayClick:!1,isOpen:n,onClose:r,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[(0,m.jsx)(O.ZA,{}),(0,m.jsxs)(O.hz,{children:[(0,m.jsxs)(O.xB,{children:[s.title,(0,m.jsx)(t.iz,{marginTop:3})]}),(0,m.jsx)(O.ol,{}),(0,m.jsx)(O.fe,{children:(0,m.jsx)(t.xu,{paddingBottom:5,children:(0,m.jsx)(Ze,{onClose:r,setRefetchUserAddress:i})})})]})]})};var we=function(){var e=(0,_.qY)(),n=e.isOpen,r=e.onOpen,i=e.onClose,s=ve(),a=s.setModalTitle,o=s.resetFormState,c=(0,d.Z)().getUserAddresses,l=(0,u.useState)([]),h=(0,S.Z)(l,2),x=h[0],p=h[1],f=(0,u.useState)(0),j=(0,S.Z)(f,2),v=j[0],g=j[1];return(0,u.useEffect)((function(){var e=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(){var n;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:n=e.sent,p(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[v]),(0,m.jsxs)(t.xu,{children:[(0,m.jsxs)(t.kC,{direction:"column",children:[(0,m.jsxs)(t.kC,{padding:2,alignItems:"center",children:[(0,m.jsx)(t.kC,{grow:1,fontSize:"xl",fontWeight:"bold",children:"My Address"}),(0,m.jsx)(R.zx,{onClick:function(){a({title:ge.k.ADD_NEW_ADDRESS,addressId:-1}),r()},children:"+ Add New Address"})]}),(0,m.jsx)(t.iz,{marginBottom:5,borderWidth:"2px"}),(0,m.jsx)(t.xu,{paddingBottom:4,children:x.map((function(e,n){return(0,m.jsx)(t.xu,{children:(0,m.jsx)(Ce,{address:e,onOpen:r,refetchUserAddress:function(){g(Math.random())}})},"".concat(e.address_id,";").concat(n))}))})]}),(0,m.jsx)(ye,{isOpen:n,onClose:function(){o(),i()},setRefetchUserAddress:g})]})},ke=r(58821),Se=r(22372),_e=r(97066),Ie=r(36281);var Oe=function(){var e=(0,_.qY)(),n=(0,_.qY)(),r=(0,E.Z)(),i=r.refundLoading,s=r.fetchBuyerRefund,a=r.fetchRefundDetail,o=(0,u.useState)([]),d=(0,S.Z)(o,2),h=d[0],x=d[1],p=(0,u.useState)(null),f=(0,S.Z)(p,2),j=f[0],v=f[1],g=(0,u.useState)(0),C=(0,S.Z)(g,2),Z=C[0],y=C[1],I=(0,u.useState)(0),O=(0,S.Z)(I,2),N=O[0],z=O[1],D=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(){var n;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({page:Z});case 2:n=e.sent,x(n.data.data),z(n.data.total_page);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(n){var r=n.currentTarget.id;a(parseInt(r)).then((function(e){return v(e.data)})),e.onOpen()},T=function(e){var r=e.currentTarget.id;a(parseInt(r)).then((function(e){return v(e.data)})),n.onOpen()};return(0,u.useEffect)((function(){D()}),[Z]),(0,m.jsxs)(t.kC,{direction:"column",children:[(0,m.jsx)(t.xv,{fontSize:"2xl",fontWeight:"semibold",my:3,children:"Refunds"}),(0,m.jsx)(M.xJ,{children:(0,m.jsxs)(M.iA,{variant:"striped",children:[(0,m.jsx)(M.hr,{children:(0,m.jsxs)(M.Tr,{children:[(0,m.jsx)(M.Th,{textAlign:"center",children:"Order Id"}),(0,m.jsx)(M.Th,{textAlign:"center",children:"Seller"}),(0,m.jsx)(M.Th,{textAlign:"center",children:"Amount"}),(0,m.jsx)(M.Th,{textAlign:"center",children:"Action"})]})}),(0,m.jsx)(M.p3,{children:h.map((function(e,n){return(0,m.jsxs)(M.Tr,{children:[(0,m.jsx)(M.Td,{textAlign:"center",children:e.order_id}),(0,m.jsx)(M.Td,{textAlign:"center",children:e.seller_name}),(0,m.jsx)(M.Td,{textAlign:"center",children:"Rp"+(0,l.xG)(e.amount)}),(0,m.jsxs)(M.Td,{textAlign:"center",children:[e.status_name!==Se.GL.APPROVED&&e.status_name!==Se.GL.REFUNDED&&(0,m.jsx)(R.hU,{id:e.id.toString(),mx:1,"aria-label":"Refund",bgColor:"orange.400",icon:(0,m.jsx)(ke.i0Y,{}),onClick:A}),(0,m.jsx)(R.hU,{id:e.id.toString(),mx:1,"aria-label":"Refund Detail",icon:(0,m.jsx)(c.Z.Show,{}),onClick:T})]})]},n)}))})]})}),(0,m.jsx)(b.Z,{data:{total_page:N,current_page:Z},setPage:y}),(0,m.jsx)(_e.Z,{config:"buyer",isOpen:e.isOpen,isLoading:i,onClose:function(){return e.onClose()},chats:null===j||void 0===j?void 0:j.chats,refundId:null===j||void 0===j?void 0:j.id,buyerId:null===j||void 0===j?void 0:j.buyer_id,buyerName:null===j||void 0===j?void 0:j.buyer_name,sellerId:null===j||void 0===j?void 0:j.seller_id,sellerName:null===j||void 0===j?void 0:j.seller_name,lastUpdated:null===j||void 0===j?void 0:j.chats_last_updated}),(0,m.jsx)(Ie.Z,{config:"buyer",isOpen:n.isOpen,isLoading:i,onClose:function(){return n.onClose()},refundDetail:j})]})};var Ne=function(){var e,n,r=(0,d.Z)().user;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(t.W2,{maxW:"container.xl",py:5,children:(0,m.jsxs)(t.Ug,{alignItems:"start",children:[(0,m.jsx)(i.c,{below:"md",children:(0,m.jsx)(s.Od,{isLoaded:!!r,children:(0,m.jsxs)(t.xu,{width:250,borderWidth:"1px",borderRadius:"lg",marginEnd:5,padding:4,children:[(0,m.jsxs)(t.Uc,{children:[(0,m.jsx)(a.qE,{size:"md",name:"Avatar",src:null===r||void 0===r?void 0:r.profile_picture}),(0,m.jsx)(t.xu,{marginStart:5,alignSelf:"center",children:(0,m.jsx)(t.xv,{fontSize:"md",fontWeight:"bold",children:null===r||void 0===r?void 0:r.name})})]}),(0,m.jsx)(t.iz,{borderWidth:1,my:4}),(0,m.jsxs)(t.kC,{justifyContent:"space-between",children:[(0,m.jsxs)(t.Ug,{children:[(0,m.jsx)(c.Z.Wallet,{fill:"primary"}),(0,m.jsx)(t.xv,{children:"Wallet"})]}),(0,m.jsxs)(t.xv,{textAlign:"end",children:["Rp ",(0,l.xG)(null!==(e=null===r||void 0===r||null===(n=r.wallet_detail)||void 0===n?void 0:n.balance)&&void 0!==e?e:0)]})]})]})})}),(0,m.jsx)(t.xu,{flex:"1",borderWidth:"1px",borderRadius:"lg",children:(0,m.jsx)(s.Od,{isLoaded:!!r,children:(0,m.jsxs)(o.mQ,{padding:2,maxW:"calc(100vw - 2rem)",isLazy:!0,children:[(0,m.jsxs)(o.td,{overflowX:"scroll",overflowY:"hidden",className:"hidescrollbar",children:[(0,m.jsx)(o.OK,{_selected:{color:"primary",borderBottomColor:"primary"},children:"Profile"}),(0,m.jsx)(o.OK,{_selected:{color:"primary",borderBottomColor:"primary"},children:"Address"}),(0,m.jsx)(o.OK,{_selected:{color:"primary",borderBottomColor:"primary"},children:"My Purchase"}),(0,m.jsx)(o.OK,{_selected:{color:"primary",borderBottomColor:"primary"},children:"Manage Refund"})]}),(0,m.jsxs)(o.nP,{children:[(0,m.jsx)(o.x4,{children:(0,m.jsx)(se,{})}),(0,m.jsx)(o.x4,{children:(0,m.jsx)(we,{})}),(0,m.jsx)(o.x4,{padding:"0",children:(0,m.jsx)(q,{})}),(0,m.jsx)(o.x4,{children:(0,m.jsx)(Oe,{})})]})]})})})]})})})}}}]);
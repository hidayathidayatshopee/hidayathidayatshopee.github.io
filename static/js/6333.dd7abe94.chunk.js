"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6333],{61697:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(74165),i=r(15861),s=r(29439),l=r(47313),a=r(47670),o=r(30464),c=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r,i,s){var l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(o.v.shop.SHOPS+"/".concat(n,"/orders?status=").concat(r,"&page=").concat(i,"&limit=").concat(s));case 3:return l=e.sent,e.abrupt("return",l.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r,t,i){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(o.v.shop.SHOPS+"/".concat(n,"/orders/").concat(r));case 3:return i=e.sent,e.abrupt("return",i.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r,i){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.put(o.v.shop.SHOPS+"/".concat(n,"/orders/").concat(r),i);case 3:return s=e.sent,e.abrupt("return",s.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r,t){return e.apply(this,arguments)}}(),h={getAllOrders:c,getOrder:d,putOrder:u};var p=function(){var e=(0,l.useState)(!1),n=(0,s.Z)(e,2),r=n[0],a=n[1],o=(0,l.useState)(),c=(0,s.Z)(o,2),d=c[0],u=c[1],p=(0,l.useState)(),x=(0,s.Z)(p,2),v=x[0],f=x[1],j=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r,i,s){var l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,h.getAllOrders(n,r,i,s);case 3:return l=e.sent,a(!1),l.is_success&&u(l.data),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(n,r,t,i){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,h.getOrder(n,r);case 3:return i=e.sent,a(!1),i.is_success&&f(i.data),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r,i){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,h.putOrder(n,r,i);case 3:return s=e.sent,a(!1),s.is_success&&f(s.data),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}();return{fetchAllShopOrders:j,fetchShopOrder:g,updateShopOrder:m,isLoading:r,shopOrders:d,shopOrder:v}}},48976:function(e,n,r){r.r(n),r.d(n,{default:function(){return A}});var t=r(62128),i=r(43964),s=r(63714),l=r(29439),a=r(84959),o=r(32176),c=r(30955),d=r(91101),u=r(32768),h=r(69748),p=r(47313),x=r(58821),v=r(58467),f=r(61697),j=r(46036),g=r(43974),m=r(22372),_=r(94129),C=r(8914),b=r(46417);var O=function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(C.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,b.jsx)(C.ZA,{}),(0,b.jsxs)(C.hz,{rounded:"lg",children:[(0,b.jsx)(C.xB,{children:"Confirm Order"}),(0,b.jsx)(C.ol,{}),(0,b.jsx)(C.fe,{children:e.content}),(0,b.jsxs)(C.mz,{children:[(0,b.jsx)(h.zx,{variant:"ghost",mr:3,onClick:function(){return e.onClose()},children:"Close"}),(0,b.jsx)(h.zx,{variant:"solid",bgColor:"orange.300",isLoading:e.isLoading,onClick:e.onConfirm,children:"Confirm"})]})]})]})})};var S=function(e){var n,r,t=(0,f.Z)(),s=t.shopOrders,C=t.isLoading,S=t.fetchAllShopOrders,E=t.updateShopOrder,Z=(0,j.Z)().user,T=(0,v.s0)(),y=(0,a.qY)(),L=(0,a.qY)(),D=(0,a.qY)(),A=(0,p.useState)(0),R=(0,l.Z)(A,2),k=R[0],w=R[1],V=function(e){switch(e.status){case m.Be.WAITING_FOR_SELLER:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"gray",children:e.status});case m.Be.CANCELLED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"purple",children:e.status});case m.Be.PROCESSED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"pink",children:e.status});case m.Be.ON_DELIVERY:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"red",children:e.status});case m.Be.DELIVERED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"teal",children:e.status});case m.Be.RECEIVED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"messenger",children:e.status});case m.Be.REFUNDED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"cyan",children:e.status});case m.Be.COMPLETED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"green",children:e.status});case m.Be.REFUND_IN_PROGRESS:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"orange",children:e.status});default:return(0,b.jsx)(o.Vp,{children:"-"})}};return(0,p.useEffect)((function(){var n;S(null!==(n=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==n?n:0,e.status,1,10)}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.xJ,{children:(0,b.jsxs)(c.iA,{variant:"striped",children:[(0,b.jsx)(c.hr,{children:(0,b.jsxs)(c.Tr,{children:[(0,b.jsx)(c.Th,{children:"Product"}),(0,b.jsx)(c.Th,{children:"Total"}),(0,b.jsx)(c.Th,{children:"Status"}),(0,b.jsx)(c.Th,{textAlign:"center",children:"Action"})]})}),(0,b.jsxs)(c.p3,{children:[C?(0,b.jsx)(c.Tr,{children:(0,b.jsx)(c.Td,{colSpan:6,textAlign:"center",children:(0,b.jsx)(d.$,{})})}):null,C||0!==(null===s||void 0===s?void 0:s.data.length)?null:(0,b.jsx)(c.Tr,{children:(0,b.jsx)(c.Td,{colSpan:6,textAlign:"center",children:"Empty Data"})}),!C&&(null===s||void 0===s?void 0:s.data.map((function(e,n){var r,t,i,s,l,a;return(0,b.jsxs)(c.Tr,{children:[(0,b.jsxs)(c.Td,{children:[(0,b.jsxs)(o.Vp,{m:1,variant:"solid",colorScheme:"teal",children:[null!==(r=null===(t=e.order_details[0])||void 0===t?void 0:t.product_name)&&void 0!==r?r:""," ","DEFAULT"!==(null===(i=e.order_details[0])||void 0===i?void 0:i.variant_type_name)?"(".concat(null===(s=e.order_details[0])||void 0===s?void 0:s.variant_type_name,")"):""]}),e.order_details.length>1?(0,b.jsx)(u.u,{hasArrow:!0,label:(a=e.order_details,a.map((function(e){var n,r="DEFAULT"===e.variant_type_name?"":"(".concat(e.variant_type_name,")");return"".concat(null!==(n=e.product_name)&&void 0!==n?n:""," ").concat(r," ")})).slice(1).join(", ")),bg:"gray.300",color:"black",children:(0,b.jsxs)(o.Vp,{m:1,variant:"solid",colorScheme:"gray",children:[e.order_details.length-1," more product"]})}):null]}),(0,b.jsxs)(c.Td,{children:["Rp",(0,_.xG)(null!==(l=e.total)&&void 0!==l?l:0)]}),(0,b.jsx)(c.Td,{children:V(e.order_status)}),(0,b.jsxs)(c.Td,{textAlign:"center",children:["Waiting for Seller"===e.order_status.status?(0,b.jsx)(u.u,{hasArrow:!0,label:"Cancel Order",bg:"gray.300",color:"black",children:(0,b.jsx)(h.hU,{mx:1,"aria-label":"Cancel Order",bgColor:"red.500",icon:(0,b.jsx)(x.fZX,{}),onClick:function(){w(e.id),L.onOpen()}})}):null,"Waiting for Seller"===e.order_status.status?(0,b.jsx)(u.u,{hasArrow:!0,label:"Procced Order",bg:"gray.300",color:"black",children:(0,b.jsx)(h.hU,{mx:1,"aria-label":"Process Order",bgColor:"green.400",icon:(0,b.jsx)(x.nRB,{}),onClick:function(){w(e.id),y.onOpen()}})}):null,"Processed"===e.order_status.status?(0,b.jsx)(u.u,{hasArrow:!0,label:"Delivery Order",bg:"gray.300",color:"black",children:(0,b.jsx)(h.hU,{mx:1,"aria-label":"Delivery Order",bgColor:"orange",icon:(0,b.jsx)(x.qaI,{}),onClick:function(){w(e.id),D.onOpen()}})}):null,(0,b.jsx)(u.u,{hasArrow:!0,label:"Detail",bg:"gray.300",color:"black",children:(0,b.jsx)(h.hU,{mx:1,"aria-label":"Detail",bgColor:"blue.300",icon:(0,b.jsx)(x.rCC,{}),onClick:function(){T(g.Z.SELLER_ORDER_DETAIL(e.id))}})}),"Processed"===e.order_status.status?(0,b.jsx)(u.u,{hasArrow:!0,label:"Print Delivery Label",bg:"gray.300",color:"black",children:(0,b.jsx)(h.hU,{mx:1,"aria-label":"Print Delivery Label",bgColor:"blackAlpha.500",icon:(0,b.jsx)(x.dwT,{}),onClick:function(){T(g.Z.SELLER_ORDER_LABEL(e.id))}})}):null]})]},n)})))]})]})}),(0,b.jsxs)(i.kC,{pt:"5",justifyContent:"space-between",children:[(0,b.jsxs)(i.xv,{children:["Total ",null===s||void 0===s?void 0:s.total]}),(0,b.jsxs)(i.kC,{alignItems:"center",children:[(0,b.jsx)(h.zx,{isDisabled:1===(null===s||void 0===s?void 0:s.current_page),fontWeight:"normal",onClick:function(){!function(){var n,r,t=(null!==(n=null===s||void 0===s?void 0:s.current_page)&&void 0!==n?n:0)-1;S(null!==(r=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==r?r:0,e.status,t,10)}()},children:"Prev"}),(0,b.jsxs)(i.xv,{px:3,children:[null===s||void 0===s?void 0:s.current_page," of ",null===s||void 0===s?void 0:s.total_page]}),(0,b.jsx)(h.zx,{isDisabled:(null!==(n=null===s||void 0===s?void 0:s.current_page)&&void 0!==n?n:0)>=(null!==(r=null===s||void 0===s?void 0:s.total_page)&&void 0!==r?r:0),fontWeight:"normal",onClick:function(){!function(){var n,r,t=(null!==(n=null===s||void 0===s?void 0:s.current_page)&&void 0!==n?n:0)+1;S(null!==(r=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==r?r:0,e.status,t,10)}()},children:"Next"})]})]}),(0,b.jsx)(O,{content:(0,b.jsxs)(i.xv,{children:["Are you sure ",(0,b.jsx)(o.Vp,{colorScheme:"green",children:"PROCESS"})," this order?"]}),isOpen:y.isOpen,isLoading:C,onClose:function(){return y.onClose()},onConfirm:function(){var n;E(null!==(n=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==n?n:0,k,{status_id:4}).then((function(){var n;S(null!==(n=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==n?n:0,e.status,1,10),y.onClose()}))}}),(0,b.jsx)(O,{content:(0,b.jsxs)(i.xv,{children:["Are you sure ",(0,b.jsx)(o.Vp,{colorScheme:"red",children:"CANCEL"})," this order?"]}),isOpen:L.isOpen,isLoading:C,onClose:function(){return L.onClose()},onConfirm:function(){var n;E(null!==(n=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==n?n:0,k,{status_id:3}).then((function(){var n;S(null!==(n=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==n?n:0,e.status,1,10),L.onClose()}))}}),(0,b.jsx)(O,{content:(0,b.jsxs)(i.xv,{children:["Are you sure change status to"," ",(0,b.jsx)(o.Vp,{colorScheme:"orange",children:"ON DELIVERY"}),"?"]}),isOpen:D.isOpen,isLoading:C,onClose:function(){return D.onClose()},onConfirm:function(){var n;E(null!==(n=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==n?n:0,k,{status_id:5}).then((function(){var n;S(null!==(n=null===Z||void 0===Z?void 0:Z.shop_id)&&void 0!==n?n:0,e.status,1,10),D.onClose()}))}})]})},E=r(59934),Z=r(25883),T=r(2183),y=r(97066),L=r(36281);var D=function(){var e=(0,f.Z)(),n=e.shopOrders,r=e.isLoading,t=(0,T.Z)(),i=t.refundLoading,s=t.fetchSellerRefund,v=t.fetchRefundDetail,j=(0,a.qY)(),g=(0,a.qY)(),C=(0,p.useState)([]),O=(0,l.Z)(C,2),S=O[0],D=O[1],A=(0,p.useState)(null),R=(0,l.Z)(A,2),k=R[0],w=R[1],V=(0,p.useState)(1),P=(0,l.Z)(V,2),I=P[0],N=P[1],G=(0,p.useState)(0),B=(0,l.Z)(G,2),U=B[0],F=B[1],z=function(e){switch(e){case m.GL.IN_PROGRESS:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"gray",children:m.GL.IN_PROGRESS});case m.GL.APPROVED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"green",children:m.GL.APPROVED});case m.GL.REJECTED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"red",children:m.GL.REJECTED});case m.GL.REFUNDED:return(0,b.jsx)(o.Vp,{variant:"solid",colorScheme:"teal",children:m.GL.REFUNDED});default:return(0,b.jsx)(o.Vp,{children:"-"})}},W=function(e){var n=e.currentTarget.id;v(parseInt(n)).then((function(e){return w(e.data)})),j.onOpen()},J=function(e){var n=e.currentTarget.id;v(parseInt(n)).then((function(e){return w(e.data)})),g.onOpen()};return(0,p.useEffect)((function(){g.isOpen||s({page:I}).then((function(e){D(e.data.data),F(e.data.total_page)}))}),[g.isOpen,I]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.xJ,{children:(0,b.jsxs)(c.iA,{variant:"striped",children:[(0,b.jsx)(c.hr,{children:(0,b.jsxs)(c.Tr,{children:[(0,b.jsx)(c.Th,{children:"Refund ID"}),(0,b.jsx)(c.Th,{children:"Order ID"}),(0,b.jsx)(c.Th,{children:"Total"}),(0,b.jsx)(c.Th,{children:"Status"}),(0,b.jsx)(c.Th,{textAlign:"center",children:"Action"})]})}),(0,b.jsxs)(c.p3,{children:[r&&(0,b.jsx)(c.Tr,{children:(0,b.jsx)(c.Td,{colSpan:6,textAlign:"center",children:(0,b.jsx)(d.$,{})})}),!r&&0===(null===n||void 0===n?void 0:n.data.length)&&(0,b.jsx)(c.Tr,{children:(0,b.jsx)(c.Td,{colSpan:6,textAlign:"center",children:"Empty Data"})}),!r&&(null===S||void 0===S?void 0:S.map((function(e,n){var r,t,i,s;return(0,b.jsxs)(c.Tr,{children:[(0,b.jsx)(c.Td,{children:null!==(r=e.id)&&void 0!==r?r:""}),(0,b.jsx)(c.Td,{children:null!==(t=e.order_id)&&void 0!==t?t:""}),(0,b.jsxs)(c.Td,{children:["Rp",(0,_.xG)(null!==(i=e.amount)&&void 0!==i?i:0)]}),(0,b.jsx)(c.Td,{children:z(null!==(s=e.status_name)&&void 0!==s?s:"")}),(0,b.jsxs)(c.Td,{textAlign:"center",children:[e.status_name!==m.GL.APPROVED&&e.status_name!==m.GL.REFUNDED&&(0,b.jsx)(u.u,{hasArrow:!0,label:"Chat with Buyer",bg:"gray.300",color:"black",children:(0,b.jsx)(h.hU,{id:e.id.toString(),mx:1,"aria-label":"Chat with Buyer",variant:"outline",icon:(0,b.jsx)(E.Z.Chat,{}),onClick:W})}),(0,b.jsx)(u.u,{hasArrow:!0,label:"Refund Detail",bg:"gray.300",color:"dark",children:(0,b.jsx)(h.hU,{id:e.id.toString(),mx:1,"aria-label":"Refund Detail",icon:(0,b.jsx)(x.rCC,{}),onClick:J})})]})]},n)})))]})]})}),(0,b.jsx)(Z.Z,{data:{total_page:U,current_page:I},setPage:N}),(0,b.jsx)(y.Z,{config:"seller",isOpen:j.isOpen,isLoading:i,onClose:function(){return j.onClose()},chats:null===k||void 0===k?void 0:k.chats,refundId:null===k||void 0===k?void 0:k.id,buyerId:null===k||void 0===k?void 0:k.buyer_id,buyerName:null===k||void 0===k?void 0:k.buyer_name,sellerId:null===k||void 0===k?void 0:k.seller_id,sellerName:null===k||void 0===k?void 0:k.seller_name,lastUpdated:null===k||void 0===k?void 0:k.chats_last_updated}),(0,b.jsx)(L.Z,{config:"seller",isOpen:g.isOpen,isLoading:i,onClose:function(){return g.onClose()},refundDetail:k})]})};var A=function(){return(0,b.jsxs)(t.Zb,{variant:"outline",rounded:"xl",p:5,bgColor:"white",children:[(0,b.jsx)(t.Ol,{children:(0,b.jsx)(i.kC,{justifyContent:"space-between",children:(0,b.jsx)(i.xv,{fontSize:"2xl",fontWeight:"bold",children:"Order List"})})}),(0,b.jsx)(t.eW,{children:(0,b.jsxs)(s.mQ,{variant:"customEnclosed",colorScheme:"default",isLazy:!0,children:[(0,b.jsxs)(s.td,{children:[(0,b.jsx)(s.OK,{children:"All"}),(0,b.jsx)(s.OK,{children:"Need To Be Processed"}),(0,b.jsx)(s.OK,{children:"Refunds"}),(0,b.jsx)(s.OK,{children:"Done"})]}),(0,b.jsxs)(s.nP,{children:[(0,b.jsx)(s.x4,{paddingX:0,children:(0,b.jsx)(S,{status:"all"})}),(0,b.jsx)(s.x4,{paddingX:0,children:(0,b.jsx)(S,{status:"pending"})}),(0,b.jsx)(s.x4,{paddingX:0,children:(0,b.jsx)(D,{})}),(0,b.jsx)(s.x4,{paddingX:0,children:(0,b.jsx)(S,{status:"done"})})]})]})})]})}},32176:function(e,n,r){r.d(n,{Vp:function(){return f}});var t=r(45987),i=r(1413),s=r(29439),l=r(47313),a=r(33439),o=r(66195),c=r(31201),d=r(14988),u=["isDisabled","children"],h=(0,o.k)({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),p=(0,s.Z)(h,2),x=p[0],v=p[1],f=(0,c.Gp)((function(e,n){var r=(0,c.jC)("Tag",e),t=(0,d.Lr)(e),s=(0,i.Z)({display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%"},r.container);return l.createElement(x,{value:r},l.createElement(c.m$.span,(0,i.Z)((0,i.Z)({ref:n},t),{},{__css:s})))}));f.displayName="Tag",(0,c.Gp)((function(e,n){var r=v();return l.createElement(c.m$.span,(0,i.Z)((0,i.Z)({ref:n,noOfLines:1},e),{},{__css:r.label}))})).displayName="TagLabel",(0,c.Gp)((function(e,n){return l.createElement(a.JO,(0,i.Z)({ref:n,verticalAlign:"top",marginEnd:"0.5rem"},e))})).displayName="TagLeftIcon",(0,c.Gp)((function(e,n){return l.createElement(a.JO,(0,i.Z)({ref:n,verticalAlign:"top",marginStart:"0.5rem"},e))})).displayName="TagRightIcon";var j=function(e){return l.createElement(a.JO,(0,i.Z)({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),l.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))};j.displayName="TagCloseIcon",(0,c.Gp)((function(e,n){var r=e.isDisabled,s=e.children,a=(0,t.Z)(e,u),o=v(),d=(0,i.Z)({display:"flex",alignItems:"center",justifyContent:"center",outline:"0"},o.closeButton);return l.createElement(c.m$.button,(0,i.Z)((0,i.Z)({ref:n,"aria-label":"close"},a),{},{type:"button",disabled:r,__css:d}),s||l.createElement(j,null))})).displayName="TagCloseButton"}}]);
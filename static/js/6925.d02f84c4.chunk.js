"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6925],{74320:function(r,e,t){var n=t(74165),a=t(15861),s=t(29396),u=t(52914),c=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.REGISTER,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),i=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.REGISTER_MERCHANT,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),o=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t,a,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,a=e.password,r.prev=1,r.next=4,s.Z.post(u.v.auth.LOGIN,{email:t,password:a});case 4:return c=r.sent,r.abrupt("return",c.data);case 8:return r.prev=8,r.t0=r.catch(1),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}(),p=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.LOGIN_GOOGLE,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),d=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.REFRESH,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),l=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t,a,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.user.PROFILE,{email:e});case 3:if(!((t=r.sent).status>=200&&t.status<=300)){r.next=6;break}return r.abrupt("return",t.data);case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),c=r.t0,r.abrupt("return",null===(a=c.response)||void 0===a?void 0:a.data);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}(),h=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.PASSWORD,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),f=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.put(u.v.auth.PASSWORD,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),v={register:c,registerMerchant:i,login:o,loginGoogle:p,refresh:d,checkEmail:l,resetPassword:h,changePassword:f};e.Z=v},36925:function(r,e,t){t.r(e);var n=t(1413),a=t(74165),s=t(15861),u=t(29439),c=t(39712),i=t(75863),o=t(80824),p=t(75777),d=t(55705),l=t(72791),h=t(57689),f=t(11087),v=t(81724),w=t(74320),x=t(14618),Z=t(34355),m=t(80184);e.default=function(){var r=(0,h.s0)(),e=(0,f.lr)(),t=(0,u.Z)(e,1)[0],g=(0,Z.Z)(),j=g.successToast,b=g.errorToast,k=(0,l.useState)(!1),y=(0,u.Z)(k,2),P=y[0],S=y[1],I=(0,l.useState)(!1),R=(0,u.Z)(I,2),E=R[0],O=R[1],L=(0,l.useState)(!1),N=(0,u.Z)(L,2),z=N[0],C=N[1],G=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var s,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),s={password:n.password,token:t.get("code")},e.next=4,w.Z.changePassword(s).finally((function(){return S(!1)}));case 4:(u=e.sent).is_success?(j("Your password has been changed! Please log in again."),r("/login")):b("Failed to change your password. Please try again",u.message);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),H=v.Ry().shape({password:v.Z_().required("Required").min(8,"Password must contain at least 8 characters").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])/,"Must contain at least One Uppercase, One Lowercase, One Number and one special case Character").matches(/^(\S+$)/,"No spaces allowed"),confirmPassword:v.Z_().required("Required").oneOf([v.iH("password"),null],"Password must match")});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(c.xu,{textAlign:"center",children:[(0,m.jsx)(c.X6,{children:"Reset your password"}),(0,m.jsx)(c.xv,{mt:2,children:"Set new password"})]}),(0,m.jsx)(c.xu,{textAlign:"left",my:4,children:(0,m.jsx)(d.J9,{initialValues:{password:"",confirmPassword:""},validationSchema:H,onSubmit:function(r){G(r)},children:function(r){var e=r.handleSubmit,t=r.errors,a=r.touched;return(0,m.jsxs)("form",{onSubmit:e,children:[(0,m.jsxs)(i.NI,{mt:4,isInvalid:!!t.password&&a.password,children:[(0,m.jsx)(i.lX,{children:"Password"}),(0,m.jsx)(d.gN,{as:o.II,name:"password",type:"password",placeholder:"Enter your password",variant:"filled",children:function(r){var e=r.field;return(0,m.jsxs)(o.BZ,{size:"md",children:[(0,m.jsx)(o.II,(0,n.Z)({pr:"4.5rem",type:E?"text":"password",placeholder:"Enter password",variant:"filled"},e)),(0,m.jsx)(o.xH,{marginEnd:2,children:(0,m.jsx)(p.zx,{size:"sm",onClick:function(){return O(!E)},variant:"link",children:E?(0,m.jsx)(x.Z.Hide,{fill:"darkLighten"}):(0,m.jsx)(x.Z.Show,{fill:"darkLighten"})})})]})}}),(0,m.jsx)(i.J1,{children:t.password})]}),(0,m.jsxs)(i.NI,{mt:4,isInvalid:!!t.confirmPassword&&a.confirmPassword,children:[(0,m.jsx)(i.lX,{children:"Confirm Password"}),(0,m.jsx)(d.gN,{as:o.II,name:"confirmPassword",type:"password",placeholder:"Re-enter your password",variant:"filled",children:function(r){var e=r.field;return(0,m.jsxs)(o.BZ,{size:"md",children:[(0,m.jsx)(o.II,(0,n.Z)({pr:"4.5rem",type:z?"text":"password",placeholder:"Re-enter your password",variant:"filled"},e)),(0,m.jsx)(o.xH,{marginEnd:2,children:(0,m.jsx)(p.zx,{size:"sm",onClick:function(){return C(!z)},variant:"link",children:z?(0,m.jsx)(x.Z.Hide,{fill:"darkLighten"}):(0,m.jsx)(x.Z.Show,{fill:"darkLighten"})})})]})}}),(0,m.jsx)(i.J1,{children:t.confirmPassword})]}),(0,m.jsx)(p.zx,{variant:"primary",width:"full",my:5,type:"submit",isLoading:P,children:"Change Password"})]})}})})]})}}}]);
//# sourceMappingURL=6925.d02f84c4.chunk.js.map
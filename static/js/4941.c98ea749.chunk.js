"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4941],{23401:function(e,t,n){var r=n(74165),i=n(15861),a=n(47670),s=n(30464),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.post(s.v.transaction.CHECKOUT,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.post(s.v.transaction.TRANSACTIONS,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(s.v.transaction.TRANSACTIONS,{params:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(s.v.transaction.TRANSACTION_DETAILS(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(s.v.transaction.ORDER_DETAILS(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h={createCheckout:c,getTransactionHistory:u,createTransaction:o,getTransactionDetail:l,getOrderDetails:d};t.Z=h},38466:function(e,t,n){var r=n(43964),i=n(65098),a=n(94129),s=n(46417);t.Z=function(e){var t=e.name,n=e.qty,c=e.total,o=e.variantName,u=e.onClick,l=e.disabled,d=e.productPhoto;return(0,s.jsxs)(r.Ug,{alignItems:"start",gap:3,width:"100%",children:[(0,s.jsx)(r.oM,{ratio:1,minWidth:"4em",borderRadius:"lg",children:(0,s.jsx)(i.Ee,{src:d,alt:t,fallbackSrc:"./image-fallback.png",borderRadius:"lg",opacity:l?.5:1})}),(0,s.jsxs)(r.gC,{alignItems:"flex-start",width:"40%",spacing:1,children:[(0,s.jsx)(r.xv,{role:"button",textTransform:"uppercase",fontWeight:"bold",onClick:u,opacity:l?.5:1,_hover:{textDecoration:l?"none":"underline"},children:t}),(0,s.jsxs)(r.xv,{fontWeight:"semibold",fontSize:"xs",color:"gray.500",children:[o," - ",n," item(s)"]}),(0,s.jsxs)(r.xv,{color:"darkDarken",fontSize:"sm",fontWeight:"bold",opacity:l?.5:1,children:["Rp",(0,a.xG)(c)]})]})]})}},59522:function(e,t,n){var r=n(43964),i=n(46417);t.Z=function(e){var t=e.shopName,n=e.shopCityName;return(0,i.jsxs)(r.gC,{alignItems:"start",spacing:0,pb:3,children:[(0,i.jsx)(r.xv,{fontWeight:"bold",children:t}),(0,i.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:n})]})}},13415:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(1413),i=n(29439),a=n(15088),s=n(43964),c=n(69748),o=n(53068),u=n(47313),l=n(59934);var d=function(e,t){var n=(0,u.useRef)();return(0,u.useEffect)((function(){return function(){n.current&&clearTimeout(n.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=setTimeout((function(){e.apply(void 0,i)}),t);clearTimeout(n.current),n.current=s}},h=n(46417);var p=function(e){var t=e.disabled,n=e.minQty,p=e.maxQty,x=e.stock,f=e.defaultValue,m=e.onQuantityChange,g=(0,u.useState)(null!==f&&void 0!==f?f:1),j=(0,i.Z)(g,2),v=j[0],b=j[1],y=(0,a.MM)({focusInputOnChange:!1,defaultValue:null!==f&&void 0!==f?f:1,min:n&&n>1?n:1,max:p&&p>0&&p<x?p:x>0?x:1,isDisabled:t,onChange:function(e,t){""!==e&&b(t)},value:v}),C=y.getInputProps,Z=y.getIncrementButtonProps,w=y.getDecrementButtonProps,_=d(m,1e3);return(0,u.useEffect)((function(){_(v)}),[v]),(0,u.useEffect)((function(){b(null!==f&&void 0!==f?f:1)}),[x]),(0,h.jsxs)(s.Ug,{ms:-2,my:3,children:[(0,h.jsx)(c.hU,(0,r.Z)({"aria-label":"minus",icon:(0,h.jsx)(l.Z.Minus,{fill:"primary"}),variant:"quantity"},w())),(0,h.jsx)(o.II,(0,r.Z)((0,r.Z)({},C()),{},{border:"none",textAlign:"center",_focusVisible:{outline:"none"},fontWeight:"semibold",variant:"quantity",maxW:20})),(0,h.jsx)(c.hU,(0,r.Z)({"aria-label":"plus",icon:(0,h.jsx)(l.Z.Plus,{fill:"primary"}),variant:"quantity"},Z()))]})}},72301:function(e,t,n){var r=n(74165),i=n(15861),a=n(23401);t.Z=function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.createCheckout(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.createTransaction(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{createCheckout:e,createTransaction:t}}},87129:function(e,t,n){var r=n(47313);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BAZR",t=document.getElementById("title");(0,r.useEffect)((function(){t.innerHTML=e}),[e])}},54941:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(4942),i=n(1413),a=n(74165),s=n(15861),c=n(93433),o=n(29439),u=n(84959),l=n(19195),d=n(43964),h=n(34410),p=n(69748),x=n(8914),f=n(47313),m=n(58467),g=n(59934),j=n(59522),v=n(36459),b=n(78788),y=n(43974),C=n(38466),Z=n(13415),w=n(46417),_=function(e){var t=Object.assign({},((0,v.Z)(e),e)),n=(0,m.s0)(),r=(0,b.Z)().updateCart,i=!t.data.stock||t.data.stock<t.data.min_buy_qty;return(0,w.jsxs)(d.xu,{backgroundColor:i?"lightLighten":"transparent",children:[(0,w.jsxs)(d.Ug,{width:"100%",pt:3,alignItems:"start",gap:2,children:[(0,w.jsx)(h.XZ,{isChecked:t.selectedCart,colorScheme:"default",onChange:function(e){return t.handleSelectItem(e,t.data.cart_id,t.data.shop_id)},disabled:i}),(0,w.jsx)(C.Z,{name:t.data.product_name,qty:t.data.quantity,total:t.data.variant_type_price,variantName:t.data.variant_type_name.split(",").join(", "),onClick:function(){return n(y.Z.PDP(t.data.product_id,t.data.product_name))},disabled:i,productPhoto:t.data.product_photo},t.data.variant_type_id)]}),(0,w.jsxs)(d.kC,{alignItems:"center",width:"100%",justifyContent:"space-between",mb:3,flexDirection:{base:"column",sm:"column",md:"row",lg:"row",xl:"row"},children:[(0,w.jsx)(p.zx,{variant:"unstyled",marginStart:"2.75em",color:"primary",textAlign:"start",fontSize:"xs",disabled:i,children:"Add Notes"}),(0,w.jsxs)(d.Ug,{spacing:5,justifyContent:"end",alignItems:"center",width:"100%",children:[i&&(0,w.jsx)(d.xv,{fontSize:"xs",color:"dark",fontWeight:"semibold",children:"Out of stock"}),(0,w.jsx)(p.hU,{variant:"unstyled","aria-label":"delete",icon:(0,w.jsx)(g.Z.Trash,{boxSize:4,fill:i?"red":"dark"}),onClick:function(){return t.handleDeleteItem(t.data.cart_id)}}),(0,w.jsx)(Z.Z,{onQuantityChange:function(e){e!==t.data.quantity&&r({quantity:e-t.data.quantity,shop_id:t.data.shop_id,variant_type_id:t.data.variant_type_id})},maxQty:t.data.max_buy_qty,minQty:t.data.min_buy_qty,stock:t.data.stock,defaultValue:t.data.quantity,disabled:i})]})]})]})},k=function(e){return(0,w.jsx)(d.xu,{py:2,px:3,width:{base:"15em",sm:"20em",md:"20em",lg:"20em",xl:"20em"},color:"white",backgroundColor:"primary",borderRadius:"lg",mx:"auto",children:(0,w.jsxs)(d.Ug,{width:"100%",justifyContent:"space-between",children:[(0,w.jsx)(d.xv,{fontSize:{base:"sm",sm:"md",md:"lg",lg:"lg",xl:"lg"},children:e.description}),(0,w.jsx)(p.zx,{variant:"unstyled",onClick:e.onClick,children:e.isUpdated?"OK":"Undo"})]})})},I=n(72301),S=n(87129),T=n(94129),O=function(){(0,S.Z)("Cart | BAZR");var e=(0,b.Z)(),t=e.cart,n=e.setCheckoutData,v=e.deleteCart,C=e.deleteItem,Z=e.undoDeleteItem,O=e.setCheckoutCartIds,z=e.getCart,R=(0,u.qY)(),U=R.isOpen,W=R.onOpen,A=R.onClose,E=(0,m.s0)(),D=(0,l.pm)(),q=(0,f.useRef)(),N=(0,I.Z)().createCheckout,P=(0,f.useState)(!1),G=(0,o.Z)(P,2),B=G[0],M=G[1],Q=(0,f.useState)({}),H=(0,o.Z)(Q,2),L=H[0],V=H[1],X=(0,f.useState)({}),Y=(0,o.Z)(X,2),K=Y[0],F=Y[1],J=(0,f.useState)([]),$=(0,o.Z)(J,2),ee=$[0],te=$[1],ne=(0,f.useState)(0),re=(0,o.Z)(ne,2),ie=re[0],ae=re[1],se=(0,u.qY)(),ce=se.isOpen,oe=se.onOpen,ue=se.onClose,le=function(e,n,r){e.currentTarget.checked?te([].concat((0,c.Z)(ee),[t.find((function(e){return e.cart_id===n}))])):te(ee.filter((function(e){return e.cart_id!==n})))},de=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=[],ee.forEach((function(e){var n;0===t.length||-1===t.findIndex((function(t){return t.shop_id===e.shop_id}))?t=[].concat((0,c.Z)(t),[{shop_id:e.shop_id,order_details:[{cart_id:e.cart_id}]}]):null===(n=t.find((function(t){return t.shop_id===e.shop_id})))||void 0===n||n.order_details.push({cart_id:e.cart_id});r.push(e.cart_id)})),e.next=5,N({orders:t});case 5:(i=e.sent).is_success&&(n(i.data),O(r),E(y.Z.CART_SHIPMENT,{replace:!0}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(e){C(e),q.current&&D.isActive(q.current)&&D.close(q.current),q.current=D({description:"Item deleted.",duration:3e3,position:"top",onCloseComplete:function(){v(e)},render:function(e){return(0,w.jsx)(k,{description:e.description,isUpdated:!1,onClick:function(){return M(!0)}})}})};return(0,f.useEffect)((function(){q.current&&B&&(Z(),D.update(q.current,{description:"Success undo delete item.",duration:3e3,position:"top",onCloseComplete:function(){},render:function(e){return(0,w.jsx)(k,{description:e.description,isUpdated:!0,onClick:function(){return D.close(q.current)}})}}),M(!1))}),[B]),(0,f.useEffect)((function(){var e={all:0!==t.length&&ee.length===t.length};Object.keys(K).forEach((function(t){e[t]=ee.filter((function(e){return e.shop_id===parseInt(t)})).length===Object.values(K[parseInt(t)]).length}));var n=ee.reduce((function(e,t){return e+t.variant_type_price*t.quantity}),0);ae(n),V((0,i.Z)({},e))}),[ee,t]),(0,f.useEffect)((function(){if(0!==t.length){var e={};t.forEach((function(t){e[t.shop_id]=(0,i.Z)((0,i.Z)({},e[t.shop_id]),{},(0,r.Z)({},t.cart_id,t))})),F(e)}}),[t]),(0,w.jsxs)(d.W2,{maxW:"container.xl",children:[(0,w.jsx)(d.xu,{px:{base:"1em",sm:"2em",md:"3em",lg:"4em",xl:"4em"},py:{base:"1em",sm:"1.5em",md:"2em",lg:"2.5em",xl:"4em"},children:0!==t.length?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.X6,{pb:3,size:{base:"md",sm:"lg"},children:"Cart"}),(0,w.jsxs)(d.rj,{templateColumns:"repeat(3, 1fr)",gap:10,width:"100%",mb:{base:"7em",sm:"6em",md:"6em",lg:0,xl:0},children:[(0,w.jsx)(d.P4,{colSpan:{base:3,sm:3,md:3,lg:2,xl:2},children:(0,w.jsxs)(d.gC,{spacing:5,children:[(0,w.jsxs)(d.xu,{width:"100%",children:[(0,w.jsxs)(d.Ug,{justifyContent:"space-between",children:[(0,w.jsx)(h.XZ,{isChecked:L.all,onChange:function(e){e.currentTarget.checked?te(t):te([])},textTransform:"uppercase",fontWeight:"extrabold",spacing:4,colorScheme:"default",children:"Select All"}),(0,w.jsx)(p.zx,{variant:"unstyled",color:"primary",onClick:function(){oe()},fontSize:"xs",children:"Clear cart"})]}),(0,w.jsx)(d.iz,{})]}),Object.entries(K).map((function(e,n){var r,i,a=(0,o.Z)(e,2),s=a[0],u=a[1];return(0,w.jsxs)(d.xu,{width:"100%",children:[(0,w.jsxs)(d.xu,{width:"100%",children:[(0,w.jsxs)(d.Ug,{alignItems:"start",gap:2,children:[(0,w.jsx)(h.XZ,{isChecked:L[s],onChange:function(e){return function(e,n){e.currentTarget.checked?te([].concat((0,c.Z)(ee.filter((function(e){return e.shop_id!==n}))),(0,c.Z)(t.filter((function(e){return e.shop_id===n}))))):te(ee.filter((function(e){return e.shop_id!==n})))}(e,parseInt(s))},mt:1,colorScheme:"default"}),(0,w.jsx)(j.Z,{shopName:null===(r=Object.values(u).at(0))||void 0===r?void 0:r.shop_name,shopCityName:null===(i=Object.values(u).at(0))||void 0===i?void 0:i.city_name})]}),(0,w.jsx)(d.gC,{children:Object.values(u).map((function(e,t){return(0,w.jsxs)(d.xu,{width:"100%",children:[(0,w.jsx)(_,{handleSelectItem:le,data:e,selectedCart:-1!==ee.findIndex((function(t){return t.cart_id===e.cart_id})),handleDeleteItem:he}),t<Object.values(u).length-1&&(0,w.jsx)(d.iz,{borderBottomWidth:"0.1em"})]},e.cart_id)}))})]}),n<Object.entries(K).length&&(0,w.jsx)(d.iz,{})]},s)}))]})}),(0,w.jsx)(d.P4,{colSpan:1,display:{base:"none",sm:"none",md:"none",lg:"block",xl:"block"},children:(0,w.jsxs)(d.gC,{boxShadow:"md",p:4,spacing:5,borderRadius:"lg",border:"2px solid",borderColor:"lightLighten",children:[(0,w.jsx)(d.xv,{fontWeight:"bold",textAlign:"start",width:"100%",textTransform:"uppercase",children:"Order Summary"}),(0,w.jsxs)(d.gC,{alignItems:"start",width:"100%",spacing:0,children:[(0,w.jsxs)(d.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,w.jsx)(d.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:"Total Price (Item)"}),(0,w.jsxs)(d.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:["Rp",(0,T.xG)(ie)]})]}),(0,w.jsxs)(d.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,w.jsx)(d.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:"Total Discount Item(s)"}),(0,w.jsxs)(d.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:["Rp",(0,T.xG)(0)]})]})]}),(0,w.jsx)(d.iz,{borderBottomWidth:"0.1em"}),(0,w.jsxs)(d.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",fontWeight:"bold",textAlign:"start",children:[(0,w.jsx)(d.xv,{textTransform:"uppercase",children:"Grand Total"}),(0,w.jsxs)(d.xv,{color:"primary",children:["Rp",(0,T.xG)(ie)]})]}),(0,w.jsxs)(p.zx,{borderRadius:"lg",width:"100%",shadow:"none",onClick:de,variant:"primary",isDisabled:0===ee.length,children:["Checkout (",ee.length,")"]})]})})]}),(0,w.jsx)(d.xu,{background:"white",position:"fixed",right:0,bottom:0,left:0,p:5,borderTop:"1px",borderColor:"primary",display:{base:"block",sm:"block",md:"block",lg:"none",xl:"none"},children:(0,w.jsxs)(d.gC,{spacing:5,children:[(0,w.jsx)(p.zx,{variant:"outline",width:"100%",borderRadius:"lg",children:(0,w.jsxs)(d.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,w.jsx)(g.Z.Plus,{}),(0,w.jsx)(d.xv,{fontWeight:"semibold",children:"Select Voucher"}),(0,w.jsx)(g.Z.ChevronRight,{})]})}),(0,w.jsxs)(d.Ug,{width:"100%",justifyContent:"space-between",children:[(0,w.jsxs)(d.gC,{alignItems:"start",children:[(0,w.jsx)(d.xv,{children:"Total Price"}),(0,w.jsxs)(d.Ug,{spacing:0,children:[(0,w.jsxs)(d.xv,{fontWeight:"semibold",children:["Rp",(0,T.xG)(ie)]}),(0,w.jsx)(p.hU,{size:"md","aria-label":"chevron up",variant:"ghost",icon:(0,w.jsx)(g.Z.ChevronUp,{}),onClick:W})]})]}),(0,w.jsxs)(p.zx,{borderRadius:"lg",shadow:"none",onClick:de,variant:0===ee.length?"basicOutline":"primary",isDisabled:0===ee.length,children:["Buy (",ee.length,")"]})]})]})}),(0,w.jsxs)(x.dy,{placement:"bottom",onClose:A,isOpen:U,children:[(0,w.jsx)(x.P1,{}),(0,w.jsxs)(x.sc,{children:[(0,w.jsx)(x.OX,{children:"Shopping summary"}),(0,w.jsxs)(x.Ng,{children:[(0,w.jsxs)(d.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,w.jsx)(d.xv,{children:"Total Price (Item)"}),(0,w.jsxs)(d.xv,{children:["Rp",(0,T.xG)(ie)]})]}),(0,w.jsxs)(d.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,w.jsx)(d.xv,{children:"Total Discount Item(s)"}),(0,w.jsxs)(d.xv,{children:["Rp",(0,T.xG)(0)]})]})]}),(0,w.jsx)(x.ze,{borderTopWidth:"1px",children:(0,w.jsxs)(d.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",fontWeight:"semibold",children:[(0,w.jsx)(d.xv,{children:"Grand Total"}),(0,w.jsxs)(d.xv,{children:["Rp",(0,T.xG)(ie)]})]})})]})]})]}):(0,w.jsx)(d.M5,{children:(0,w.jsxs)(d.gC,{children:[(0,w.jsx)(d.xv,{children:"Your Cart is Empty"}),(0,w.jsx)(p.zx,{borderRadius:"lg",shadow:"none",color:"white",onClick:function(){return E(y.Z.HOME,{replace:!0})},children:"Shop Now"})]})})}),(0,w.jsxs)(x.u_,{isOpen:ce,onClose:ue,children:[(0,w.jsx)(x.ZA,{}),(0,w.jsxs)(x.hz,{children:[(0,w.jsx)(x.xB,{children:"Are You Sure?"}),(0,w.jsx)(x.ol,{}),(0,w.jsx)(x.fe,{children:"Are you sure want to clear cart?"}),(0,w.jsx)(x.mz,{children:(0,w.jsx)(p.zx,{colorScheme:"blue",mr:3,onClick:function(){ue(),Object.entries(K).forEach((function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);Object.values(n).forEach((function(e){var t=e.cart_id;C(t),v(t).then((function(){z()}))}))}))},children:"Clear Cart"})})]})]})]})}}}]);
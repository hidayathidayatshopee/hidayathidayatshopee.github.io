"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[387],{68570:function(e,n,r){var t=r(29439),a=r(36459),u=r(39712),c=r(75777),i=r(72791),s=r(80184);n.Z=function(e){var n=Object.assign({},((0,a.Z)(e),e)),r=(0,i.useState)([]),o=(0,t.Z)(r,2),d=o[0],p=o[1],f=function(e){window.scrollTo(0,0),n.setPage(e)};return(0,i.useEffect)((function(){!function(e,r){var t=[],a=r+1;t=e<=10?Array.from(Array(n.data.total_page).keys(),(function(e){return String(e+1)})):a<=4?["1","2","3","...",String(e)]:a<6?["1","...",String(a-2),String(a-1),String(a),"...",String(e)]:a<e&&a>4?["1","...",String(a-3),String(a-2),String(a-1),"...",String(e)]:a>e-4?["1","...",String(e-2),String(e-1),String(e)]:["1","...",String(a-1),String(a),String(a+1),"...",String(e)],p(t)}(n.data.total_page,n.data.current_page)}),[n.data]),(0,s.jsxs)(u.kC,{justifyContent:"center",gap:5,py:8,children:[(0,s.jsx)(c.zx,{variant:"unstyled",borderRadius:"none",fontWeight:"normal",size:{base:"md",sm:"lg",md:"lg",lg:"lg",xl:"lg"},onClick:function(){n.data.current_page-1>0&&f(n.data.current_page-1)},children:"Prev"}),d.map((function(e,r){return(0,s.jsx)(c.zx,{variant:"unstyled",borderRadius:"none",fontWeight:n.data.current_page===Number(e)?"bold":"normal",borderBottom:n.data.current_page===Number(e)?"1px":"",borderColor:"primary",size:{md:"lg",lg:"lg",xl:"lg"},display:{base:"none",sm:"none",md:"inline",lg:"inline",xl:"inline"},onClick:function(){"..."!==e&&f(Number(e))},children:e},r)})),(0,s.jsx)(c.zx,{variant:"unstyled",borderRadius:"none",fontWeight:"normal",size:{base:"md",sm:"lg",md:"lg",lg:"lg",xl:"lg"},onClick:function(){n.data.current_page+1<=n.data.total_page&&f(n.data.current_page+1)},children:"Next"})]})}},83548:function(e,n,r){r.d(n,{Z:function(){return f}});var t=r(74165),a=r(15861),u=r(29396),c=r(52914),i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.post(c.v.refund.REFUNDS,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get(c.v.refund.BUYER_REFUNDS,{params:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get(c.v.refund.REFUNDS,{params:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.patch(c.v.refund.REFUND_DETAIL(n),r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r){return e.apply(this,arguments)}}(),p={createRefund:i,getBuyerRefund:s,getAdminRefund:o,approveRefundAdmin:d},f=function(){var e=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.createRefund(n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getBuyerRefund(n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getAdminRefund(n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.approveRefundAdmin(n,r);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();return{createRefund:e,fetchBuyerRefund:n,fetchAdminRefund:r,approveRefundAdmin:u}}},60387:function(e,n,r){r.r(n);var t=r(74165),a=r(15861),u=r(29439),c=r(39712),i=r(31089),s=r(75777),o=r(83548),d=r(83421),p=r(72791),f=r(39126),l=r(68570),g=r(34355),x=r(80184);n.default=function(){var e=(0,p.useState)([]),n=(0,u.Z)(e,2),r=n[0],h=n[1],v=(0,o.Z)(),m=v.fetchAdminRefund,Z=v.approveRefundAdmin,b=(0,p.useState)(0),j=(0,u.Z)(b,2),w=j[0],y=j[1],R=(0,p.useState)(0),S=(0,u.Z)(R,2),A=S[0],k=S[1],_=(0,g.Z)(),T=_.successToast,C=_.errorToast,E=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({page:w});case 2:if((n=e.sent).is_success){e.next=6;break}return C(n.message),e.abrupt("return");case 6:h(n.data.data),k(n.data.total_page);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(n,{status:"refunded"});case 2:if((r=e.sent).is_success){e.next=6;break}return C(r.message),e.abrupt("return");case 6:T("Refund processed");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){E()}),[w]),(0,x.jsxs)(c.kC,{maxHeight:"100vh",maxWidth:"100vw",direction:"column",justifyContent:"center",alignItems:"center",bgColor:"whiteAlpha.700",p:3,children:[(0,x.jsx)(c.xv,{fontSize:"5xl",fontWeight:"bold",children:"Manage System Refund"}),(0,x.jsx)(i.xJ,{maxHeight:"80vh",width:"80%",overflowY:"scroll",children:(0,x.jsxs)(i.iA,{variant:"striped",children:[(0,x.jsx)(i.hr,{children:(0,x.jsxs)(i.Tr,{children:[(0,x.jsx)(i.Th,{textAlign:"center",children:"Order ID"}),(0,x.jsx)(i.Th,{textAlign:"center",children:"Seller"}),(0,x.jsx)(i.Th,{textAlign:"center",children:"Buyer"}),(0,x.jsx)(i.Th,{textAlign:"center",children:"Amount"}),(0,x.jsx)(i.Th,{textAlign:"center",children:"Action"})]})}),(0,x.jsx)(i.p3,{children:r.map((function(e){return(0,x.jsxs)(i.Tr,{children:[(0,x.jsx)(i.Td,{textAlign:"center",children:e.order_id}),(0,x.jsx)(i.Td,{textAlign:"center",children:e.seller_name}),(0,x.jsx)(i.Td,{textAlign:"center",children:e.buyer_name}),(0,x.jsx)(i.Td,{textAlign:"center",children:"Rp"+(0,d.xG)(e.amount)}),(0,x.jsx)(i.Td,{textAlign:"center",children:(0,x.jsx)(s.hU,{mx:1,"aria-label":"Refund",bgColor:"green.300",icon:(0,x.jsx)(f.Reu,{}),onClick:function(){return N(e.id)}})})]})}))})]})}),(0,x.jsx)(l.Z,{data:{total_page:A,current_page:w},setPage:y})]})}}}]);
//# sourceMappingURL=387.75d9dff4.chunk.js.map
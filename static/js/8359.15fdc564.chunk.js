"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8359],{23401:function(e,n,t){var r=t(74165),i=t(15861),s=t(47670),o=t(30464),a=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post(o.v.transaction.CHECKOUT,n);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post(o.v.transaction.TRANSACTIONS,n);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(o.v.transaction.TRANSACTIONS,{params:n});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(o.v.transaction.TRANSACTION_DETAILS(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(o.v.transaction.ORDER_DETAILS(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),h={createCheckout:a,getTransactionHistory:d,createTransaction:c,getTransactionDetail:l,getOrderDetails:u};n.Z=h},38466:function(e,n,t){var r=t(43964),i=t(65098),s=t(94129),o=t(46417);n.Z=function(e){var n=e.name,t=e.qty,a=e.regularPrice,c=e.discountedPrice,d=e.total,l=e.variantName,u=e.onClick,h=e.disabled,x=e.productPhoto;return(0,o.jsxs)(r.Ug,{alignItems:"start",gap:3,width:"100%",children:[(0,o.jsx)(r.oM,{ratio:1,minWidth:"4em",borderRadius:"lg",children:(0,o.jsx)(i.Ee,{loading:"lazy",src:x,alt:n,fallbackSrc:"./image-fallback.png",borderRadius:"lg",opacity:h?.5:1})}),(0,o.jsxs)(r.gC,{alignItems:"flex-start",flexGrow:2,spacing:1,children:[(0,o.jsx)(r.xv,{role:"button",textTransform:"uppercase",fontWeight:"bold",onClick:u,opacity:h?.5:1,_hover:{textDecoration:h?"none":"underline"},children:n}),(0,o.jsxs)(r.xv,{fontWeight:"semibold",fontSize:"xs",color:"gray.500",children:[l," - ",t," item(s)"]}),(0,o.jsxs)(r.kC,{direction:"row",justifyContent:"space-between",width:"100%",children:[0!==c?(0,o.jsxs)(r.kC,{direction:"row",gap:1,children:[(0,o.jsxs)(r.xv,{fontSize:"sm",color:"gray.500",textDecor:"line-through",fontWeight:"bold",children:["Rp",(0,s.xG)(a)]}),(0,o.jsxs)(r.xv,{fontSize:"md",color:"red.400",fontWeight:"bold",children:["Rp",(0,s.xG)(c)]})]}):(0,o.jsxs)(r.xv,{color:"darkDarken",fontSize:"sm",fontWeight:"bold",opacity:h?.5:1,children:["Rp",(0,s.xG)(a)]}),(0,o.jsxs)(r.xv,{color:"darkDarken",fontSize:"sm",fontWeight:"bold",opacity:h?.5:1,children:["Rp",(0,s.xG)(d)]})]})]})]})}},59522:function(e,n,t){var r=t(43964),i=t(46417);n.Z=function(e){var n=e.shopName,t=e.shopCityName,s=e.onClick;return(0,i.jsxs)(r.gC,{alignItems:"start",spacing:0,pb:3,children:[(0,i.jsx)(r.xv,{role:"button",fontWeight:"bold",onClick:s,_hover:{textDecoration:"underline"},children:n}),(0,i.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:t})]})}},83669:function(e,n,t){var r=t(74165),i=t(15861),s=t(23401),o=t(14737),a=t(45827),c=t(88851);n.Z=function(){var e=(0,a.T)(),n=(0,a.C)((function(e){return e.transactionOrderHistory})),t=n.transactionOrderHistory,d=n.deliveryStatus,l=n.page,u=n.showOrderDetail,h=n.showTransactionDetail,x=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(null===t||void 0===t?void 0:t.status)===o.cB.ALL&&(t.status=void 0),n.next=3,s.Z.getTransactionHistory(t);case 3:if(!(i=n.sent).is_success){n.next=7;break}return e((0,c.QE)(i.data)),n.abrupt("return",i.data);case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getTransactionDetail(n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getOrderDetails(n);case 2:if(!(t=e.sent).is_success){e.next=5;break}return e.abrupt("return",t.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getTransactionDetail(n);case 2:if(!(t=e.sent).is_success){e.next=5;break}return e.abrupt("return",t.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetchTransactionHistory:x,fetchOrderDetails:f,fetchTransactionDetail:m,transactionOrderHistory:t,setTransactionOrderHistory:function(n){e((0,c.QE)(n))},deliveryStatus:d,setDeliveryStatus:function(n){e((0,c.Bm)(n))},page:l,setPage:function(n){e((0,c.YA)(n))},getTransactionDetail:p,showOrderDetail:u,setShowOrderDetail:function(n){e((0,c.oz)(n))},showTransactionDetail:h,setShowTransactionDetail:function(n){e((0,c.sf)(n))}}}},87129:function(e,n,t){var r=t(47313);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BAZR",n=document.getElementById("title");(0,r.useEffect)((function(){n.innerHTML=e}),[e])}},93995:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ne}});var r=t(43964),i=t(13338),s=t(53022),o=t(63714),a=t(36777),c=t(46036),d=t(94129),l=t(74165),u=t(15861),h=t(29439),x=t(84959),p=t(69748),f=t(47313),m=t(45827),v=t(76839),j=t(45598),g=t(47670),b=t(30464),C=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.get(b.v.address.PROVINCES);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.get(b.v.address.CITIES(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),S=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.get(b.v.address.SUBDISTRICTS(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post(b.v.address.ADDRESS,n);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n,t){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.put(b.v.address.UPDATE_ADDRESS(n),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),k=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.put(b.v.address.SET_USER_DEFAULT_ADDRESS,n);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.put(b.v.shop.SET_SHOP_DEFAULT_ADDRESS,n);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),I={getProvinces:C,getCities:_,getSubdistricts:S,postNewAddress:Z,putEditAddress:w,putUserDefaultAddress:k,putShopDefaultAddress:y},z=function(){var e=(0,m.C)((function(e){return e.address})),n=e.modalTitle,t=e.provinces,r=e.cities,i=e.subdistricts,s=e.selectedZipCode,o=e.inputName,a=e.inputPhoneNumber,c=e.inputDistrictWard,d=e.inputStreetName,h=e.inputNotes,x=e.selectedProvinceId,p=e.selectedCityId,f=e.selectedSubdistrictId,g=(0,m.T)(),b=(0,j.Z)(),C=b.successToast,_=b.errorToast,S=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getProvinces();case 2:if(!(n=e.sent).is_success){e.next=6;break}return g((0,v.Te)(n.data)),e.abrupt("return",n.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getCities(n);case 2:if(!(t=e.sent).is_success){e.next=6;break}return g((0,v.Ix)(t.data)),e.abrupt("return",t.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getSubdistricts(n);case 2:if(!(t=e.sent).is_success){e.next=6;break}return g((0,v.HP)(t.data)),e.abrupt("return",t.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.postNewAddress(n);case 2:if(!(t=e.sent).is_success){e.next=6;break}return C("Add new address success"),e.abrupt("return","Add new address success");case 6:return _(t.message),e.abrupt("return",t.message);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n,t){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.putEditAddress(n,t);case 2:if(!(r=e.sent).is_success){e.next=6;break}return C("Edit address success"),e.abrupt("return",r.data);case 6:return _(r.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),z=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.putUserDefaultAddress(n);case 2:if(!(t=e.sent).is_success){e.next=6;break}return C("Set as Default Shipping Success"),e.abrupt("return",t.data);case 6:return _(t.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.putShopDefaultAddress(n);case 2:if(!(t=e.sent).is_success){e.next=6;break}return C("Set as Shop Location Success"),e.abrupt("return",t.data);case 6:return _(t.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{modalTitle:n,setModalTitle:function(e){g((0,v.Gd)(e))},provinces:t,fetchProvinces:S,cities:r,fetchCities:Z,subdistricts:i,fetchSubdistricts:w,selectedZipCode:s,setSelectedZipCode:function(e){g((0,v.Uj)(e))},inputName:o,setinputName:function(e){g((0,v.Go)(e))},inputPhoneNumber:a,cleanInputPhoneNumber:function(e){var n=e.indexOf("8");return-1===n?"":e.slice(n)},setInputPhoneNumber:function(e){g((0,v.Kh)(e))},inputDistrictWard:c,setinputDistrictWard:function(e){g((0,v.Hf)(e))},inputStreetName:d,setInputStreetName:function(e){g((0,v.Y0)(e))},inputNotes:h,setInputNotes:function(e){g((0,v.ch)(e))},selectedProvinceId:x,setSelectedProvinceId:function(e){g((0,v.U3)(e))},selectedCityId:p,setSelectedCityId:function(e){g((0,v.W$)(e))},selectedSubdistrictId:f,setSelectedSubdistrictId:function(e){g((0,v.NL)(e))},addNewAddress:k,resetFormState:function(){g((0,v.Go)("")),g((0,v.Kh)("")),g((0,v.U3)(-1)),g((0,v.W$)(-1)),g((0,v.NL)(-1)),g((0,v.Uj)("")),g((0,v.Hf)("")),g((0,v.Y0)("")),g((0,v.ch)(""))},updateAddress:y,updateUserDefaultAddress:z,updateShopDefaultAddress:O}},O=t(35738),N=t(32768),R=t(46417);var D=function(e){return(0,R.jsx)(r.xv,{border:"2px",borderColor:"teal.100",fontSize:"smaller",color:"teal.500",cursor:"default",padding:1,children:e.text})};var A=function(e){var n=z(),t=n.setModalTitle,i=n.setinputName,s=n.cleanInputPhoneNumber,o=n.setInputPhoneNumber,d=n.setSelectedProvinceId,l=n.setSelectedCityId,u=n.setinputDistrictWard,h=n.setInputStreetName,x=n.setInputNotes,p=n.updateUserDefaultAddress,f=n.updateShopDefaultAddress,m=(0,c.Z)().user,v=function(n){t({title:O.k.EDIT_ADDRESS,addressId:n}),function(e){i(e.recipient_name),o(s(e.recipient_phone)),d(e.province_id),l(e.city_id),u(e.district_ward),h(e.street_name),x(e.notes)}(e.address),e.onOpen()};return(0,R.jsxs)(r.xu,{children:[(0,R.jsxs)(r.kC,{padding:2,paddingTop:5,alignItems:"center",children:[(0,R.jsxs)(r.kC,{grow:1,direction:"column",children:[(0,R.jsxs)(r.kC,{marginBottom:3,height:"20px",alignItems:"center",children:[(0,R.jsx)(r.kC,{fontWeight:"bold",children:e.address.recipient_name}),(0,R.jsx)(r.iz,{marginX:3,orientation:"vertical"}),(0,R.jsx)(r.kC,{children:e.address.recipient_phone})]}),(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsx)(r.xv,{children:e.address.street_name}),(0,R.jsx)(r.xv,{children:e.address.notes}),(0,R.jsx)(r.xv,{children:function(e){return"".concat(e.province_name,", ").concat(e.city_name,", ").concat(e.sub_district,", ").concat(e.district_ward,", ").concat(e.zip_code)}(e.address)})]}),(0,R.jsx)(r.kC,{children:function(e){var n=[];return e.is_default&&n.push("Default Shipping"),e.is_shop_default&&n.push("Shop Location"),n}(e.address).map((function(e,n){return(0,R.jsx)(r.xu,{paddingY:1,paddingEnd:1,children:(0,R.jsx)(D,{text:e})},n)}))})]}),(0,R.jsxs)(r.kC,{gap:5,children:[(0,R.jsx)(N.u,{hasArrow:!0,label:"Set as Default Shipping",children:(0,R.jsx)(r.xu,{onClick:function(){p({address_id:e.address.address_id}),e.refetchUserAddress()},cursor:"pointer",children:(0,R.jsx)(a.Z.PinMap,{})})}),null!==m&&void 0!==m&&m.is_seller?(0,R.jsx)(N.u,{hasArrow:!0,label:"Set as Shop Location",children:(0,R.jsx)(r.xu,{onClick:function(){f({address_id:e.address.address_id}),e.refetchUserAddress()},cursor:"pointer",children:(0,R.jsx)(a.Z.Shop,{})})}):"",(0,R.jsx)(N.u,{hasArrow:!0,label:"Edit Address",children:(0,R.jsx)(r.xu,{onClick:function(){return v(e.address.address_id)},cursor:"pointer",children:(0,R.jsx)(a.Z.Pencil,{})})})]})]}),(0,R.jsx)(r.iz,{borderWidth:"thin"})]})},T=t(8914),W=t(720),P=t(53068),E=t(88679),L=t(7410),U=t(3463);var M=function(e){var n=z(),t=n.modalTitle,i=n.provinces,s=n.fetchProvinces,o=n.cities,a=n.fetchCities,c=n.subdistricts,d=n.fetchSubdistricts,h=n.selectedZipCode,x=n.setSelectedZipCode,m=n.inputName,v=n.setinputName,j=n.inputPhoneNumber,g=n.setInputPhoneNumber,b=n.inputDistrictWard,C=n.setinputDistrictWard,_=n.inputStreetName,S=n.setInputStreetName,Z=n.inputNotes,w=n.setInputNotes,k=n.selectedProvinceId,y=n.setSelectedProvinceId,I=n.selectedCityId,N=n.setSelectedCityId,D=n.selectedSubdistrictId,A=n.setSelectedSubdistrictId,T=n.addNewAddress,M=n.updateAddress,q=-1,B="",Y="name",J="phoneNumber",G="province",F="city",H="subdistrict",X="zipcode",V="districtward",K="streetname",Q="notes";(0,f.useEffect)((function(){var e=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(){var n,t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:if(k===q){e.next=12;break}if(a(k),I===q){e.next=12;break}return e.next=7,d(I);case 7:if(n=e.sent){e.next=10;break}return e.abrupt("return");case 10:(t=n.find((function(e){return e.subdistrict_id===D})))&&x(t.zip_code);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[q,k,I,D]);var $=U.Ry().shape({name:U.Z_().required("Required"),phoneNumber:U.Z_().required("Required").matches(/^[0-9]+$/,"Must be only digits").min(8,"Must be at least 8 characters").max(13,"Must be less then 13 characters").matches(/^8.*/,"Invalid"),province:U.Rx().required("Required").min(0,"Please select province"),city:U.Rx().required("Required").min(0,"Please select city"),subdistrict:U.Rx().required("Required").min(0,"Please select subdistrict"),zipcode:U.Z_(),districtward:U.Z_().required("Required"),streetname:U.Z_().required("Required"),notes:U.Z_()}),ee=function(e){e.zipcode=h;var n=c.find((function(e){return e.subdistrict_id===D})),t="";return n&&(t=n.subdistrict),{province_id:e.province,city_id:e.city,sub_district:t,district_ward:e.districtward,zip_code:h,notes:e.notes,street_name:e.streetname,recipient_name:e.name,recipient_phone:"+62".concat(e.phoneNumber)}};return(0,R.jsx)(r.xu,{children:(0,R.jsx)(L.J9,{initialValues:{name:m,phoneNumber:j,province:k,city:I,subdistrict:D,zipcode:h,districtward:b,streetname:_,notes:Z},validationSchema:$,onSubmit:function(n){t.title===O.k.EDIT_ADDRESS?function(n,t){var r=ee(n);M(t,r),e.setRefetchUserAddress(Math.random()),e.onClose()}(n,t.addressId):function(n){var t=ee(n);T(t).then((function(){e.setRefetchUserAddress(Math.random()),e.onClose()}))}(n)},children:function(n){var s=n.handleSubmit,l=n.errors,u=n.touched,f=n.setFieldValue;return(0,R.jsx)("form",{onSubmit:s,children:(0,R.jsxs)(r.kC,{direction:"column",gap:5,children:[(0,R.jsxs)(W.NI,{isInvalid:!!l.name&&u.name,children:[(0,R.jsx)(W.lX,{children:"Name"}),(0,R.jsx)(L.gN,{as:P.II,variant:"flushed",placeholder:"John Doe",name:Y,value:m,onChange:function(e){!function(e,n){v(e.target.value),n(Y,e.target.value)}(e,f)}}),(0,R.jsx)(W.J1,{children:l.name})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.phoneNumber&&u.phoneNumber,children:[(0,R.jsx)(W.lX,{children:"Phone Number"}),(0,R.jsxs)(P.BZ,{children:[(0,R.jsx)(P.Ui,{children:"+62"}),(0,R.jsx)(L.gN,{as:P.II,variant:"flushed",type:"number",paddingStart:3,placeholder:"82198765432",name:J,value:j,onChange:function(e){!function(e,n){g(e.target.value),n(J,e.target.value)}(e,f)}})]}),(0,R.jsx)(W.J1,{children:l.phoneNumber})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.province&&u.province,children:[(0,R.jsx)(W.lX,{children:"Province"}),(0,R.jsxs)(L.gN,{as:E.Ph,variant:"filled",onChange:function(e){!function(e,n){var t=parseInt(e.target.value);a(t),n(G,t),y(t),n(F,q),N(q),n(H,q),A(q),x(B)}(e,f)},name:G,children:[(0,R.jsx)("option",{disabled:!0,value:q,children:"Select Province"}),i.map((function(e){return(0,R.jsx)("option",{value:e.province_id,children:e.province},e.province_id)}))]}),(0,R.jsx)(W.J1,{children:l.province})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.city&&u.city,isDisabled:k===q,children:[(0,R.jsx)(W.lX,{children:"City"}),(0,R.jsxs)(L.gN,{as:E.Ph,variant:"filled",onChange:function(e){!function(e,n){var t=parseInt(e.target.value);d(t),n(F,t),N(t),n(H,q),A(q),x(B)}(e,f)},name:F,children:[(0,R.jsx)("option",{disabled:!0,value:q,children:"Select City"}),o.map((function(e){return(0,R.jsx)("option",{value:e.city_id,children:"".concat(e.type," ").concat(e.city)},e.city_id)}))]}),(0,R.jsx)(W.J1,{children:l.city})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.subdistrict&&u.subdistrict,isDisabled:I===q,children:[(0,R.jsx)(W.lX,{children:"Subdistrict"}),(0,R.jsxs)(L.gN,{as:E.Ph,variant:"filled",onChange:function(e){!function(e,n){var t=parseInt(e.target.value);n(H,t),A(t);var r=c.find((function(e){return e.subdistrict_id===t}));r&&x(r.zip_code)}(e,f)},name:H,children:[(0,R.jsx)("option",{disabled:!0,value:q,children:"Select Subdistrict"}),c.map((function(e){return(0,R.jsx)("option",{value:e.subdistrict_id,children:e.subdistrict},e.subdistrict_id)}))]}),(0,R.jsx)(W.J1,{children:l.subdistrict})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.zipcode&&u.zipcode,isDisabled:!0,children:[(0,R.jsx)(W.lX,{children:"Zip Code"}),(0,R.jsx)(L.gN,{as:P.II,variant:"flushed",name:X,value:h}),(0,R.jsx)(W.J1,{children:l.zipcode})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.districtward&&u.districtward,children:[(0,R.jsx)(W.lX,{children:"District Ward"}),(0,R.jsx)(L.gN,{as:P.II,variant:"flushed",placeholder:"Kelurahan Kelapa Gading Barat",name:V,value:b,onChange:function(e){!function(e,n){C(e.target.value),n(V,e.target.value)}(e,f)}}),(0,R.jsx)(W.J1,{children:l.districtward})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.streetname&&u.streetname,children:[(0,R.jsx)(W.lX,{children:"Street Name"}),(0,R.jsx)(L.gN,{as:P.II,variant:"flushed",placeholder:"Jl. Pulau Putri RT.2 RW.9 No.12",name:K,value:_,onChange:function(e){!function(e,n){S(e.target.value),n(K,e.target.value)}(e,f)}}),(0,R.jsx)(W.J1,{children:l.streetname})]}),(0,R.jsxs)(W.NI,{isInvalid:!!l.notes&&u.notes,children:[(0,R.jsx)(W.lX,{children:"Notes"}),(0,R.jsx)(L.gN,{as:P.II,variant:"flushed",placeholder:"House with white paint and black fence",name:Q,value:Z,onChange:function(e){!function(e,n){w(e.target.value),n(Q,e.target.value)}(e,f)}}),(0,R.jsx)(W.J1,{children:l.notes})]}),(0,R.jsx)(r.iz,{marginBottom:3}),(0,R.jsxs)(r.kC,{justifyContent:"end",children:[(0,R.jsx)(p.zx,{variant:"outline",marginEnd:3,onClick:e.onClose,children:"Cancel"}),(0,R.jsx)(p.zx,{type:"submit",children:t.title===O.k.ADD_NEW_ADDRESS?"Save New Address":"Save Edit"})]})]})})}})})};var q=function(e){var n=e.isOpen,t=e.onClose,i=e.setRefetchUserAddress,s=z().modalTitle;return(0,R.jsxs)(T.u_,{closeOnOverlayClick:!1,isOpen:n,onClose:t,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsxs)(T.xB,{children:[s.title,(0,R.jsx)(r.iz,{marginTop:3})]}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(T.fe,{children:(0,R.jsx)(r.xu,{paddingBottom:5,children:(0,R.jsx)(M,{onClose:t,setRefetchUserAddress:i})})})]})]})};var B=function(){var e=(0,x.qY)(),n=e.isOpen,t=e.onOpen,i=e.onClose,s=z(),o=s.setModalTitle,a=s.resetFormState,d=(0,c.Z)().getUserAddresses,m=(0,f.useState)([]),v=(0,h.Z)(m,2),j=v[0],g=v[1],b=(0,f.useState)(0),C=(0,h.Z)(b,2),_=C[0],S=C[1];return(0,f.useEffect)((function(){var e=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:n=e.sent,g(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[_]),(0,R.jsxs)(r.xu,{children:[(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsxs)(r.kC,{padding:2,alignItems:"center",children:[(0,R.jsx)(r.kC,{grow:1,fontSize:"xl",fontWeight:"bold",children:"My Address"}),(0,R.jsx)(p.zx,{onClick:function(){o({title:O.k.ADD_NEW_ADDRESS,addressId:-1}),t()},children:"+ Add New Address"})]}),(0,R.jsx)(r.iz,{marginBottom:5,borderWidth:"2px"}),(0,R.jsx)(r.xu,{paddingBottom:4,children:j.map((function(e,n){return(0,R.jsx)(r.xu,{children:(0,R.jsx)(A,{address:e,onOpen:t,refetchUserAddress:function(){S(Math.random())}})},"".concat(e.address_id,";").concat(n))}))})]}),(0,R.jsx)(q,{isOpen:n,onClose:function(){a(),i()},setRefetchUserAddress:S})]})},Y=t(83669),J=t(10658),G=t.n(J),F=t(58467);var H=function(e){return(0,R.jsx)(r.kC,{justifyContent:"center",alignItems:"center",paddingX:3,paddingY:1,my:1,borderRadius:"lg",bg:"primary",color:"white",fontWeight:"bold",fontSize:"xs",role:e.role,onClick:e.onClick,children:e.label})},X=t(38466),V=t(59522),K=t(14737),Q=t(43974);var $=function(){var e=(0,Y.Z)(),n=e.fetchTransactionHistory,t=e.transactionOrderHistory,s=e.deliveryStatus,o=e.page,c=e.setShowTransactionDetail,l=(0,F.s0)(),u=(0,f.useState)(!0),x=(0,h.Z)(u,2),p=x[0],m=x[1],v=function(e){c({transactionId:e.id})};return(0,f.useEffect)((function(){n({page:o,status:s}).finally((function(){return m(!1)}))}),[s,o]),(0,R.jsx)(R.Fragment,{children:0!==t.data.length?t.data.map((function(e,n){return(0,R.jsxs)(r.kC,{direction:"column",marginY:5,border:"2px solid",borderColor:"lightLighten",borderRadius:"lg",padding:5,children:[(0,R.jsxs)(r.rj,{templateColumns:"repeat(2,1fr)",alignItems:"start",gap:10,p:5,children:[(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",children:"Transaction ID:"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"medium",fontSize:"sm",children:e.id})]}),(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",children:"Payment Method:"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"medium",fontSize:"sm",children:e.payment_method})]}),(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",children:"Payment Date:"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"medium",fontSize:"sm",children:G()(e.transaction_date).format("DD MMM YYYY")})]})]})]}),e.orders.map((function(n,t){return(0,R.jsxs)(r.kC,{direction:"column",border:"2px solid",borderColor:"lightLighten",borderRadius:"lg",p:5,my:2,children:[e.orders.length>1&&(0,R.jsxs)(r.xv,{fontWeight:"bold",textTransform:"uppercase",mb:3,children:["Order ",t+1]}),(0,R.jsxs)(r.kC,{direction:"row",justifyContent:"space-between",alignItems:"start",children:[(0,R.jsx)(V.Z,{shopName:n.shop_name,shopCityName:"Jakarta",onClick:function(){return l(Q.Z.SHOP(n.shop_username))}}),(0,R.jsxs)(r.kC,{direction:"column",justifyContent:"start",alignItems:"end",mb:2,children:[(0,R.jsx)(r.xv,{color:"primary",fontWeight:"bold",fontSize:"md",textTransform:"uppercase",children:n.delivery_status}),(0,R.jsxs)(r.kC,{direction:"row",gap:3,children:[K.pC.includes(n.delivery_status)&&(0,R.jsx)(H,{label:"Confirm Order Received",role:"button",onClick:function(){v(e)}}),!n.order_is_reviewed&&K.ah.includes(n.delivery_status)&&(0,R.jsx)(H,{label:"Add review",role:"button",onClick:function(){v(e)}})]})]})]}),(0,R.jsx)(r.iz,{borderWidth:1,borderColor:"light"}),(0,R.jsxs)(r.kC,{direction:"column",my:3,children:[(0,R.jsx)(X.Z,{name:n.list_of_products[0].name,qty:n.list_of_products[0].qty,regularPrice:n.list_of_products[0].price,discountedPrice:n.list_of_products[0].price_after_discount,total:n.list_of_products[0].total,variantName:n.list_of_products[0].variant_type_name.split(",").join(", "),productPhoto:n.list_of_products[0].photo,onClick:function(){return l(Q.Z.PDP(n.list_of_products[0].product_id,n.list_of_products[0].name))}}),n.list_of_products.length>1&&(0,R.jsxs)(r.xv,{as:"i",align:"right",color:"darkLighten",fontSize:"xs",fontWeight:"semibold",children:["and ",n.list_of_products.length-1," more"," ",n.list_of_products.length-1>1?"products":"product"]})]}),(0,R.jsx)(r.iz,{borderWidth:1,borderColor:"light"}),(0,R.jsxs)(r.rj,{templateColumns:"repeat(2,1fr)",alignItems:"start",gap:10,py:3,children:[(0,R.jsx)(r.P4,{}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",textTransform:"uppercase",children:"Subtotal:"}),(0,R.jsxs)(r.xv,{color:"dark",fontWeight:"medium",fontSize:"sm",children:["Rp",(0,d.xG)(n.total)]})]})]})]},"".concat(n.shop_name,";").concat(t))})),(0,R.jsxs)(r.rj,{templateColumns:"repeat(2,1fr)",alignItems:"start",gap:10,py:3,px:5,children:[(0,R.jsxs)(r.xv,{variant:"link",cursor:"pointer",onClick:function(){return v(e)},children:["See transaction detail",(0,R.jsx)(a.Z.ChevronRight,{width:4,pb:"2px"})]}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"md",textTransform:"uppercase",children:"Total:"}),(0,R.jsxs)(r.xv,{color:"primaryDarken",fontWeight:"semibold",fontSize:"md",children:["Rp",(0,d.xG)(e.grand_total)]})]})]})]},"".concat(e.id,";").concat(n))})):(0,R.jsx)(i.Od,{isLoaded:!p,p:10,my:5,children:(0,R.jsx)(r.kC,{paddingTop:5,justifyContent:"center",children:"No Transactions"})})})},ee=t(25883);var ne=function(){var e=(0,Y.Z)(),n=e.transactionOrderHistory,t=e.setPage;return(0,R.jsx)(r.xu,{children:0!==n.data.length?(0,R.jsx)(ee.Z,{data:{current_page:n.current_page,total_page:n.total_page},setPage:t}):""})};var te=function(e){return(0,R.jsx)(o.OK,{w:"max-content",whiteSpace:"nowrap",_selected:{color:"primary",borderBottomColor:"primary"},onClick:e.onClick,children:e.text})};var re=function(){var e=(0,Y.Z)(),n=e.setDeliveryStatus,t=e.setPage,r=function(e){n(e),t(1)};return(0,R.jsx)(o.mQ,{variant:"default",children:(0,R.jsxs)(o.td,{h:"fit-content",overflowX:"scroll",overflowY:"hidden",className:"example",children:[(0,R.jsx)(te,{text:"All",onClick:function(){return r(K.cB.ALL)}}),(0,R.jsx)(te,{text:"Waiting For Seller",onClick:function(){return r(K.cB.WAITING_SELLER)}}),(0,R.jsx)(te,{text:"On Process",onClick:function(){return r(K.cB.ON_PROCESS)}}),(0,R.jsx)(te,{text:"On Delivery",onClick:function(){return r(K.cB.ON_DELIVERY)}}),(0,R.jsx)(te,{text:"Delivered",onClick:function(){return r(K.cB.DELIVERED)}}),(0,R.jsx)(te,{text:"Received",onClick:function(){return r(K.cB.RECEIVED)}}),(0,R.jsx)(te,{text:"Completed",onClick:function(){return r(K.cB.COMPLETED)}}),(0,R.jsx)(te,{text:"Canceled",onClick:function(){return r(K.cB.CANCELED)}}),(0,R.jsx)(te,{text:"Refunded",onClick:function(){return r(K.cB.REFUNDED)}})]})})},ie=t(77453),se=t(31002),oe=t(93433),ae=t(65098),ce=t(82195),de=t(72849),le=t(2183);var ue=function(e){var n=(0,f.useState)([]),t=(0,h.Z)(n,2),i=t[0],s=t[1],o=(0,f.useState)(""),a=(0,h.Z)(o,2),d=a[0],x=a[1],m=(0,f.useState)(!1),v=(0,h.Z)(m,2),g=v[0],b=v[1],C=(0,de.Z)().uploadProductPhoto,_=(0,j.Z)(),S=_.errorToast,Z=_.successToast,w=(0,le.Z)().createRefund,k=(0,c.Z)().user,y=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(){var t,r,s,o;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b(!0),null!==k&&void 0!==k&&k.wallet_detail.is_activated){n.next=5;break}return b(!1),S("Please activate your wallet"),n.abrupt("return");case 5:return t={order_id:Number(e.orderId),note:d,photos:[]},r={photos:i},n.next=9,C(r);case 9:if((s=n.sent).is_success){n.next=14;break}return b(!1),S(s.message),n.abrupt("return");case 14:return s.data.urls.forEach((function(e){t.photos=[].concat((0,oe.Z)(t.photos),[e])})),n.next=17,w(t);case 17:if((o=n.sent).is_success){n.next=22;break}return b(!1),S(o.message),n.abrupt("return");case 22:Z("Refund has been requested"),e.onClose();case 24:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,R.jsxs)(T.u_,{isOpen:e.isOpen,onClose:e.onClose,size:"3xl",children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Raise Refund Request"}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(T.fe,{children:(0,R.jsxs)(r.kC,{direction:"column",gap:5,children:[(0,R.jsx)(r.xv,{width:"40%",children:"Order ID"}),(0,R.jsx)(P.II,{disabled:!0,value:e.orderId}),(0,R.jsx)(r.xv,{width:"40%",children:"Notes"}),(0,R.jsx)(P.II,{type:"text",placeholder:"Input",value:d,onChange:function(e){return x(e.currentTarget.value)}}),(0,R.jsx)(r.xv,{width:"40%",children:"Upload Photo"}),(0,R.jsx)(r.kC,{flexDirection:"row",width:"100%",children:(0,R.jsxs)(r.Eq,{width:"100%",children:[i.map((function(e,n){return console.log(e),(0,R.jsx)(r.Uc,{className:"imgContainer",children:(0,R.jsx)(ae.Ee,{loading:"lazy",src:URL.createObjectURL(e),width:"120px",height:"120px"})},n)})),(0,R.jsx)(r.Uc,{children:(0,R.jsx)(ce.Z,{imgList:i,setImgList:s})})]})})]})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{colorScheme:"blue",mr:3,onClick:y,isLoading:g,children:"Submit Refund"})})]})]})};var he=function(){var e=(0,Y.Z)(),n=e.setShowTransactionDetail,t=e.showTransactionDetail,i=e.fetchTransactionDetail,s=(0,c.Z)(),o=s.addConfirmUserReceivedOrder,m=s.addUserReview,v=(0,f.useState)(void 0),g=(0,h.Z)(v,2),b=g[0],C=g[1],_=(0,f.useState)(0),S=(0,h.Z)(_,2),Z=S[0],w=S[1],k=(0,j.Z)().successToast,y=(0,x.qY)(),I=y.isOpen,z=y.onOpen,O=y.onClose,N=(0,f.useState)(-1),D=(0,h.Z)(N,2),A=D[0],P=D[1],L=(0,f.useState)(0),U=(0,h.Z)(L,2),M=U[0],q=U[1],B=(0,x.qY)(),J=B.isOpen,$=B.onOpen,ee=B.onClose,ne=(0,F.s0)(),te=function(){w(Math.random())};return(0,f.useEffect)((function(){t&&i(null===t||void 0===t?void 0:t.transactionId).then((function(e){e&&C(e)}))}),[J]),(0,f.useEffect)((function(){var e=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i(t.transactionId);case 3:(n=e.sent)&&C(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,Z]),(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsx)(r.xv,{role:"button",onClick:function(){return n(void 0)},variant:"outline",fontWeight:"bold",color:"primary",mb:2,children:"< Back"}),(0,R.jsx)(r.iz,{borderWidth:1,borderColor:"light"}),(0,R.jsxs)(r.kC,{direction:"column",marginY:5,border:"2px solid",borderColor:"lightLighten",borderRadius:"lg",padding:5,children:[(0,R.jsxs)(r.rj,{templateColumns:"repeat(2,1fr)",alignItems:"start",gap:10,p:5,children:[(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",children:"Transaction ID:"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"medium",fontSize:"sm",children:null===b||void 0===b?void 0:b.id})]}),(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",children:"Payment Method:"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"medium",fontSize:"sm",children:null===b||void 0===b?void 0:b.payment_method})]}),(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",children:"Payment Date:"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"medium",fontSize:"sm",children:G()(null===b||void 0===b?void 0:b.transaction_date).format("DD MMM YYYY")})]})]})]}),null===b||void 0===b?void 0:b.orders.map((function(e,n){return(0,R.jsxs)(r.kC,{direction:"column",border:"2px solid",borderColor:"lightLighten",borderRadius:"lg",p:5,my:2,children:[(null===b||void 0===b?void 0:b.orders.length)>1&&(0,R.jsxs)(r.xv,{fontWeight:"bold",textTransform:"uppercase",mb:3,children:["Order ",n+1]}),(0,R.jsxs)(r.kC,{direction:"row",justifyContent:"space-between",alignItems:"start",children:[(0,R.jsx)(V.Z,{shopName:e.shop_name,shopCityName:"Jakarta",onClick:function(){return ne(Q.Z.SHOP(e.shop_username))}}),(0,R.jsxs)(r.kC,{direction:"column",justifyContent:"start",alignItems:"end",mb:2,children:[(0,R.jsx)(r.xv,{color:"primary",fontWeight:"bold",fontSize:"md",textTransform:"uppercase",children:e.delivery_status}),K.pC.includes(e.delivery_status)&&(0,R.jsx)(H,{label:"Confirm Order Received",role:"button",onClick:function(){o(e.id).then((function(){k("Order Received!"),te()}))}})]})]}),(0,R.jsx)(r.iz,{borderWidth:1,borderColor:"light"}),(0,R.jsx)(r.xu,{my:5,children:e.items.map((function(n,t){return(0,R.jsxs)(r.kC,{direction:"column",mb:3,children:[(0,R.jsx)(X.Z,{name:n.name,qty:n.qty,regularPrice:n.price,discountedPrice:n.price_after_discount,total:n.total_price,variantName:n.variant_type_name.split(",").join(", "),productPhoto:n.photo,onClick:function(){return ne(Q.Z.PDP(n.product_id,n.name))}}),K.ah.includes(e.delivery_status)&&!n.is_reviewed&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(r.kC,{justifyContent:"end",children:(0,R.jsx)(H,{label:"Add Review",role:"button",onClick:function(){P(n.id),z()}})}),e.items.length-1!==t&&(0,R.jsx)(r.iz,{borderWidth:1,borderColor:"light",mt:3})]})]},"".concat(n.name,";").concat(t))}))}),(0,R.jsx)(r.iz,{borderWidth:1,borderColor:"light",mb:1}),(0,R.jsx)(ie.UQ,{width:"100%",allowMultiple:!0,border:"none",children:(0,R.jsxs)(ie.Qd,{border:"none",children:[(0,R.jsxs)(ie.KF,{px:0,_hover:{background:"none"},children:[(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",children:[(0,R.jsx)(r.xv,{fontWeight:"bold",textTransform:"uppercase",children:"Total"}),(0,R.jsxs)(r.xv,{fontWeight:"bold",children:["Rp",(0,d.xG)(e.total)]})]}),(0,R.jsx)(ie.XE,{})]}),(0,R.jsxs)(ie.Hk,{px:0,children:[(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,R.jsx)(r.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:"Subtotal"}),(0,R.jsxs)(r.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:["Rp",(0,d.xG)(e.subtotal)]})]}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,R.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Delivery Fee"}),(0,R.jsxs)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["Rp",(0,d.xG)(e.delivery_fee)]})]}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,R.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Discount from shop"}),(0,R.jsxs)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["- Rp",(0,d.xG)(e.discount_shop)]})]}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,R.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Discount from BAZR"}),(0,R.jsxs)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["- Rp",(0,d.xG)(e.discount_marketplace)]})]}),""!==e.shop_voucher.code&&(0,R.jsxs)(r.kC,{justifyContent:"start",alignItems:"center",mt:2,gap:3,children:[(0,R.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"primaryDarken",children:"Voucher applied:"}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",alignItems:"center",borderRadius:"lg",border:"2px solid",borderColor:"light",p:1,children:[(0,R.jsx)(a.Z.Percentage,{boxSize:4,fill:"darkLighten"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"semibold",fontSize:"sm",children:e.shop_voucher.code}),(0,R.jsxs)(r.xv,{fontSize:"xs",fontWeight:"semibold",color:"darkLighten",children:["Disc."," ",0!==e.shop_voucher.benefit?"Rp".concat((0,d.xG)(e.shop_voucher.benefit)):"".concat(e.shop_voucher.benefit_percentage,"%")]})]})]}),(0,R.jsx)(r.kC,{justifyContent:"end",mt:2,children:K.MI.includes(e.delivery_status)&&(0,R.jsx)(r.xv,{color:"darkLighten",fontSize:"xs",fontWeight:"semibold",_hover:{color:"danger"},onClick:function(){$(),q(e.id)},children:"Request Refund"})})]})]})})]},"".concat(e.shop_name,";").concat(n))})),(0,R.jsx)(ie.UQ,{width:"100%",allowMultiple:!0,border:"none",px:5,children:(0,R.jsxs)(ie.Qd,{border:"none",children:[(0,R.jsxs)(ie.KF,{px:0,_hover:{background:"none"},children:[(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",children:[(0,R.jsx)(r.xv,{fontWeight:"bold",textTransform:"uppercase",children:"Grand Total"}),(0,R.jsxs)(r.xv,{fontWeight:"bold",children:["Rp",(0,d.xG)(null===b||void 0===b?void 0:b.total)]})]}),(0,R.jsx)(ie.XE,{})]}),(0,R.jsxs)(ie.Hk,{px:0,children:[(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,R.jsxs)(r.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:["Total (",null===b||void 0===b?void 0:b.total_qty," ",(null===b||void 0===b?void 0:b.total_qty)>1?"products":"product",")"]}),(0,R.jsxs)(r.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:["Rp",(0,d.xG)(null===b||void 0===b?void 0:b.subtotal)]})]}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,R.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Total Delivery Fee"}),(0,R.jsxs)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["Rp",(0,d.xG)(null===b||void 0===b?void 0:b.total_delivery_fee)]})]}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,R.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Total Discount"}),(0,R.jsxs)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["- Rp",(0,d.xG)(null===b||void 0===b?void 0:b.total_discount)]})]}),""!==(null===b||void 0===b?void 0:b.voucher.code)&&(0,R.jsxs)(r.kC,{justifyContent:"start",alignItems:"center",mt:2,gap:3,children:[(0,R.jsx)(r.xv,{fontSize:"sm",fontWeight:"semibold",color:"primaryDarken",children:"Voucher applied:"}),(0,R.jsxs)(r.Ug,{justifyContent:"space-between",alignItems:"center",borderRadius:"lg",border:"2px solid",borderColor:"light",p:1,children:[(0,R.jsx)(a.Z.Percentage,{boxSize:4,fill:"darkLighten"}),(0,R.jsx)(r.xv,{color:"dark",fontWeight:"semibold",fontSize:"sm",children:null===b||void 0===b?void 0:b.voucher.code}),(0,R.jsxs)(r.xv,{fontSize:"xs",fontWeight:"semibold",color:"darkLighten",children:["Disc."," ",0!==(null===b||void 0===b?void 0:b.voucher.benefit)?"Rp".concat((0,d.xG)(null===b||void 0===b?void 0:b.voucher.benefit)):"".concat(null===b||void 0===b?void 0:b.voucher.benefit_percentage,"%")]})]})]})]})]})})]}),(0,R.jsx)(ue,{orderId:M,isOpen:J,onClose:ee}),(0,R.jsxs)(T.u_,{closeOnOverlayClick:!1,isOpen:I,size:"sm",isCentered:!0,onClose:O,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{paddingBottom:0,children:(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsx)(r.kC,{children:"Your review means a lot to us"}),(0,R.jsx)(r.iz,{marginTop:2})]})}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(T.fe,{paddingY:5,children:(0,R.jsx)("form",{onSubmit:function(e){e.preventDefault();var n=document.getElementById("selectAddReviewRating"),t={rating_score:parseInt(n.value)},r=document.getElementById("textareaAddReviewNotes");""!==r.value.trim()&&(t.feedback=r.value.trim()),m(A,t).then((function(){te()})),O()},children:(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsx)(r.xu,{marginBottom:5,children:(0,R.jsxs)(W.NI,{children:[(0,R.jsx)(W.lX,{children:"Product Rating"}),(0,R.jsxs)(E.Ph,{required:!0,id:"selectAddReviewRating",children:[(0,R.jsx)("option",{value:"",children:"Add Rating"}),(0,R.jsx)("option",{value:"1",children:"1"}),(0,R.jsx)("option",{value:"2",children:"2"}),(0,R.jsx)("option",{value:"3",children:"3"}),(0,R.jsx)("option",{value:"4",children:"4"}),(0,R.jsx)("option",{value:"5",children:"5"})]})]})}),(0,R.jsx)(r.xu,{marginBottom:5,children:(0,R.jsxs)(W.NI,{children:[(0,R.jsx)(W.lX,{children:"Product Review"}),(0,R.jsx)(se.g,{id:"textareaAddReviewNotes"})]})}),(0,R.jsx)(r.iz,{marginY:2}),(0,R.jsx)(r.kC,{justifyContent:"end",children:(0,R.jsx)(p.zx,{type:"submit",children:"Add Review"})})]})})})]})]})]})};var xe=function(){var e=(0,Y.Z)(),n=e.showTransactionDetail,t=e.setShowTransactionDetail;return(0,f.useEffect)((function(){t(void 0)}),[]),(0,R.jsx)(R.Fragment,{children:void 0===n?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(re,{}),(0,R.jsx)($,{}),(0,R.jsx)(ne,{})]}):(0,R.jsx)(he,{})})},pe=t(30955),fe=t(58821),me=t(22372),ve=t(97066),je=t(36281);var ge=function(){var e=(0,x.qY)(),n=(0,x.qY)(),t=(0,le.Z)(),i=t.refundLoading,s=t.fetchBuyerRefund,o=t.fetchRefundDetail,c=(0,f.useState)([]),m=(0,h.Z)(c,2),v=m[0],j=m[1],g=(0,f.useState)(null),b=(0,h.Z)(g,2),C=b[0],_=b[1],S=(0,f.useState)(0),Z=(0,h.Z)(S,2),w=Z[0],k=Z[1],y=(0,f.useState)(0),I=(0,h.Z)(y,2),z=I[0],O=I[1],N=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({page:w});case 2:n=e.sent,j(n.data.data),O(n.data.total_page);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(n){var t=n.currentTarget.id;o(parseInt(t)).then((function(e){return _(e.data)})),e.onOpen()},A=function(e){var t=e.currentTarget.id;o(parseInt(t)).then((function(e){return _(e.data)})),n.onOpen()};return(0,f.useEffect)((function(){N()}),[w]),(0,R.jsxs)(r.kC,{direction:"column",children:[(0,R.jsx)(r.xv,{fontSize:"2xl",fontWeight:"semibold",my:3,children:"Refunds"}),(0,R.jsx)(pe.xJ,{children:(0,R.jsxs)(pe.iA,{variant:"striped",children:[(0,R.jsx)(pe.hr,{children:(0,R.jsxs)(pe.Tr,{children:[(0,R.jsx)(pe.Th,{textAlign:"center",children:"Order Id"}),(0,R.jsx)(pe.Th,{textAlign:"center",children:"Seller"}),(0,R.jsx)(pe.Th,{textAlign:"center",children:"Amount"}),(0,R.jsx)(pe.Th,{textAlign:"center",children:"Action"})]})}),(0,R.jsx)(pe.p3,{children:v.map((function(e,n){return(0,R.jsxs)(pe.Tr,{children:[(0,R.jsx)(pe.Td,{textAlign:"center",children:e.order_id}),(0,R.jsx)(pe.Td,{textAlign:"center",children:e.seller_name}),(0,R.jsx)(pe.Td,{textAlign:"center",children:"Rp"+(0,d.xG)(e.amount)}),(0,R.jsxs)(pe.Td,{textAlign:"center",children:[e.status_name!==me.GL.APPROVED&&e.status_name!==me.GL.REFUNDED&&(0,R.jsx)(p.hU,{id:e.id.toString(),mx:1,"aria-label":"Refund",bgColor:"orange.400",icon:(0,R.jsx)(fe.i0Y,{}),onClick:D}),(0,R.jsx)(p.hU,{id:e.id.toString(),mx:1,"aria-label":"Refund Detail",icon:(0,R.jsx)(a.Z.Show,{}),onClick:A})]})]},n)}))})]})}),(0,R.jsx)(ee.Z,{data:{total_page:z,current_page:w},setPage:k}),(0,R.jsx)(ve.Z,{config:"buyer",isOpen:e.isOpen,isLoading:i,onClose:function(){return e.onClose()},chats:null===C||void 0===C?void 0:C.chats,refundId:null===C||void 0===C?void 0:C.id,buyerId:null===C||void 0===C?void 0:C.buyer_id,buyerName:null===C||void 0===C?void 0:C.buyer_name,sellerId:null===C||void 0===C?void 0:C.seller_id,sellerName:null===C||void 0===C?void 0:C.seller_name,lastUpdated:null===C||void 0===C?void 0:C.chats_last_updated}),(0,R.jsx)(je.Z,{config:"buyer",isOpen:n.isOpen,isLoading:i,onClose:function(){return n.onClose()},refundDetail:C})]})},be=t(62128);var Ce=function(e){var n=U.Ry().shape({phone:U.Rx().required("Required")});return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(T.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Change Phone Number"}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(L.J9,{initialValues:{phone:e.phone},validationSchema:n,onSubmit:function(e){console.log(e)},children:function(e){var n=e.handleSubmit,t=e.errors,r=e.touched;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("form",{onSubmit:n,children:[(0,R.jsx)(T.fe,{children:(0,R.jsxs)(W.NI,{isInvalid:!!t.phone&&r.phone,children:[(0,R.jsx)(L.gN,{as:P.II,placeholder:"Phone",type:"number",name:"phone"}),(0,R.jsx)(W.J1,{children:t.phone})]})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{type:"submit",children:"Save"})})]})})}})]})]})})};var _e=function(e){var n=(0,c.Z)(),t=n.fetchProfile,r=n.editProfile,i=(0,f.useState)(!1),s=(0,h.Z)(i,2),o=s[0],a=s[1],d=(0,j.Z)(),x=d.successToast,m=d.errorToast,v=U.Ry().shape({username:U.Z_().required("Required").matches(/^[a-zA-Z0-9]*$/,"Must not contain any space"),name:U.Z_().required("Required"),birth_date:U.Z_(),gender:U.Rx()}),g=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(i){var s,o;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(!0),n.next=3,r(i);case 3:(s=n.sent).is_success?(e.onClose(),x(s.message),t()):m(null!==(o=s.message)&&void 0!==o?o:"error edit profile"),a(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(T.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Update Profile"}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(L.J9,{initialValues:{username:e.username,name:e.name,birth_date:e.birth_date?G()(e.birth_date).format("YYYY-MM-DD"):"",gender:e.gender_id},validationSchema:v,onSubmit:function(e){var n={name:e.name,username:e.username,birth_date:e.birth_date,gender_id:Number(e.gender),profile_picture:null};g(n)},children:function(e){var n=e.handleSubmit,t=e.errors,r=e.touched;return(0,R.jsxs)("form",{onSubmit:n,children:[(0,R.jsxs)(T.fe,{pb:6,children:[(0,R.jsxs)(W.NI,{isInvalid:!!t.username&&r.username,children:[(0,R.jsx)(W.lX,{children:"Username"}),(0,R.jsx)(L.gN,{as:P.II,placeholder:"Username",name:"username"}),(0,R.jsx)(W.J1,{children:t.username})]}),(0,R.jsxs)(W.NI,{mt:4,isInvalid:!!t.name&&r.name,children:[(0,R.jsx)(W.lX,{children:"Name"}),(0,R.jsx)(L.gN,{as:P.II,placeholder:"Name",name:"name"}),(0,R.jsx)(W.J1,{children:t.name})]}),(0,R.jsxs)(W.NI,{mt:4,isInvalid:!!t.birth_date&&r.birth_date,children:[(0,R.jsx)(W.lX,{children:"Birth Date"}),(0,R.jsx)(L.gN,{as:P.II,placeholder:"Select Date",name:"birth_date",type:"date"}),(0,R.jsx)(W.J1,{children:t.birth_date})]}),(0,R.jsxs)(W.NI,{mt:4,isInvalid:!!t.gender&&r.gender,children:[(0,R.jsx)(W.lX,{children:"Gender"}),(0,R.jsxs)(L.gN,{as:E.Ph,placeholder:"Select option",name:"gender",borderWidth:1,borderColor:"blackAlpha.200",fontWeight:"normal",children:[(0,R.jsx)("option",{value:"1",children:"Male"}),(0,R.jsx)("option",{value:"2",children:"Female"})]}),(0,R.jsx)(W.J1,{children:t.gender})]})]}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{type:"submit",_hover:{bg:"grey"},isLoading:o,loadingText:"Loading",children:"Save"})})]})}})]})]})})},Se=t(12258);var Ze=function(e){var n=(0,c.Z)(),t=n.sendEmailVerification,i=n.changeEmail,s=(0,f.useState)(!1),o=(0,h.Z)(s,2),a=o[0],d=o[1],x=(0,j.Z)(),m=x.successToast,v=x.errorToast,g=(0,F.s0)(),b=U.Ry().shape({email:U.Z_().email().required("Required")}),C=U.Ry().shape({code:U.Z_().required("Required").length(6)}),_=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(r){var i;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),n.next=3,t(r);case 3:(i=n.sent).is_success?(e.onClose(),e.codeModalOnOpen(),m(i.message,3e3)):v(i.message,void 0,3e3),d(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),S=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(t){var r;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),n.next=3,i(t);case 3:(r=n.sent).is_success?(e.codeModalOnClose(),m("".concat(r.message,". Please login again"),3e3),Z()):v(r.message,void 0,3e3),d(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=function(){(0,Se.destroyCookie)(null,"auth"),localStorage.clear(),g(Q.Z.LOGIN,{replace:!0})};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(T.u_,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:(0,R.jsxs)(r.kC,{direction:"column",width:"100%",children:["Change Email",(0,R.jsx)(r.xu,{marginBottom:5,children:(0,R.jsxs)(r.xv,{fontSize:"sm",color:"darkLighten",children:["Already have the code?",(0,R.jsx)(r.xv,{as:"a",fontSize:"sm",color:"primary",fontWeight:"bold",padding:2,borderRadius:"lg",role:"button",onClick:function(){e.onClose(),e.codeModalOnOpen()},children:"Click here?"})]})})]})}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(L.J9,{initialValues:{email:e.email},validationSchema:b,onSubmit:function(e){_(e.email)},children:function(e){var n=e.handleSubmit,t=e.errors,r=e.touched;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("form",{onSubmit:n,children:[(0,R.jsx)(T.fe,{children:(0,R.jsxs)(W.NI,{isInvalid:!!t.email&&r.email,children:[(0,R.jsx)(L.gN,{as:P.II,placeholder:"Email",name:"email"}),(0,R.jsx)(W.J1,{children:t.email})]})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{type:"submit",_hover:{bg:"grey"},isLoading:a,loadingText:"Loading",children:"Send Verification Code"})})]})})}})]})]}),(0,R.jsxs)(T.u_,{closeOnOverlayClick:!1,isOpen:e.codeModalIsOpen,onClose:e.codeModalOnClose,isCentered:!0,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Verification Code"}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(L.J9,{initialValues:{code:""},validationSchema:C,onSubmit:function(e){S(e.code)},children:function(e){var n=e.handleSubmit,t=e.errors,r=e.touched;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("form",{onSubmit:n,children:[(0,R.jsx)(T.fe,{children:(0,R.jsxs)(W.NI,{isInvalid:!!t.code&&r.code,children:[(0,R.jsx)(L.gN,{as:P.II,placeholder:"Code",name:"code"}),(0,R.jsx)(W.J1,{children:t.code})]})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{type:"submit",_hover:{bg:"grey"},isLoading:a,loadingText:"Loading",children:"Change Email"})})]})})}})]})]}),(0,R.jsxs)(T.u_,{isOpen:e.logoutModalIsOpen,onClose:e.logoutModalOnClose,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Logout"}),(0,R.jsx)(T.fe,{children:(0,R.jsx)(r.xv,{children:"Please sign in again."})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{_hover:{bg:"grey"},onClick:Z,children:"Logout"})})]})]})]})},we=t(96652);var ke=function(e){var n=(0,c.Z)(),t=n.user,r=n.fetchProfile,i=n.editProfile,s=n.uploadAvatar,o=(0,f.useState)(!1),a=(0,h.Z)(o,2),d=a[0],x=a[1],m=(0,j.Z)(),v=m.successToast,g=m.errorToast,b=U.Ry().shape({photo:U.nK().required("Required").test("format","Unsupported file format",(function(e){return["image/png","image/jpg","image/jpeg"].includes(null===e||void 0===e?void 0:e.type)})).test("size","Uploaded file is too big.",(function(e){return e&&e.size<=5e5}))}),C=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(o){var a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(!0),n.next=3,s(o);case 3:if(!(a=n.sent).is_success){n.next=13;break}if(e.onClose(),null===t){n.next=9;break}return n.next=9,i({username:t.username,name:t.name,profile_picture:a.data});case 9:v(a.message),r(),n.next=14;break;case 13:g(a.message);case 14:x(!1);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(T.u_,{isOpen:e.isOpen,onClose:e.onClose,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Change Photo"}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(L.J9,{initialValues:{photo:""},validationSchema:b,onSubmit:function(e){C(e)},children:function(e){var n=e.handleSubmit,t=e.setFieldValue,r=e.errors,i=e.touched;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("form",{onSubmit:n,children:[(0,R.jsx)(T.fe,{children:(0,R.jsxs)(W.NI,{isInvalid:!!r.photo&&i.photo,children:[(0,R.jsx)(W.lX,{children:"Format: (.jpeg .jpg .png) Max: (500kb)"}),(0,R.jsx)(P.II,{name:"photo",accept:".jpg,.jpeg,.png",className:"form-control",type:"file",onChange:function(e){var n;if(null!==(n=e.currentTarget.files)&&void 0!==n&&n.length){var r=e.currentTarget.files[0];t("photo",r)}}}),(0,R.jsx)(W.J1,{children:r.photo})]})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{type:"submit",_hover:{bg:"grey"},isLoading:d,loadingText:"Loading",children:"Save"})})]})})}})]})]})})},ye=t(87129),Ie=t(1413);var ze=function(e){var n=(0,c.Z)(),t=n.sendChangePasswordToken,i=n.changePassword,s=(0,f.useState)(!1),o=(0,h.Z)(s,2),d=o[0],x=o[1],m=(0,j.Z)(),v=m.successToast,g=m.errorToast,b=(0,F.s0)(),C=(0,f.useState)(!1),_=(0,h.Z)(C,2),S=_[0],Z=_[1],w=(0,f.useState)(!1),k=(0,h.Z)(w,2),y=k[0],I=k[1],z=(0,f.useState)(!1),O=(0,h.Z)(z,2),N=O[0],D=O[1],A=U.Ry().shape({old_password:U.Z_().required("Required").min(8,"Password must contain at least 8 characters").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])/,"Must contain at least One Uppercase, One Lowercase, One Number and one special case Character").matches(/^(\S+$)/,"No spaces allowed"),new_password:U.Z_().required("Required").min(8,"Password must contain at least 8 characters").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])/,"Must contain at least One Uppercase, One Lowercase, One Number and one special case Character").matches(/^(\S+$)/,"No spaces allowed"),confirm_password:U.Z_().required("Required").oneOf([U.iH("new_password"),null],"Password must match")}),E=U.Ry().shape({token:U.Z_().required("Required").length(6)}),M=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(r){var i;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(!0),n.next=3,t(r);case 3:(i=n.sent).is_success?(e.onClose(),e.tokenModalOnOpen(),v(i.message,3e3)):g(i.message,void 0,3e3),x(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),q=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(t){var r;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(!0),n.next=3,i(t);case 3:(r=n.sent).is_success?(e.tokenModalOnClose(),v("".concat(r.message,". Please login again"),3e3),B()):g(r.message,void 0,3e3),x(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),B=function(){(0,Se.destroyCookie)(null,"auth"),localStorage.clear(),b(Q.Z.LOGIN,{replace:!0})};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(T.u_,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:(0,R.jsxs)(r.kC,{direction:"column",width:"100%",children:["Change Password",(0,R.jsx)(r.xu,{marginBottom:5,children:(0,R.jsxs)(r.xv,{fontSize:"sm",color:"darkLighten",children:["Already have the code?",(0,R.jsx)(r.xv,{as:"a",fontSize:"sm",color:"primary",fontWeight:"bold",padding:2,borderRadius:"lg",role:"button",onClick:function(){e.onClose(),e.tokenModalOnOpen()},children:"Click here?"})]})})]})}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(L.J9,{initialValues:{old_password:"",new_password:"",confirm_password:""},validationSchema:A,onSubmit:function(e){M({old_password:e.old_password,new_password:e.new_password})},children:function(e){var n=e.handleSubmit,t=e.errors,r=e.touched;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("form",{onSubmit:n,children:[(0,R.jsxs)(T.fe,{children:[(0,R.jsxs)(W.NI,{isInvalid:!!t.old_password&&r.old_password,children:[(0,R.jsx)(W.lX,{children:"Current Password"}),(0,R.jsx)(L.gN,{as:P.II,name:"old_password",type:"password",placeholder:"Current Password",variant:"filled",children:function(e){var n=e.field;return(0,R.jsxs)(P.BZ,{size:"md",children:[(0,R.jsx)(P.II,(0,Ie.Z)({pr:"4.5rem",type:S?"text":"password",placeholder:"Enter password",variant:"filled"},n)),(0,R.jsx)(P.xH,{marginEnd:2,children:(0,R.jsx)(p.zx,{size:"sm",onClick:function(){return Z(!S)},variant:"link",children:S?(0,R.jsx)(a.Z.Hide,{fill:"darkLighten"}):(0,R.jsx)(a.Z.Show,{fill:"darkLighten"})})})]})}}),(0,R.jsx)(W.J1,{children:t.old_password})]}),(0,R.jsxs)(W.NI,{isInvalid:!!t.new_password&&r.new_password,my:5,children:[(0,R.jsx)(W.lX,{children:"New Password"}),(0,R.jsx)(L.gN,{as:P.II,placeholder:"New Password",name:"new_password",type:"password",variant:"filled",children:function(e){var n=e.field;return(0,R.jsxs)(P.BZ,{size:"md",children:[(0,R.jsx)(P.II,(0,Ie.Z)({pr:"4.5rem",type:y?"text":"password",placeholder:"Enter password",variant:"filled"},n)),(0,R.jsx)(P.xH,{marginEnd:2,children:(0,R.jsx)(p.zx,{size:"sm",onClick:function(){return I(!y)},variant:"link",children:y?(0,R.jsx)(a.Z.Hide,{fill:"darkLighten"}):(0,R.jsx)(a.Z.Show,{fill:"darkLighten"})})})]})}}),(0,R.jsx)(W.J1,{children:t.new_password})]}),(0,R.jsxs)(W.NI,{isInvalid:!!t.confirm_password&&r.confirm_password,children:[(0,R.jsx)(W.lX,{children:"Confirm Password"}),(0,R.jsx)(L.gN,{as:P.II,placeholder:"Confirm Password",name:"confirm_password",type:"password",variant:"filled",children:function(e){var n=e.field;return(0,R.jsxs)(P.BZ,{size:"md",children:[(0,R.jsx)(P.II,(0,Ie.Z)({pr:"4.5rem",type:N?"text":"password",placeholder:"Enter password",variant:"filled"},n)),(0,R.jsx)(P.xH,{marginEnd:2,children:(0,R.jsx)(p.zx,{size:"sm",onClick:function(){return D(!N)},variant:"link",children:N?(0,R.jsx)(a.Z.Hide,{fill:"darkLighten"}):(0,R.jsx)(a.Z.Show,{fill:"darkLighten"})})})]})}}),(0,R.jsx)(W.J1,{children:t.confirm_password})]})]}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{type:"submit",_hover:{bg:"grey"},isLoading:d,loadingText:"Loading",children:"Send Verification Code"})})]})})}})]})]}),(0,R.jsxs)(T.u_,{isOpen:e.tokenModalIsOpen,onClose:e.tokenModalOnClose,isCentered:!0,closeOnOverlayClick:!1,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Verification Code"}),(0,R.jsx)(T.ol,{}),(0,R.jsx)(L.J9,{initialValues:{token:""},validationSchema:E,onSubmit:function(e){q(e.token)},children:function(e){var n=e.handleSubmit,t=e.errors,r=e.touched;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("form",{onSubmit:n,children:[(0,R.jsx)(T.fe,{children:(0,R.jsxs)(W.NI,{isInvalid:!!t.token&&r.token,children:[(0,R.jsx)(L.gN,{as:P.II,placeholder:"Code",name:"token"}),(0,R.jsx)(W.J1,{children:t.token})]})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{type:"submit",_hover:{bg:"grey"},isLoading:d,loadingText:"Loading",children:"Change Password"})})]})})}})]})]}),(0,R.jsxs)(T.u_,{isOpen:e.logoutModalIsOpen,onClose:e.logoutModalOnClose,children:[(0,R.jsx)(T.ZA,{}),(0,R.jsxs)(T.hz,{children:[(0,R.jsx)(T.xB,{children:"Logout"}),(0,R.jsx)(T.fe,{children:(0,R.jsx)(r.xv,{children:"Please sign in again."})}),(0,R.jsx)(T.mz,{children:(0,R.jsx)(p.zx,{_hover:{bg:"grey"},onClick:B,children:"Logout"})})]})]})]})};var Oe=function(){var e,n,t,i,s,o,d;(0,ye.Z)("Profile | BAZR");var l=(0,c.Z)().user,u=(0,x.qY)(),h=(0,x.qY)(),f=(0,x.qY)(),m=(0,x.qY)(),v=(0,x.qY)(),j=(0,x.qY)(),g=(0,x.qY)(),b=(0,x.qY)(),C=(0,x.qY)();return(0,R.jsxs)("div",{children:[(0,R.jsxs)(r.kC,{marginTop:4,flexDirection:{base:"column",sm:"column",md:"column",lg:"row",xl:"row"},children:[(0,R.jsx)(r.xu,{marginBottom:5,marginEnd:5,width:230,alignSelf:"center",children:(0,R.jsxs)(r.kC,{flexDirection:"column",children:[(0,R.jsx)(be.Zb,{children:(0,R.jsx)(be.eW,{children:(0,R.jsxs)(r.kC,{flexDirection:"column",children:[(0,R.jsx)(ae.Ee,{loading:"lazy",height:"185px",borderRadius:"md",src:null===l||void 0===l?void 0:l.profile_picture,alt:"profile picture"}),(0,R.jsx)(p.zx,{marginTop:4,height:50,variant:"outline",borderWidth:1,borderColor:"blackAlpha.300",color:"blackAlpha.700",onClick:j.onOpen,children:"Change Photo"})]})})}),(0,R.jsx)(p.zx,{height:50,marginTop:4,variant:"outline",borderWidth:1,borderColor:"blackAlpha.300",color:"blackAlpha.700",leftIcon:(0,R.jsx)(a.Z.Lock,{fill:"blackAlpha.700"}),onClick:g.onOpen,children:(0,R.jsx)(r.xv,{width:"100%",children:"Change Password"})}),(0,R.jsx)(p.zx,{marginTop:2,height:50,variant:"outline",borderWidth:1,borderColor:"blackAlpha.300",color:"blackAlpha.700",leftIcon:(0,R.jsx)(a.Z.Pencil,{fill:"blackAlpha.700"}),onClick:m.onOpen,children:(0,R.jsx)(r.xv,{width:"100%",children:"Update Profile"})})]})}),(0,R.jsxs)(r.xu,{padding:5,children:[(0,R.jsx)(r.xv,{fontWeight:"semibold",marginBottom:4,fontSize:"md",children:"Profile"}),(0,R.jsxs)(r.MI,{columns:2,spacing:4,children:[(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:"Username"}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:null===l||void 0===l?void 0:l.username}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:"Name"}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:null===l||void 0===l?void 0:l.name}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:"Date of Birth"}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:null!==l&&void 0!==l&&l.birth_date?G()(null===l||void 0===l?void 0:l.birth_date).format("DD MMMM YYYY"):"-"}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:"Gender"}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:0===(null===l||void 0===l?void 0:l.gender_detail.id)?"-":null===l||void 0===l?void 0:l.gender_detail.name})]}),(0,R.jsx)(r.xv,{fontWeight:"semibold",marginY:4,fontSize:"md",children:"Contact"}),(0,R.jsxs)(r.MI,{columns:2,spacing:4,children:[(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:"Email"}),(0,R.jsxs)(r.xv,{fontWeight:"light",fontSize:"md",children:[null===l||void 0===l?void 0:l.email,(0,R.jsx)(N.u,{label:"Change Email",children:(0,R.jsx)(p.hU,{variant:"link",size:"xs",marginStart:2,"aria-label":"Change Email",icon:(0,R.jsx)(we.Z,{fill:"primary"}),onClick:u.onOpen})})]}),(0,R.jsx)(r.xv,{fontWeight:"light",fontSize:"md",children:"Phone Number"}),(0,R.jsxs)(r.xv,{fontWeight:"light",fontSize:"md",children:[null!==(e=null===l||void 0===l?void 0:l.phone)&&void 0!==e?e:"-",(0,R.jsx)(N.u,{label:"Change Phone",children:(0,R.jsx)(p.hU,{variant:"link",size:"xs",marginStart:2,"aria-label":"Change Phone",icon:(0,R.jsx)(we.Z,{fill:"primary"}),onClick:v.onOpen})})]})]})]})]}),(0,R.jsx)(Ze,{isOpen:u.isOpen,onClose:u.onClose,email:null!==(n=null===l||void 0===l?void 0:l.email)&&void 0!==n?n:"",codeModalIsOpen:h.isOpen,codeModalOnClose:h.onClose,codeModalOnOpen:h.onOpen,logoutModalIsOpen:f.isOpen,logoutModalOnOpen:f.onOpen,logoutModalOnClose:f.onClose}),(0,R.jsx)(ze,{isOpen:g.isOpen,onClose:g.onClose,tokenModalIsOpen:b.isOpen,tokenModalOnClose:b.onClose,tokenModalOnOpen:b.onOpen,logoutModalIsOpen:C.isOpen,logoutModalOnOpen:C.onOpen,logoutModalOnClose:C.onClose}),(0,R.jsx)(_e,{isOpen:m.isOpen,onClose:m.onClose,username:null!==(t=null===l||void 0===l?void 0:l.username)&&void 0!==t?t:"",name:null!==(i=null===l||void 0===l?void 0:l.name)&&void 0!==i?i:"",birth_date:null!==(s=null===l||void 0===l?void 0:l.birth_date)&&void 0!==s?s:"",gender_id:null!==(o=null===l||void 0===l?void 0:l.gender_detail.id)&&void 0!==o?o:""}),(0,R.jsx)(Ce,{isOpen:v.isOpen,onClose:v.onClose,phone:null!==(d=null===l||void 0===l?void 0:l.phone)&&void 0!==d?d:""}),(0,R.jsx)(ke,{isOpen:j.isOpen,onClose:j.onClose})]})};var Ne=function(){var e,n,t=(0,c.Z)().user;return(0,R.jsx)(r.W2,{maxW:"container.xl",py:5,children:(0,R.jsxs)(r.Ug,{width:"100%",alignItems:"start",children:[(0,R.jsx)(i.Od,{display:{base:"none",lg:"block"},width:"30%",isLoaded:!!t,children:(0,R.jsxs)(r.kC,{direction:"column",borderWidth:"1px",borderRadius:"lg",marginEnd:5,padding:4,children:[(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(s.qE,{size:"md",name:"Avatar",src:null===t||void 0===t?void 0:t.profile_picture}),(0,R.jsx)(r.xv,{fontSize:"md",fontWeight:"bold",children:null===t||void 0===t?void 0:t.name})]}),(0,R.jsx)(r.iz,{borderWidth:1,my:4}),(0,R.jsxs)(r.kC,{direction:"row",justifyContent:"space-between",children:[(0,R.jsxs)(r.Ug,{children:[(0,R.jsx)(a.Z.Wallet,{fill:"primary"}),(0,R.jsx)(r.xv,{fontWeight:"semibold",children:"Wallet"})]}),(0,R.jsxs)(r.xv,{textAlign:"end",color:"darkLighten",fontWeight:"semibold",children:["Rp",(0,d.xG)(null!==(e=null===t||void 0===t||null===(n=t.wallet_detail)||void 0===n?void 0:n.balance)&&void 0!==e?e:0)]})]})]})}),(0,R.jsx)(i.Od,{width:{base:"100%",lg:"70%"},isLoaded:!!t,children:(0,R.jsx)(r.kC,{borderWidth:"1px",borderRadius:"lg",children:(0,R.jsxs)(o.mQ,{isLazy:!0,p:2,variant:"default",width:"100%",children:[(0,R.jsxs)(o.td,{children:[(0,R.jsx)(o.OK,{children:"Profile"}),(0,R.jsx)(o.OK,{children:"Address"}),(0,R.jsx)(o.OK,{children:"My Purchase"}),(0,R.jsx)(o.OK,{children:"Manage Refund"})]}),(0,R.jsxs)(o.nP,{children:[(0,R.jsx)(o.x4,{children:(0,R.jsx)(Oe,{})}),(0,R.jsx)(o.x4,{children:(0,R.jsx)(B,{})}),(0,R.jsx)(o.x4,{children:(0,R.jsx)(xe,{})}),(0,R.jsx)(o.x4,{children:(0,R.jsx)(ge,{})})]})]})})})]})})}}}]);
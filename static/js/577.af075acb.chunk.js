"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[577],{4320:function(r,e,t){var n=t(4165),a=t(5861),s=t(9396),u=t(2914),i=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.REGISTER,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),c=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.REGISTER_MERCHANT,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),o=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t,a,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,a=e.password,r.prev=1,r.next=4,s.Z.post(u.v.auth.LOGIN,{email:t,password:a});case 4:return i=r.sent,r.abrupt("return",i.data);case 8:return r.prev=8,r.t0=r.catch(1),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}(),l=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.LOGIN_GOOGLE,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),p=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.REFRESH,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),d=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t,a,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.user.PROFILE,{email:e});case 3:if(!((t=r.sent).status>=200&&t.status<=300)){r.next=6;break}return r.abrupt("return",t.data);case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),i=r.t0,r.abrupt("return",null===(a=i.response)||void 0===a?void 0:a.data);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}(),h=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(u.v.auth.PASSWORD,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),f=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.put(u.v.auth.PASSWORD,e);case 3:return t=r.sent,r.abrupt("return",t.data);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),v={register:i,registerMerchant:c,login:o,loginGoogle:l,refresh:p,checkEmail:d,resetPassword:h,changePassword:f};e.Z=v},2618:function(r,e,t){var n=t(2791);e.Z=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BAZR",e=document.getElementById("title");(0,n.useEffect)((function(){e.innerHTML=r}),[r])}},5577:function(r,e,t){t.r(e);var n=t(1413),a=t(4165),s=t(5861),u=t(9439),i=t(9712),c=t(5863),o=t(824),l=t(5777),p=t(5872),d=t(5705),h=t(2791),f=t(7689),v=t(1087),x=t(1724),Z=t(4320),m=t(9986),w=t(2618),g=t(4355),j=t(184);e.default=function(){(0,w.Z)("Login | BAZR");var r=(0,f.TH)().state,e=(0,f.s0)(),t=(0,g.Z)(),b=t.successToast,y=t.errorToast,k=(0,h.useState)(!1),I=(0,u.Z)(k,2),E=I[0],S=I[1],R=(0,h.useState)(!1),L=(0,u.Z)(R,2),A=L[0],G=L[1],O=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){var s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.next=3,Z.Z.login(n).finally((function(){return S(!1)}));case 3:(s=t.sent).is_success?(b("Welcome back!"),e(null!==r&&void 0!==r?r:"/")):y("Failed to login",s.message);case 5:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),_=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){var s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.Z.loginGoogle(n);case 2:(s=t.sent).is_success?s.data.is_registered?(b("Welcome back!"),e(null!==r&&void 0!==r?r:"/")):e("/register",{state:s.data}):y("Failed to login",s.message);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),C=x.Ry().shape({email:x.Z_().email("Invalid email").required("Required"),password:x.Z_().required("Required")});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(i.xu,{textAlign:"center",children:[(0,j.jsx)(i.X6,{children:"Sign in to your account"}),(0,j.jsxs)(i.xv,{mt:2,children:["Or"," ",(0,j.jsx)(i.rU,{as:v.rU,to:"/register",color:"teal.500",children:"sign up now!"})]})]}),(0,j.jsx)(i.xu,{textAlign:"left",my:4,children:(0,j.jsx)(d.J9,{initialValues:{email:"",password:""},validationSchema:C,onSubmit:function(r){O(r)},children:function(r){var e=r.handleSubmit,t=r.errors,a=r.touched;return(0,j.jsxs)("form",{onSubmit:e,children:[(0,j.jsxs)(c.NI,{isInvalid:!!t.email&&a.email,children:[(0,j.jsx)(c.lX,{children:"Email"}),(0,j.jsx)(d.gN,{as:o.II,name:"email",type:"email",placeholder:"Enter your email address",variant:"filled"}),(0,j.jsx)(c.J1,{children:t.email})]}),(0,j.jsxs)(c.NI,{mt:4,isInvalid:!!t.password&&a.password,children:[(0,j.jsx)(c.lX,{children:"Password"}),(0,j.jsx)(d.gN,{as:o.II,name:"password",type:"password",placeholder:"Enter your password",variant:"filled",children:function(r){var e=r.field;return(0,j.jsxs)(o.BZ,{size:"md",children:[(0,j.jsx)(o.II,(0,n.Z)({pr:"4.5rem",type:A?"text":"password",placeholder:"Enter password",variant:"filled"},e)),(0,j.jsx)(o.xH,{marginEnd:2,children:(0,j.jsx)(l.zx,{size:"sm",onClick:function(){return G(!A)},variant:"link",children:A?(0,j.jsx)(m.Z.Hide,{fill:"darkLighten"}):(0,j.jsx)(m.Z.Show,{fill:"darkLighten"})})})]})}}),(0,j.jsx)(c.J1,{children:t.password})]}),(0,j.jsx)(i.Kq,{isInline:!0,justifyContent:"end",mt:4,children:(0,j.jsx)(i.xu,{children:(0,j.jsx)(i.rU,{color:"teal.500",href:"/reset-request",children:"Forgot your password?"})})}),(0,j.jsx)(l.zx,{variant:"primary",width:"full",mt:10,type:"submit",isLoading:E,children:"Sign in"})]})}})}),(0,j.jsxs)(i.xu,{textAlign:"center",children:[(0,j.jsxs)(i.Ug,{children:[(0,j.jsx)(i.iz,{my:8,borderColor:"gray.300",background:"gray.300",borderWidth:"1px"}),(0,j.jsx)(i.xv,{px:5,children:"or"}),(0,j.jsx)(i.iz,{my:8,borderColor:"gray.300",background:"gray.300",borderWidth:"1px"})]}),(0,j.jsx)(i.M5,{my:3,children:(0,j.jsx)(p.kZ,{onSuccess:function(r){_({token:r.credential})},type:"standard",shape:"circle",theme:"outline",text:"signin_with"})})]})]})}}}]);
//# sourceMappingURL=577.af075acb.chunk.js.map
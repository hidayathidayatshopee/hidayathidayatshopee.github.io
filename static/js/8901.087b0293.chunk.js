"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8901],{38466:function(e,t,r){var n=r(43964),i=r(65098),s=r(94129),o=r(46417);t.Z=function(e){var t=e.name,r=e.qty,a=e.regularPrice,c=e.discountedPrice,u=e.total,l=e.variantName,d=e.onClick,h=e.disabled,p=e.productPhoto;return(0,o.jsxs)(n.Ug,{alignItems:"start",gap:3,width:"100%",children:[(0,o.jsx)(n.oM,{ratio:1,minWidth:"4em",borderRadius:"lg",children:(0,o.jsx)(i.Ee,{loading:"lazy",src:p,alt:t,fallbackSrc:"./image-fallback.png",borderRadius:"lg",opacity:h?.5:1})}),(0,o.jsxs)(n.gC,{alignItems:"flex-start",flexGrow:2,spacing:1,children:[(0,o.jsx)(n.xv,{role:"button",textTransform:"uppercase",fontWeight:"bold",onClick:d,opacity:h?.5:1,_hover:{textDecoration:h?"none":"underline"},children:t}),(0,o.jsxs)(n.xv,{fontWeight:"semibold",fontSize:"xs",color:"gray.500",children:[l," - ",r," item(s)"]}),(0,o.jsxs)(n.kC,{direction:"row",justifyContent:"space-between",width:"100%",children:[0!==c?(0,o.jsxs)(n.kC,{direction:"row",gap:1,children:[(0,o.jsxs)(n.xv,{fontSize:"sm",color:"gray.500",textDecor:"line-through",fontWeight:"bold",children:["Rp",(0,s.xG)(a)]}),(0,o.jsxs)(n.xv,{fontSize:"md",color:"red.400",fontWeight:"bold",children:["Rp",(0,s.xG)(c)]})]}):(0,o.jsxs)(n.xv,{color:"darkDarken",fontSize:"sm",fontWeight:"bold",opacity:h?.5:1,children:["Rp",(0,s.xG)(a)]}),(0,o.jsxs)(n.xv,{color:"darkDarken",fontSize:"sm",fontWeight:"bold",opacity:h?.5:1,children:["Rp",(0,s.xG)(u)]})]})]})]})}},59522:function(e,t,r){var n=r(43964),i=r(46417);t.Z=function(e){var t=e.shopName,r=e.shopCityName,s=e.onClick;return(0,i.jsxs)(n.gC,{alignItems:"start",spacing:0,pb:3,children:[(0,i.jsx)(n.xv,{role:"button",fontWeight:"bold",onClick:s,_hover:{textDecoration:"underline"},children:t}),(0,i.jsx)(n.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:r})]})}},72301:function(e,t,r){var n=r(74165),i=r(15861),s=r(23401);t.Z=function(){var e=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.createCheckout(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.createTransaction(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{createCheckout:e,createTransaction:t}}},62413:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(74165),i=r(15861),s=r(47670),o=r(30464),a=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post(o.v.shipping.SHIPPING,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(o.v.shop.COURIER+"?shopIds=".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post(o.v.shop.COURIER,{courier_ids:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l={getShippingCost:a,getCourierList:c,updateCourierList:u},d=function(){var e=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getShippingCost(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getCourierList(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.updateCourierList(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetchShippingCost:e,fetchCourierList:t,updateCourierList:r}}},87129:function(e,t,r){var n=r(47313);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BAZR",t=document.getElementById("title");(0,n.useEffect)((function(){t.innerHTML=e}),[e])}},42170:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(74165),i=r(15861),s=r(29439),o=r(47313),a=r(47670),c=r(30464),u=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.post(c.v.voucher.SHOP_VOUCHER,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.put(c.v.voucher.SHOP_VOUCHER+"/"+t.id,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.delete(c.v.voucher.SHOP_VOUCHER+"/"+t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(c.v.voucher.SHOP_VOUCHER+"/"+t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,i,s){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(c.v.voucher.SHOP_VOUCHER+"?shopId=".concat(s,"&status=").concat(t,"&page=").concat(r,"&limit=").concat(i,"&sortBy=min_purchase"));case 3:return o=e.sent,e.abrupt("return",o.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,i){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(c.v.voucher.VOUCHER+"?status=user&sortBy=min_purchase");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x={createVoucher:u,editVoucher:l,deleteVoucher:d,getVoucher:h,getAllVouchers:p,getAllMarketplaceVouchers:f},v=function(){var e=(0,o.useState)(!1),t=(0,s.Z)(e,2),r=t[0],a=t[1],c=(0,o.useState)(),u=(0,s.Z)(c,2),l=u[0],d=u[1],h=(0,o.useState)(),p=(0,s.Z)(h,2),f=p[0],v=p[1],m=(0,o.useState)([]),g=(0,s.Z)(m,2),b=g[0],j=g[1],_=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,x.createVoucher(t);case 3:return r=e.sent,a(!1),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,x.editVoucher(t);case 3:return r=e.sent,a(!1),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,x.deleteVoucher(t);case 3:return r=e.sent,a(!1),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,x.getVoucher(t);case 3:return r=e.sent,a(!1),r.is_success&&d(r.data),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,i,s){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,x.getAllVouchers(t,r,i,s);case 3:return(o=e.sent).is_success&&v(o.data),a(!1),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,x.getAllMarketplaceVouchers();case 3:return t=e.sent,a(!1),t.is_success&&j(t.data.data),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{createVoucher:_,editVoucher:y,deleteVoucher:Z,fetchVoucher:w,fetchAllVoucher:C,voucherLoading:r,voucher:l,vouchers:f,fetchAllMarketplaceVoucher:k,marketplaceVouchers:b}}},68901:function(e,t,r){r.r(t),r.d(t,{default:function(){return F}});var n=r(1413),i=r(74165),s=r(15861),o=r(29439),a=r(84959),c=r(43964),u=r(13338),l=r(50041),d=r(69748),h=r(77453),p=r(47313),f=r(58467),x=r(38466),v=r(59522),m=r(8914),g=r(62128),b=r(94129),j=r(46417),_=function(e){var t=e.voucher,r=e.shopVoucher,n=e.onSetVoucher,i=e.onSetShopVoucher,s=e.isDisabled;return(0,j.jsxs)(g.Zb,{border:"2px",borderColor:"light",borderRadius:"lg",width:"100%",onClick:t?function(){s||n(t)}:function(){s||i(null===r||void 0===r?void 0:r.shop_id,null===r||void 0===r?void 0:r.id)},opacity:s?.5:1,cursor:s?"default":"pointer",children:[(0,j.jsx)(g.Ol,{bg:"lightLighten",textTransform:"uppercase",fontWeight:"bold",fontSize:"md",py:3,children:t?t.code:null===r||void 0===r?void 0:r.code}),(0,j.jsx)(g.eW,{children:(0,j.jsxs)(c.gC,{width:"100%",alignItems:"start",children:[(0,j.jsxs)(c.Ug,{width:"100%",justifyContent:"space-between",children:[(0,j.jsxs)(c.xv,{fontWeight:"semibold",children:["Disc."," ",(0,j.jsx)(c.xv,{as:"span",fontSize:"xl",children:t?0!==t.benefit?"Rp".concat((0,b.xG)(t.benefit)):"".concat(t.benefit_percentage,"%"):0!==(null===r||void 0===r?void 0:r.benefit)?"Rp".concat((0,b.xG)(null===r||void 0===r?void 0:r.benefit)):"".concat(r.benefit_percentage,"%")})]}),(0,j.jsx)(c.xv,{color:"primaryDarken",fontWeight:"bold",fontSize:"lg",children:t?t.code:null===r||void 0===r?void 0:r.code})]}),(0,j.jsx)(c.xv,{fontSize:"xs",fontWeight:"semibold",color:"darkLighten",children:t?0!==t.min_purchase?"Min. Purchase: Rp".concat((0,b.xG)(t.min_purchase)):"No Min. Purchase":0!==(null===r||void 0===r?void 0:r.min_purchase)?"Min. Purchase: Rp".concat((0,b.xG)(null===r||void 0===r?void 0:r.min_purchase)):"No Min. Purchase"})]})})]})};var y=function(e){var t,r,n,i,s=e.isOpen,o=e.onClose,a=e.isLoading,u=e.vouchers,l=e.checkoutData,h=e.onSelectVoucher,p=e.onSelectShopVoucher;return(0,j.jsxs)(m.u_,{onClose:o,isOpen:s,isCentered:!0,scrollBehavior:"inside",children:[(0,j.jsx)(m.ZA,{}),(0,j.jsxs)(m.hz,{children:[(0,j.jsx)(m.xB,{textTransform:"uppercase",children:"Select Voucher"}),(0,j.jsx)(m.ol,{}),(0,j.jsx)(m.fe,{children:(0,j.jsx)(c.gC,{width:"100%",gap:3,children:a?(0,j.jsx)(j.Fragment,{children:"loading"}):(0,j.jsxs)(j.Fragment,{children:[(null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.filter((function(e){var t;return(null===(t=l.cart.find((function(t){return e.shop_id===t.shop_id})))||void 0===t?void 0:t.subtotal)>e.min_purchase})).length)>0&&(0,j.jsxs)(c.gC,{width:"100%",children:[(0,j.jsx)(c.xv,{textAlign:"start",fontWeight:"bold",fontSize:"sm",textTransform:"uppercase",width:"100%",children:"Available Vouchers"}),(0,j.jsx)(c.iz,{borderColor:"light"})]}),null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.filter((function(e){var t;return(null===(t=l.cart.find((function(t){return e.shop_id===t.shop_id})))||void 0===t?void 0:t.subtotal)>e.min_purchase})).map((function(e){return(0,j.jsx)(_,{shopVoucher:e,onSetVoucher:function(e){h(e),o()},onSetShopVoucher:function(e,t){p(e,t),o()},isDisabled:!1},e.id)})),(null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.filter((function(e){var t;return(null===(t=l.cart.find((function(t){return e.shop_id===t.shop_id})))||void 0===t?void 0:t.subtotal)<e.min_purchase})).length)>0&&(0,j.jsxs)(c.gC,{width:"100%",children:[(0,j.jsx)(c.xv,{textAlign:"start",fontWeight:"bold",fontSize:"sm",textTransform:"uppercase",width:"100%",children:"Unavailable Vouchers"}),(0,j.jsx)(c.iz,{borderColor:"light"})]}),null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.filter((function(e){var t;return(null===(t=l.cart.find((function(t){return e.shop_id===t.shop_id})))||void 0===t?void 0:t.subtotal)<e.min_purchase})).map((function(e){return(0,j.jsx)(_,{shopVoucher:e,onSetVoucher:function(e){h(e),o()},onSetShopVoucher:function(e,t){p(e,t),o()},isDisabled:!0},e.id)}))]})})}),(0,j.jsx)(m.mz,{children:(0,j.jsx)(d.zx,{onClick:o,children:"Close"})})]})]})};var Z=function(e){var t=e.isOpen,r=e.onClose,n=e.isLoading,i=e.vouchers,s=e.checkoutData,o=e.onSelectVoucher,a=e.onSelectShopVoucher;return(0,j.jsxs)(m.u_,{onClose:r,isOpen:t,isCentered:!0,scrollBehavior:"inside",children:[(0,j.jsx)(m.ZA,{}),(0,j.jsxs)(m.hz,{children:[(0,j.jsx)(m.xB,{textTransform:"uppercase",children:"Select Voucher"}),(0,j.jsx)(m.ol,{}),(0,j.jsx)(m.fe,{children:(0,j.jsx)(c.gC,{width:"100%",gap:3,children:n?(0,j.jsx)(j.Fragment,{children:"loading"}):(0,j.jsxs)(j.Fragment,{children:[(null===i||void 0===i?void 0:i.filter((function(e){return s.subtotal>e.min_purchase})).length)>0&&(0,j.jsxs)(c.gC,{width:"100%",children:[(0,j.jsx)(c.xv,{textAlign:"start",fontWeight:"bold",fontSize:"sm",textTransform:"uppercase",width:"100%",children:"Available Vouchers"}),(0,j.jsx)(c.iz,{borderColor:"light"})]}),null===i||void 0===i?void 0:i.filter((function(e){return s.subtotal>e.min_purchase})).map((function(e){return(0,j.jsx)(_,{voucher:e,onSetVoucher:function(e){o(e),r()},onSetShopVoucher:function(e,t){a(e,t),r()},isDisabled:!1},e.id)})),(0,j.jsx)(c.gC,{width:"100%",children:(null===i||void 0===i?void 0:i.filter((function(e){return s.subtotal<e.min_purchase})).length)>0&&(0,j.jsxs)(c.gC,{width:"100%",children:[(0,j.jsx)(c.xv,{textAlign:"start",fontWeight:"bold",fontSize:"sm",textTransform:"uppercase",width:"100%",children:"Unavailable Vouchers"}),(0,j.jsx)(c.iz,{borderColor:"light"})]})}),null===i||void 0===i?void 0:i.filter((function(e){return s.subtotal<e.min_purchase})).map((function(e){return(0,j.jsx)(_,{voucher:e,onSetVoucher:function(e){o(e),r()},onSetShopVoucher:function(e,t){a(e,t),r()},isDisabled:!0},e.id)}))]})})}),(0,j.jsx)(m.mz,{children:(0,j.jsx)(d.zx,{onClick:r,children:"Close"})})]})]})},w=r(27854),C=r(33838),k=r(78788),S=r(72301),z=r(64592),P=r(62413),V=r(87129),W=r(45598),O=r(46036),R=r(42170),I=r(86282),L={benefit:0,benefit_percentage:0,code:"",expiry_date:"",id:0,min_purchase:0,quota:0,start_date:""},M=r(43974),T=r(36459),D=r(24023),A=r(36777),E=r(60261),U=r(89140),G=function(e){var t=Object.assign({},((0,T.Z)(e),e)),r=t.isOpen,a=t.onClose,c=t.isOrderPlaced,u=t.setIsOrderPlaced,l=(0,p.useState)(!1),h=(0,o.Z)(l,2),x=(h[0],h[1]),v=(0,p.useState)(0),g=(0,o.Z)(v,2),b=g[0],_=g[1],y=(0,p.useState)(window.history.state),Z=(0,o.Z)(y,2),w=Z[0],C=Z[1],P=(0,p.useState)({message:"",status:""}),V=(0,o.Z)(P,2),O=V[0],R=V[1],I=(0,f.s0)(),L=(0,k.Z)(),D=L.cart,A=L.setCart,G=L.deleteCart,H=L.checkoutCart,F=(0,z.Z)().chosenSealabsPay,B=(0,p.useState)(""),N=(0,o.Z)(B,2),q=N[0],Y=N[1],X=(0,W.Z)(),J=X.successToast,K=X.infoToast,Q=X.errorToast,$=(0,S.Z)().createTransaction,ee=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){var s,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),s=(0,n.Z)((0,n.Z)({},r),{},{redirect_url:"".concat(window.location.origin,"/sealabs_pay/redirect")}),e.next=4,$({payment_method_id:2});case 4:if((o=e.sent).is_success){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,E.Z.paymentSealabsPay(s,o.data.id).finally((function(){return x(!1)}));case 9:(a=e.sent).is_success?(K("Please enter the OTP"),Y(a.data)):("user:insufficient-fund"===a.message?(Q("Insufficient balance, please top up!"),t.onClose()):"user:not-found"===a.message?(Q("Invalid SeaLabs Pay account"),t.onClose()):Q("Failed to pay with your sealabs pay. \n ",a.message),u(!1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){c&&ee(F)}),[c]),(0,p.useEffect)((function(){if("TXN_PAID"===O.status){J("Payment success!"),D.forEach((function(e){H.includes(e.cart_id)&&G(e.cart_id)}));var e=D.filter((function(e){return!H.includes(e.cart_id)}));A(e),I(M.Z.HOME,{replace:!0})}else"TXN_FAILED"===O.status&&(Q("Failed to pay with your sealabs pay account. \n "+O.message),I(M.Z.HOME,{replace:!0}));u(!1)}),[O]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(m.u_,{isOpen:r,onClose:a,size:{base:"full",lg:"lg"},children:[(0,j.jsx)(m.ZA,{}),(0,j.jsxs)(m.hz,{children:[(0,j.jsx)(m.xB,{children:"Please enter your OTP"}),(0,j.jsx)(m.ol,{}),(0,j.jsx)(m.fe,{children:q&&(0,j.jsx)(U.Z,{setRedirectParams:R,setIframeUrl:Y,iframeUrl:q,setParams:C,params:w,redirected:b,setRedirected:_})}),(0,j.jsx)(m.mz,{children:(0,j.jsx)(d.zx,{variant:"ghost",mr:3,onClick:a,children:"Close"})})]})]})})},H=function(e){var t,r=Object.assign({},((0,T.Z)(e),e)),n=(0,f.s0)(),i=(0,p.useState)(!1),s=(0,o.Z)(i,2),l=s[0],h=s[1],x=(0,z.Z)(),v=x.sealabsPay,m=x.chosenSealabsPay,_=(0,p.useState)(""),y=(0,o.Z)(_,2),Z=y[0],w=y[1],C=(0,p.useState)(!0),k=(0,o.Z)(C,2),S=k[0],P=k[1],V=(0,a.qY)(),W=V.isOpen,O=V.onOpen,R=V.onClose;return(0,p.useEffect)((function(){!function(){if(r.payload.cart.some((function(e){return 0===e.courier_id})))return w("Please choose couriers first before placing order."),void P(!0);if(0===r.paymentMethod)return w("Please choose your payment method."),void P(!0);if(1===r.paymentMethod){if(!r.user.wallet_detail.is_activated)return w("You haven't activated your wallet yet."),void P(!0);if(r.user.wallet_detail.balance<r.payload.total)return w("Insufficient wallet balance. Please top up!"),void P(!0)}else if(2===r.paymentMethod){if(v&&v.length<1)return w("You haven't added a sealabs pay account yet. Please add one!"),void P(!0);if(0===m.id)return w("Please choose one of your sealabs pay account to place order."),void P(!0)}w(""),P(!1)}()}),[r.payload,r.paymentMethod,r.user,v,m]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g.Zb,{boxShadow:"default",border:"2px",borderColor:"light",borderRadius:"lg",children:(0,j.jsx)(g.eW,{children:(0,j.jsx)(c.Kq,{spacing:"4",children:(0,j.jsxs)(u.Od,{isLoaded:!r.isLoading,children:[0!==r.marketplaceVoucher.id?(0,j.jsxs)(c.gC,{spacing:0,children:[(0,j.jsxs)(c.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",borderRadius:"lg",border:"3px solid",borderColor:"light",px:3,py:2,children:[(0,j.jsxs)(c.Ug,{gap:3,ms:2,children:[(0,j.jsx)(A.Z.Percentage,{boxSize:6,fill:"darkLighten"}),(0,j.jsxs)(c.kC,{direction:"column",alignItems:"start",children:[(0,j.jsx)(c.xv,{fontWeight:"semibold",fontSize:"sm",children:r.marketplaceVoucher.code}),(0,j.jsxs)(c.xv,{fontSize:"xs",fontWeight:"semibold",color:"darkLighten",children:["Disc."," ",0!==r.marketplaceVoucher.benefit?"Rp".concat((0,b.xG)(r.marketplaceVoucher.benefit)):"".concat(r.marketplaceVoucher.benefit_percentage,"%")]})]})]}),(0,j.jsx)(c.xv,{color:"primary",fontWeight:"extrabold",fontSize:"lg",children:r.marketplaceVoucher.code})]}),(0,j.jsx)(d.zx,{variant:"primaryLink",_active:{bg:"none"},alignSelf:"end",p:0,fontSize:"sm",onClick:function(){r.setMarketplaceVoucher(L)},children:"Remove voucher"})]}):(0,j.jsx)(d.zx,{variant:"outline",width:"100%",borderRadius:"lg",onClick:r.getMarketplaceVoucher,mb:3,children:(0,j.jsxs)(c.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,j.jsx)(c.xv,{fontWeight:"semibold",children:"Select Voucher"}),(0,j.jsx)(A.Z.ChevronRight,{})]})}),(0,j.jsxs)(c.xu,{children:[(0,j.jsx)(c.xv,{textTransform:"uppercase",fontWeight:"bold",my:3,children:"Order Summary"}),(0,j.jsx)(c.iz,{})]}),(0,j.jsxs)(c.xu,{children:[(0,j.jsxs)(c.rj,{templateColumns:"repeat(2, 1fr)",gap:6,pt:"3",children:[(0,j.jsx)(c.P4,{children:(0,j.jsxs)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:["Total Items (",r.payload.total_item>1?"".concat(r.payload.total_item," products"):"".concat(r.payload.total_item," product"),")"]})}),(0,j.jsx)(c.P4,{children:(0,j.jsxs)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",align:"right",children:["Rp",(0,b.xG)(r.payload.subtotal)]})})]}),(0,j.jsxs)(c.rj,{templateColumns:"repeat(2, 1fr)",gap:6,py:"2",children:[(0,j.jsx)(c.P4,{children:(0,j.jsx)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:"Total Delivery Fee"})}),(0,j.jsx)(c.P4,{children:(0,j.jsxs)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",align:"right",children:["Rp",(0,b.xG)(r.payload.total_delivery_fee)]})})]}),(0,j.jsxs)(c.rj,{templateColumns:"repeat(2, 1fr)",gap:6,pb:"3",children:[(0,j.jsx)(c.P4,{children:(0,j.jsx)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:"Total Discount"})}),(0,j.jsx)(c.P4,{children:(0,j.jsxs)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",align:"right",children:["-Rp",(0,b.xG)(r.payload.total_discount)]})})]}),(0,j.jsx)(c.iz,{borderBottomWidth:"0.1em"}),(0,j.jsxs)(c.Ug,{width:"100%",justifyContent:"space-between",py:5,children:[(0,j.jsx)(c.xv,{fontWeight:"bold",textTransform:"uppercase",children:"Total Payment"}),(0,j.jsxs)(c.xv,{fontWeight:"bold",children:["Rp",(0,b.xG)(r.payload.total)]})]}),(0,j.jsx)(c.iz,{})]}),(0,j.jsxs)(c.xu,{my:5,width:"100%",children:[(0,j.jsx)(c.xv,{pb:3,fontWeight:"bold",children:"Select Payment Method"}),(0,j.jsxs)(c.kC,{justifyContent:"space-between",direction:{base:"column",xl:"row"},width:"100%",gap:3,children:[(0,j.jsx)(c.xu,{border:"2px solid",borderColor:1===r.paymentMethod?"primary":"light",backgroundColor:1===r.paymentMethod?"teal.50":"white",width:{base:"100%",xl:"50%"},as:d.zx,variant:"paymentMethod",onClick:function(){r.user.wallet_detail.is_activated?r.setPaymentMethod(1):n(M.Z.WALLET)},justifyContent:"center",px:4,py:9,children:(0,j.jsxs)(c.kC,{gap:3,alignItems:"start",justifyContent:"center",children:[(0,j.jsx)(A.Z.Wallet,{fill:1===r.paymentMethod?"primary":"darkLighten",boxSize:6}),(0,j.jsxs)(c.gC,{alignItems:"start",spacing:1,children:[(0,j.jsx)(c.xv,{fontWeight:"bold",children:"My Wallet"}),(0,j.jsx)(c.xv,{fontSize:"xs",color:"darkLighten",fontWeight:"semibold",children:null!==r.user&&r.user.wallet_detail.is_activated?"Rp".concat((0,b.xG)(null===(t=r.user)||void 0===t?void 0:t.wallet_detail.balance)):"Activate now!"})]})]})}),(0,j.jsx)(c.xu,{border:"2px solid",borderColor:2===r.paymentMethod?"primary":"light",backgroundColor:2===r.paymentMethod?"teal.50":"white",width:{base:"100%",xl:"50%"},as:d.zx,variant:"paymentMethod",onClick:function(){r.setPaymentMethod(2)},px:4,py:9,children:(0,j.jsxs)(c.kC,{gap:3,alignItems:"start",justifyContent:"center",children:[(0,j.jsx)(A.Z.SealabsPay,{boxSize:6}),(0,j.jsxs)(c.gC,{alignItems:"start",spacing:1,children:[(0,j.jsx)(c.xv,{fontWeight:"bold",children:"Sealabs Pay"}),(0,j.jsx)(c.xv,{fontSize:"xs",color:"primary",fontWeight:"semibold",onClick:r.onOpenSealabsPay,_hover:{color:"primaryDarken",textDecoration:"underline"},children:null!==m&&void 0!==m&&m.card_number?m.card_number:"Choose Account"})]})]})})]})]}),Z&&(0,j.jsxs)(D.bZ,{mb:4,status:"error",variant:"left-accent",children:[(0,j.jsx)(D.zM,{}),Z]}),(0,j.jsx)(d.zx,{variant:"primary",width:"100%",onClick:function(){1===r.paymentMethod?r.onOpen():2===r.paymentMethod&&(h(!0),O())},isDisabled:S,children:"Place Order"})]})})})}),(0,j.jsx)(G,{isOpen:W,onClose:R,isOrderPlaced:l,setIsOrderPlaced:h})]})},F=function(){(0,V.Z)("Checkout");var e=(0,k.Z)(),t=e.cart,r=e.setCart,m=e.deleteCart,g=e.checkoutData,_=e.setCheckoutData,T=e.checkoutCart,D=(0,O.Z)().fetchProfile,A=(0,W.Z)().errorToast,E=(0,a.qY)(),U=E.isOpen,G=E.onOpen,F=E.onClose,B=(0,a.qY)(),N=B.isOpen,q=B.onOpen,Y=B.onClose,X=(0,z.Z)(),J=X.getSealabsPay,K=X.setChosenSealabsPay,Q=(0,a.qY)(),$=(0,a.qY)(),ee=(0,I.Z)(),te=ee.verifyPin,re=ee.createPayment,ne=(0,f.s0)(),ie=(0,P.Z)().fetchShippingCost,se=(0,S.Z)(),oe=se.createCheckout,ae=se.createTransaction,ce=(0,O.Z)().getUserAddresses,ue=(0,p.useState)(!0),le=(0,o.Z)(ue,2),de=le[0],he=le[1],pe=(0,p.useState)(null),fe=(0,o.Z)(pe,2),xe=fe[0],ve=fe[1],me=(0,p.useState)(0),ge=(0,o.Z)(me,2),be=ge[0],je=ge[1],_e=(0,p.useState)(""),ye=(0,o.Z)(_e,2),Ze=ye[0],we=ye[1],Ce=(0,p.useState)([]),ke=(0,o.Z)(Ce,2),Se=ke[0],ze=ke[1],Pe=(0,p.useState)(0),Ve=(0,o.Z)(Pe,2),We=Ve[0],Oe=Ve[1],Re=(0,R.Z)(),Ie=Re.voucherLoading,Le=Re.marketplaceVouchers,Me=Re.fetchAllMarketplaceVoucher,Te=Re.vouchers,De=Re.fetchAllVoucher,Ae=(0,p.useState)(L),Ee=(0,o.Z)(Ae,2),Ue=Ee[0],Ge=Ee[1],He=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var s,o,a,c,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(6!==n.length){e.next=23;break}return s={pin:n},e.next=4,te(s);case 4:if(!(o=e.sent).is_success){e.next=21;break}return e.next=8,ae({payment_method_id:be});case 8:if((a=e.sent).is_success){e.next=11;break}return e.abrupt("return");case 11:if(c={token:o.data.token,user_transaction_id:a.data.id},re(c)){e.next=15;break}return e.abrupt("return");case 15:t.forEach((function(e){T.includes(e.cart_id)&&m(e.cart_id)})),u=t.filter((function(e){return!T.includes(e.cart_id)})),r(u),ne(M.Z.HOME,{replace:!0}),e.next=23;break;case 21:we(""),A("Pin Error",o.message,3e3);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,r,s,o,a){var c,u,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==g.address_detail.city_id){e.next=3;break}return A("Please set a delivery address"),e.abrupt("return");case 3:return he(!0),e.next=6,ie({origin:r.toString(),destination:g.address_detail.city_id.toString(),weight:s,courier:t});case 6:return c=e.sent,u=g.cart.map((function(e){var t,r;return e.shop_id===a?(0,n.Z)((0,n.Z)({},e),{},{courier_id:o,delivery_fee:null===(t=c.rajaongkir.results[0].costs.find((function(e){return"REG"===e.service||"Pos Reguler"===e.service})))||void 0===t?void 0:t.cost[0].value,etd:null===(r=c.rajaongkir.results[0].costs.find((function(e){return"REG"===e.service||"Pos Reguler"===e.service})))||void 0===r?void 0:r.cost[0].etd}):e})),e.next=10,oe({address_id:We,orders:u,user_voucher_id:Ue.id});case 10:(l=e.sent).is_success?(_(l.data),he(!1)):(A(l.message),he(!1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n,i,s){return e.apply(this,arguments)}}(),Be=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De("user",1,10,t);case 2:(r=e.sent).is_success?$.onOpen():A(r.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:(t=e.sent).is_success?Q.onOpen():A(t.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.cart.map((function(e){return e.shop_id===t?(0,n.Z)((0,n.Z)({},e),{},{user_shop_voucher_id:0}):e})),e.next=3,oe({address_id:We,orders:r,user_voucher_id:Ue.id});case 3:(s=e.sent).is_success?_(s.data):A(s.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,r){var s,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=g.cart.map((function(e){return e.shop_id===t?(0,n.Z)((0,n.Z)({},e),{},{user_shop_voucher_id:r}):e})),e.next=3,oe({address_id:We,orders:s,user_voucher_id:Ue.id});case 3:(o=e.sent).is_success?_(o.data):A(o.message);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(null===xe||void 0===xe?void 0:xe.default_address_id)){e.next=3;break}return ne(M.Z.PROFILE),e.abrupt("return");case 3:return e.next=5,ce();case 5:(t=e.sent).is_success?ze(t.data):A(t.message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){0!==g.cart.length&&oe({address_id:We,user_voucher_id:Ue.id,orders:g.cart}).then((function(e){return _(e.data)})).catch((function(e){return A(e)}))}),[Ue]),(0,p.useEffect)((function(){var e;0!==g.cart.length&&(e=g.cart.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{courier_id:0,delivery_fee:0,etd:""})})),oe({address_id:We,user_voucher_id:Ue.id,orders:e}).then((function(e){return _(e.data)})).catch((function(e){return A(e)})))}),[We]),(0,p.useEffect)((function(){he(!0),0===g.cart.length&&ne(M.Z.CART,{replace:!0}),D().then((function(e){return ve(e),je(null!==e&&void 0!==e&&e.wallet_detail.is_activated?1:0),J().then((function(t){return K(t&&t.filter((function(t){return t.id===(null===e||void 0===e?void 0:e.default_sealabs_pay_id)}))[0]||{})})),null===e||void 0===e?void 0:e.default_sealabs_pay_id})).finally((function(){return he(!1)}))}),[]),(0,j.jsxs)(c.W2,{maxW:"container.xl",children:[(0,j.jsxs)(c.xu,{py:{base:"1em",sm:"1.5em",md:"2em",lg:"2.5em",xl:"4em"},children:[(0,j.jsx)(c.X6,{pb:3,size:{base:"md",sm:"lg"},children:"Checkout"}),(0,j.jsxs)(c.rj,{templateColumns:"repeat(3, 1fr)",gap:10,width:"100%",mb:{base:"7em",sm:"6em",md:"6em",lg:0,xl:0},children:[(0,j.jsx)(c.P4,{colSpan:{base:3,sm:3,md:3,lg:2,xl:2},children:(0,j.jsxs)(c.gC,{spacing:5,children:[(0,j.jsx)(c.xu,{width:"100%",children:(0,j.jsxs)(u.Od,{isLoaded:!de,children:[(0,j.jsxs)(c.gC,{alignItems:"flex-start",spacing:1,pb:"3",children:[(0,j.jsx)(c.iz,{}),(0,j.jsxs)(c.Ug,{width:"100%",alignItems:"center",pb:2,children:[(0,j.jsx)(c.xv,{textTransform:"uppercase",fontWeight:"bold",pt:"5",children:"Delivery Address"}),(0,j.jsxs)(l.J2,{placement:"bottom-end",isLazy:!0,offset:[0,15],children:[(0,j.jsx)(l.xo,{children:(0,j.jsx)(d.zx,{variant:"primaryLink",pt:"5",size:"sm",onClick:Xe,height:0,_active:{bg:"none"},children:0!==(null===xe||void 0===xe?void 0:xe.default_address_id)?"Change Address":"Set Address"})}),(0,j.jsx)(l.yk,{width:"10em",bg:"gray.100",borderRadius:"lg",children:(0,j.jsx)(l.b,{p:0,maxHeight:"30%",children:(0,j.jsx)(c.gC,{width:"100%",alignItems:"start",maxHeight:"20vh",overflowY:"scroll",children:Se.map((function(e){return(0,j.jsx)(c.xu,{justifyContent:"start",width:"100%",p:3,cursor:"pointer",fontWeight:"bold",fontSize:"sm",_hover:{bg:"light"},onClick:(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Oe(e.address_id);case 1:case"end":return t.stop()}}),t)}))),children:e.street_name+", "+e.district_ward},e.address_id)}))})})})]})]}),0!==(null===xe||void 0===xe?void 0:xe.default_address_id)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.xv,{fontSize:"md",fontWeight:"bold",children:g.address_detail.recipient_name}),(0,j.jsx)(c.xv,{fontSize:"0.9rem",fontWeight:"bold",color:"gray.500",children:g.address_detail.recipient_phone}),(0,j.jsxs)(c.xv,{fontSize:"sm",fontWeight:"normal",children:[g.address_detail.street_name,", ",g.address_detail.district_ward]}),(0,j.jsxs)(c.xv,{fontSize:"sm",fontWeight:"normal",children:[g.address_detail.sub_district,", ",g.address_detail.city_name,", ",g.address_detail.province_name,", ",g.address_detail.zip_code]})]})]}),(0,j.jsx)(c.iz,{})]})}),(0,j.jsx)(c.xu,{width:"100%",children:(0,j.jsx)(u.Od,{isLoaded:!de,children:g.cart.map((function(e,t){var r;return(0,j.jsxs)(c.xu,{width:"100%",children:[(0,j.jsx)(c.xu,{width:"100%",children:(0,j.jsxs)(c.gC,{alignItems:"flex-start",pb:"2",pt:0===t?"0":"5",children:[g.cart.length>1&&(0,j.jsxs)(c.xv,{fontWeight:"bold",textTransform:"uppercase",children:["Order ",t+1]}),(0,j.jsx)(v.Z,{shopName:e.shop_name,shopCityName:e.shop_city_name}),e.order_details.map((function(e,t){return(0,j.jsxs)(c.xu,{width:"100%",children:[(0,j.jsx)(c.xu,{pb:5,pt:0!==t?3:0,pe:5,children:(0,j.jsx)(x.Z,{name:e.product_name,qty:e.quantity,regularPrice:e.price_before_discount,discountedPrice:e.price_after_discount,total:e.total,variantName:e.variant_type_name.split(",").join(", "),productPhoto:e.product_photo})}),(0,j.jsx)(c.iz,{})]},e.variant_id)})),(0,j.jsxs)(c.kC,{width:"100%",justifyContent:"space-between",gap:3,pt:3,pb:5,alignItems:"start",direction:{base:"column",sm:"row"},children:[(0,j.jsxs)(c.gC,{alignItems:"start",width:{base:"100% ",sm:"50%"},spacing:0,children:[(0,j.jsxs)(c.Ug,{width:"100%",justifyContent:"space-between",children:[(0,j.jsx)(c.xv,{textTransform:"uppercase",fontWeight:"bold",children:"Voucher"}),(0,j.jsx)(d.zx,{variant:"primaryLink",p:0,height:0,size:"sm",_active:{bg:"none"},onClick:function(){return 0!==e.user_shop_voucher_id?qe(e.shop_id):Be(e.shop_id)},children:0!==e.user_shop_voucher_id?"Remove Voucher":"Select Voucher"})]}),0!==e.user_shop_voucher_id&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.xv,{fontWeight:"semibold",color:"darkLighten",fontSize:"sm",children:e.shop_voucher_detail.code}),(0,j.jsx)(c.xv,{color:"darkDarken",pt:2,fontWeight:"bold",children:0!==e.shop_voucher_detail.benefit?"Rp".concat((0,b.xG)(e.shop_voucher_detail.benefit)):"".concat(e.shop_voucher_detail.benefit_percentage,"%")})]})]}),(0,j.jsx)(c.iz,{orientation:"vertical",borderWidth:"1px",height:0!==e.user_shop_voucher_id||0!==e.courier_id?"5em":"1.5em",borderColor:"light",display:{base:"none",sm:"block"}}),(0,j.jsx)(c.iz,{orientation:"horizontal",borderWidth:"1px",height:"0.5em",borderColor:"light",display:{base:"block",sm:"none"}}),(0,j.jsxs)(c.gC,{alignItems:"start",width:{base:"100% ",sm:"50%"},spacing:0,children:[(0,j.jsxs)(c.Ug,{width:"100%",justifyContent:"space-between",children:[(0,j.jsx)(c.xv,{textTransform:"uppercase",fontWeight:"bold",children:"Shipping"}),(0,j.jsx)(c.xu,{children:(0,j.jsxs)(l.J2,{placement:"bottom-end",isLazy:!0,offset:[0,15],children:[(0,j.jsx)(l.xo,{children:(0,j.jsx)(d.zx,{variant:"primaryLink",p:0,height:0,size:"sm",_active:{bg:"none"},disabled:de,children:0!==e.courier_id?"Change Courier":"Select Courier"})}),(0,j.jsx)(l.yk,{width:"10em",bg:"gray.100",borderRadius:"lg",children:(0,j.jsx)(l.b,{p:0,children:(0,j.jsx)(c.gC,{width:"100%",alignItems:"start",children:e.list_couriers.couriers.map((function(t){return(0,j.jsx)(c.xu,{justifyContent:"start",width:"100%",p:3,cursor:"pointer",fontWeight:"bold",fontSize:"sm",onClick:function(){var r;return Fe(t.code,e.shop_city,e.total_weight,null===(r=e.list_couriers.couriers.find((function(e){return e.code===t.code})))||void 0===r?void 0:r.id,e.shop_id)},_hover:{bg:"light"},children:t.name},t.id)}))})})})]})})]}),0!==e.courier_id?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(c.xv,{fontWeight:"semibold",color:"darkLighten",fontSize:"sm",children:[null===(r=e.list_couriers.couriers.find((function(t){return t.id===e.courier_id})))||void 0===r?void 0:r.name," ","(",e.etd,")"]}),(0,j.jsxs)(c.xv,{color:"darkDarken",pt:2,fontWeight:"bold",children:["Rp",(0,b.xG)(e.delivery_fee)]})]}):""]})]}),(0,j.jsx)(c.iz,{}),(0,j.jsx)(h.UQ,{width:"100%",allowMultiple:!0,border:"none",children:(0,j.jsxs)(h.Qd,{border:"none",children:[(0,j.jsxs)(h.KF,{px:0,_hover:{background:"none"},children:[(0,j.jsxs)(c.Ug,{justifyContent:"space-between",width:"100%",children:[(0,j.jsx)(c.xv,{fontWeight:"bold",textTransform:"uppercase",children:"Total"}),(0,j.jsxs)(c.xv,{fontWeight:"bold",children:["Rp",(0,b.xG)(e.total)]})]}),(0,j.jsx)(h.XE,{})]}),(0,j.jsxs)(h.Hk,{px:0,children:[(0,j.jsxs)(c.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,j.jsx)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:"Subtotal"}),(0,j.jsxs)(c.xv,{fontWeight:"semibold",fontSize:"sm",color:"gray.500",children:["Rp",(0,b.xG)(e.subtotal)]})]}),(0,j.jsxs)(c.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,j.jsx)(c.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Delivery Fee"}),(0,j.jsxs)(c.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["Rp",(0,b.xG)(e.delivery_fee)]})]}),(0,j.jsxs)(c.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,j.jsx)(c.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Discount from shop"}),(0,j.jsxs)(c.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["- Rp",(0,b.xG)(e.shop_discount)]})]}),(0,j.jsxs)(c.Ug,{justifyContent:"space-between",width:"100%",pb:2,children:[(0,j.jsx)(c.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:"Discount from BAZR"}),(0,j.jsxs)(c.xv,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:["- Rp",(0,b.xG)(e.discount_marketplace)]})]})]})]})})]})}),t!==g.cart.length-1&&(0,j.jsx)(c.iz,{})]},e.shop_id)}))})})]})}),(0,j.jsx)(c.P4,{colSpan:{base:3,lg:1},display:{base:"block",sm:"block",md:"block",lg:"block",xl:"block"},children:(0,j.jsx)(H,{isLoading:de,user:xe,payload:g,onOpen:G,onOpenSealabsPay:q,paymentMethod:be,setPaymentMethod:je,getMarketplaceVoucher:Ne,marketplaceVoucher:Ue,setMarketplaceVoucher:Ge})})]})]}),(0,j.jsx)(w.Z,{isOpen:U,onOpen:G,onClose:F,handlePinChange:He,pinInput:Ze,setPinInput:we}),(0,j.jsx)(C.Z,{isLoading:de,isOpen:N,onClose:Y}),(0,j.jsx)(Z,{isOpen:Q.isOpen,onClose:Q.onClose,isLoading:Ie,vouchers:Le,checkoutData:g,onSelectVoucher:Ge,onSelectShopVoucher:Ye}),(0,j.jsx)(y,{isOpen:$.isOpen,onClose:$.onClose,isLoading:Ie,vouchers:Te,checkoutData:g,onSelectVoucher:Ge,onSelectShopVoucher:Ye})]})}}}]);